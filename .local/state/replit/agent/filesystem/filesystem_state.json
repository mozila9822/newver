{"file_contents":{"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","path":null,"size_bytes":140,"size_tokens":null},"vite-plugin-meta-images.ts":{"content":"import type { Plugin } from 'vite';\nimport fs from 'fs';\nimport path from 'path';\n\n/**\n * Vite plugin that updates og:image and twitter:image meta tags\n * to point to the app's opengraph image with the correct Replit domain.\n */\nexport function metaImagesPlugin(): Plugin {\n  return {\n    name: 'vite-plugin-meta-images',\n    transformIndexHtml(html) {\n      const baseUrl = getDeploymentUrl();\n      if (!baseUrl) {\n        log('[meta-images] no Replit deployment domain found, skipping meta tag updates');\n        return html;\n      }\n\n      // Check if opengraph image exists in public directory\n      const publicDir = path.resolve(process.cwd(), 'client', 'public');\n      const opengraphPngPath = path.join(publicDir, 'opengraph.png');\n      const opengraphJpgPath = path.join(publicDir, 'opengraph.jpg');\n      const opengraphJpegPath = path.join(publicDir, 'opengraph.jpeg');\n\n      let imageExt: string | null = null;\n      if (fs.existsSync(opengraphPngPath)) {\n        imageExt = 'png';\n      } else if (fs.existsSync(opengraphJpgPath)) {\n        imageExt = 'jpg';\n      } else if (fs.existsSync(opengraphJpegPath)) {\n        imageExt = 'jpeg';\n      }\n\n      if (!imageExt) {\n        log('[meta-images] OpenGraph image not found, skipping meta tag updates');\n        return html;\n      }\n\n      const imageUrl = `${baseUrl}/opengraph.${imageExt}`;\n\n      log('[meta-images] updating meta image tags to:', imageUrl);\n\n      html = html.replace(\n        /<meta\\s+property=\"og:image\"\\s+content=\"[^\"]*\"\\s*\\/>/g,\n        `<meta property=\"og:image\" content=\"${imageUrl}\" />`\n      );\n\n      html = html.replace(\n        /<meta\\s+name=\"twitter:image\"\\s+content=\"[^\"]*\"\\s*\\/>/g,\n        `<meta name=\"twitter:image\" content=\"${imageUrl}\" />`\n      );\n\n      return html;\n    },\n  };\n}\n\nfunction getDeploymentUrl(): string | null {\n  if (process.env.REPLIT_INTERNAL_APP_DOMAIN) {\n    const url = `https://${process.env.REPLIT_INTERNAL_APP_DOMAIN}`;\n    log('[meta-images] using internal app domain:', url);\n    return url;\n  }\n\n  if (process.env.REPLIT_DEV_DOMAIN) {\n    const url = `https://${process.env.REPLIT_DEV_DOMAIN}`;\n    log('[meta-images] using dev domain:', url);\n    return url;\n  }\n\n  return null;\n}\n\nfunction log(...args: any[]): void {\n  if (process.env.NODE_ENV === 'production') {\n    console.log(...args);\n  }\n}\n","path":null,"size_bytes":2333,"size_tokens":null},"client/src/components/ui/calendar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport {\n  ChevronDownIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n} from \"lucide-react\"\nimport { DayButton, DayPicker, getDefaultClassNames } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button, buttonVariants } from \"@/components/ui/button\"\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  captionLayout = \"label\",\n  buttonVariant = \"ghost\",\n  formatters,\n  components,\n  ...props\n}: React.ComponentProps<typeof DayPicker> & {\n  buttonVariant?: React.ComponentProps<typeof Button>[\"variant\"]\n}) {\n  const defaultClassNames = getDefaultClassNames()\n\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\n        \"bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent\",\n        String.raw`rtl:**:[.rdp-button\\_next>svg]:rotate-180`,\n        String.raw`rtl:**:[.rdp-button\\_previous>svg]:rotate-180`,\n        className\n      )}\n      captionLayout={captionLayout}\n      formatters={{\n        formatMonthDropdown: (date) =>\n          date.toLocaleString(\"default\", { month: \"short\" }),\n        ...formatters,\n      }}\n      classNames={{\n        root: cn(\"w-fit\", defaultClassNames.root),\n        months: cn(\n          \"relative flex flex-col gap-4 md:flex-row\",\n          defaultClassNames.months\n        ),\n        month: cn(\"flex w-full flex-col gap-4\", defaultClassNames.month),\n        nav: cn(\n          \"absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1\",\n          defaultClassNames.nav\n        ),\n        button_previous: cn(\n          buttonVariants({ variant: buttonVariant }),\n          \"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50\",\n          defaultClassNames.button_previous\n        ),\n        button_next: cn(\n          buttonVariants({ variant: buttonVariant }),\n          \"h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50\",\n          defaultClassNames.button_next\n        ),\n        month_caption: cn(\n          \"flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]\",\n          defaultClassNames.month_caption\n        ),\n        dropdowns: cn(\n          \"flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium\",\n          defaultClassNames.dropdowns\n        ),\n        dropdown_root: cn(\n          \"has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border\",\n          defaultClassNames.dropdown_root\n        ),\n        dropdown: cn(\n          \"bg-popover absolute inset-0 opacity-0\",\n          defaultClassNames.dropdown\n        ),\n        caption_label: cn(\n          \"select-none font-medium\",\n          captionLayout === \"label\"\n            ? \"text-sm\"\n            : \"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5\",\n          defaultClassNames.caption_label\n        ),\n        table: \"w-full border-collapse\",\n        weekdays: cn(\"flex\", defaultClassNames.weekdays),\n        weekday: cn(\n          \"text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal\",\n          defaultClassNames.weekday\n        ),\n        week: cn(\"mt-2 flex w-full\", defaultClassNames.week),\n        week_number_header: cn(\n          \"w-[--cell-size] select-none\",\n          defaultClassNames.week_number_header\n        ),\n        week_number: cn(\n          \"text-muted-foreground select-none text-[0.8rem]\",\n          defaultClassNames.week_number\n        ),\n        day: cn(\n          \"group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md\",\n          defaultClassNames.day\n        ),\n        range_start: cn(\n          \"bg-accent rounded-l-md\",\n          defaultClassNames.range_start\n        ),\n        range_middle: cn(\"rounded-none\", defaultClassNames.range_middle),\n        range_end: cn(\"bg-accent rounded-r-md\", defaultClassNames.range_end),\n        today: cn(\n          \"bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none\",\n          defaultClassNames.today\n        ),\n        outside: cn(\n          \"text-muted-foreground aria-selected:text-muted-foreground\",\n          defaultClassNames.outside\n        ),\n        disabled: cn(\n          \"text-muted-foreground opacity-50\",\n          defaultClassNames.disabled\n        ),\n        hidden: cn(\"invisible\", defaultClassNames.hidden),\n        ...classNames,\n      }}\n      components={{\n        Root: ({ className, rootRef, ...props }) => {\n          return (\n            <div\n              data-slot=\"calendar\"\n              ref={rootRef}\n              className={cn(className)}\n              {...props}\n            />\n          )\n        },\n        Chevron: ({ className, orientation, ...props }) => {\n          if (orientation === \"left\") {\n            return (\n              <ChevronLeftIcon className={cn(\"size-4\", className)} {...props} />\n            )\n          }\n\n          if (orientation === \"right\") {\n            return (\n              <ChevronRightIcon\n                className={cn(\"size-4\", className)}\n                {...props}\n              />\n            )\n          }\n\n          return (\n            <ChevronDownIcon className={cn(\"size-4\", className)} {...props} />\n          )\n        },\n        DayButton: CalendarDayButton,\n        WeekNumber: ({ children, ...props }) => {\n          return (\n            <td {...props}>\n              <div className=\"flex size-[--cell-size] items-center justify-center text-center\">\n                {children}\n              </div>\n            </td>\n          )\n        },\n        ...components,\n      }}\n      {...props}\n    />\n  )\n}\n\nfunction CalendarDayButton({\n  className,\n  day,\n  modifiers,\n  ...props\n}: React.ComponentProps<typeof DayButton>) {\n  const defaultClassNames = getDefaultClassNames()\n\n  const ref = React.useRef<HTMLButtonElement>(null)\n  React.useEffect(() => {\n    if (modifiers.focused) ref.current?.focus()\n  }, [modifiers.focused])\n\n  return (\n    <Button\n      ref={ref}\n      variant=\"ghost\"\n      size=\"icon\"\n      data-day={day.date.toLocaleDateString()}\n      data-selected-single={\n        modifiers.selected &&\n        !modifiers.range_start &&\n        !modifiers.range_end &&\n        !modifiers.range_middle\n      }\n      data-range-start={modifiers.range_start}\n      data-range-end={modifiers.range_end}\n      data-range-middle={modifiers.range_middle}\n      className={cn(\n        \"data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70\",\n        defaultClassNames.day,\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Calendar, CalendarDayButton }\n","path":null,"size_bytes":7569,"size_tokens":null},"client/src/components/booking-modal.tsx":{"content":"import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { useState, useEffect, ReactNode } from \"react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Calendar } from \"@/components/ui/calendar\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { format } from \"date-fns\";\nimport { Calendar as CalendarIcon, Check, Lock, User, CreditCard, Building2, Wallet } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { useAuth } from \"@/lib/auth-context\";\nimport { useStore } from \"@/lib/store-context\";\nimport { Link } from \"wouter\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport StripePaymentForm from \"./stripe-payment-form\";\n\ninterface PaymentOption {\n  provider: string;\n  name: string;\n  bankDetails?: any;\n}\n\n// Initialize Stripe - Will be loaded from database\nlet stripePromiseInstance: Promise<any> | null = null;\n\nasync function getStripePromise(): Promise<any> {\n  try {\n    const res = await fetch('/api/payment-settings/stripe');\n    if (res.ok) {\n      const stripeSettings = await res.json();\n      if (stripeSettings.enabled && stripeSettings.publishableKey) {\n        return loadStripe(stripeSettings.publishableKey);\n      }\n    }\n  } catch (error) {\n    // Silently fail - Stripe might not be configured yet\n    console.warn('Stripe settings not available:', error);\n  }\n  // Fallback to environment variable if available\n  const envKey = import.meta.env.VITE_STRIPE_PUBLISHABLE_KEY;\n  if (envKey) {\n    return loadStripe(envKey);\n  }\n  // Return null if no Stripe configuration is available\n  return null;\n}\n\nconst getStripePromiseInstance = () => {\n  if (!stripePromiseInstance) {\n    stripePromiseInstance = getStripePromise();\n  }\n  return stripePromiseInstance;\n};\n\n// Wrapper component for Stripe Elements\nfunction StripeElementsWrapper({ children, clientSecret }: { children: ReactNode; clientSecret: string }) {\n  const [stripePromise, setStripePromise] = useState<Promise<any> | null>(null);\n  const [stripeError, setStripeError] = useState<string | null>(null);\n\n  useEffect(() => {\n    getStripePromise().then(promise => {\n      if (promise) {\n        setStripePromise(promise);\n      } else {\n        setStripeError('Stripe is not configured. Please contact support or use another payment method.');\n      }\n    }).catch(error => {\n      console.error('Error initializing Stripe:', error);\n      setStripeError('Failed to initialize payment system. Please try again or use another payment method.');\n    });\n  }, []);\n\n  if (stripeError) {\n    return (\n      <div className=\"text-sm text-destructive bg-destructive/10 p-3 rounded-md\">\n        {stripeError}\n      </div>\n    );\n  }\n\n  if (!stripePromise) {\n    return <div className=\"text-sm text-muted-foreground\">Loading payment form...</div>;\n  }\n\n  return (\n    <Elements stripe={stripePromise} options={{ clientSecret }}>\n      {children}\n    </Elements>\n  );\n}\n\ninterface BookingModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  itemTitle: string;\n  itemPrice: string;\n  subTitle?: string;\n}\n\nexport default function BookingModal({ isOpen, onClose, itemTitle, itemPrice, subTitle }: BookingModalProps) {\n  const { toast } = useToast();\n  const { user } = useAuth();\n  const { paymentCards, addBooking } = useStore();\n  const [date, setDate] = useState<Date>();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [step, setStep] = useState(1);\n  \n  // Payment state\n  const [paymentMethod, setPaymentMethod] = useState<\"saved\" | \"stripe\" | \"paypal\" | \"bank_transfer\">(\"stripe\");\n  const [selectedCardId, setSelectedCardId] = useState<string>(\"\");\n  const [clientSecret, setClientSecret] = useState<string | null>(null);\n  const [paymentIntentId, setPaymentIntentId] = useState<string | null>(null);\n  const [availablePaymentMethods, setAvailablePaymentMethods] = useState<PaymentOption[]>([]);\n  const [loadingPaymentMethods, setLoadingPaymentMethods] = useState(true);\n\n  // Form fields\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\"\n  });\n\n  // Fetch available payment methods when modal opens\n  useEffect(() => {\n    if (isOpen) {\n      fetchPaymentOptions();\n    }\n  }, [isOpen]);\n\n  const fetchPaymentOptions = async () => {\n    setLoadingPaymentMethods(true);\n    try {\n      const res = await fetch('/api/payment-options');\n      if (res.ok) {\n        const methods = await res.json();\n        setAvailablePaymentMethods(methods);\n        \n        // Set default payment method based on what's available\n        if (methods.length > 0) {\n          const hasStripe = methods.some((m: PaymentOption) => m.provider === 'stripe');\n          const hasPaypal = methods.some((m: PaymentOption) => m.provider === 'paypal');\n          const hasBankTransfer = methods.some((m: PaymentOption) => m.provider === 'bank_transfer');\n          \n          // If user has saved cards and Stripe is enabled, default to saved\n          if (paymentCards.length > 0 && hasStripe) {\n            setPaymentMethod(\"saved\");\n            setSelectedCardId(paymentCards[0].id);\n          } else if (hasStripe) {\n            setPaymentMethod(\"stripe\");\n          } else if (hasPaypal) {\n            setPaymentMethod(\"paypal\");\n          } else if (hasBankTransfer) {\n            setPaymentMethod(\"bank_transfer\");\n          }\n        }\n      }\n    } catch (error) {\n      console.warn('Failed to fetch payment options:', error);\n    } finally {\n      setLoadingPaymentMethods(false);\n    }\n  };\n\n  // Pre-fill user data when modal opens or user changes\n  useEffect(() => {\n    if (user) {\n      setFormData({\n        name: user.name || \"\",\n        email: user.email || \"\"\n      });\n    }\n  }, [user, isOpen]);\n\n  // Create payment intent when user selects Stripe payment method\n  // Only create if Stripe is actually available\n  useEffect(() => {\n    const stripeEnabled = availablePaymentMethods.some(m => m.provider === 'stripe');\n    if (paymentMethod === \"stripe\" && !clientSecret && isOpen && stripeEnabled && !loadingPaymentMethods) {\n      createPaymentIntent();\n    }\n  }, [paymentMethod, isOpen, availablePaymentMethods, loadingPaymentMethods]);\n\n  const createPaymentIntent = async () => {\n    try {\n      const response = await fetch('/api/create-payment-intent', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          amount: itemPrice,\n          currency: 'usd',\n          metadata: {\n            itemTitle,\n            customerName: formData.name,\n            customerEmail: formData.email,\n          }\n        })\n      });\n\n      if (response.ok) {\n        const { clientSecret: secret, paymentIntentId: intentId } = await response.json();\n        setClientSecret(secret);\n        setPaymentIntentId(intentId);\n      } else {\n        const errorData = await response.json().catch(() => ({ message: 'Failed to create payment intent' }));\n        throw new Error(errorData.message || 'Failed to create payment intent');\n      }\n    } catch (error: any) {\n      console.error('Payment intent creation error:', error);\n      toast({\n        title: \"Payment Error\",\n        description: error.message || \"Failed to initialize payment. Stripe may not be configured. Please use bank transfer or contact support.\",\n        variant: \"destructive\"\n      });\n      // Don't prevent user from using other payment methods\n    }\n  };\n\n  const handlePaymentSuccess = async (paymentIntentId: string) => {\n    setIsSubmitting(true);\n    \n    try {\n      // Confirm payment on server\n      const confirmResponse = await fetch('/api/confirm-payment', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ paymentIntentId })\n      });\n\n      if (!confirmResponse.ok) {\n        throw new Error('Payment confirmation failed');\n      }\n\n      // Save booking to database with payment intent ID\n      const bookingResponse = await fetch('/api/bookings', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          customer: formData.name,\n          item: itemTitle,\n          date: date ? date.toISOString().split('T')[0] : new Date().toISOString().split('T')[0],\n          amount: itemPrice,\n          status: \"Confirmed\",\n          payment_intent_id: paymentIntentId\n        })\n      });\n\n      if (bookingResponse.ok) {\n        const newBooking = await bookingResponse.json();\n        setStep(2); // Success step\n        \n        // Also update local store\n        addBooking(newBooking);\n\n        toast({\n          title: \"Payment Successful & Booked\",\n          description: `Your reservation for ${itemTitle} has been confirmed and payment processed.`,\n        });\n      } else {\n        throw new Error('Failed to create booking');\n      }\n    } catch (error) {\n      toast({\n        title: \"Booking Failed\",\n        description: \"Payment was successful but booking creation failed. Please contact support.\",\n        variant: \"destructive\"\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handlePaymentError = (error: string) => {\n    toast({\n      title: \"Payment Failed\",\n      description: error,\n      variant: \"destructive\"\n    });\n  };\n\n  const handleBooking = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    // If using bank transfer, create booking with Pending status\n    if (paymentMethod === \"bank_transfer\") {\n      setIsSubmitting(true);\n      \n      try {\n        const response = await fetch('/api/bookings', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            customer: formData.name,\n            item: itemTitle,\n            date: date ? date.toISOString().split('T')[0] : new Date().toISOString().split('T')[0],\n            amount: itemPrice,\n            status: \"Pending\",\n            payment_method: \"bank_transfer\"\n          })\n        });\n\n        if (response.ok) {\n          const newBooking = await response.json();\n          setStep(2);\n          addBooking(newBooking);\n\n          toast({\n            title: \"Booking Created\",\n            description: `Your booking is pending payment confirmation. Please complete the bank transfer using the details provided.`,\n          });\n        } else {\n          throw new Error('Failed to create booking');\n        }\n      } catch (error) {\n        toast({\n          title: \"Booking Failed\",\n          description: \"There was an error creating your booking. Please try again.\",\n          variant: \"destructive\"\n        });\n      } finally {\n        setIsSubmitting(false);\n      }\n      return;\n    }\n\n    // If using PayPal, create booking with Pending status and show PayPal instructions\n    if (paymentMethod === \"paypal\") {\n      setIsSubmitting(true);\n      \n      try {\n        const response = await fetch('/api/bookings', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            customer: formData.name,\n            item: itemTitle,\n            date: date ? date.toISOString().split('T')[0] : new Date().toISOString().split('T')[0],\n            amount: itemPrice,\n            status: \"Pending\",\n            payment_method: \"paypal\"\n          })\n        });\n\n        if (response.ok) {\n          const newBooking = await response.json();\n          setStep(2);\n          addBooking(newBooking);\n\n          toast({\n            title: \"Booking Created\",\n            description: `Your booking is pending PayPal payment confirmation. You will receive payment instructions via email.`,\n          });\n        } else {\n          throw new Error('Failed to create booking');\n        }\n      } catch (error) {\n        toast({\n          title: \"Booking Failed\",\n          description: \"There was an error creating your booking. Please try again.\",\n          variant: \"destructive\"\n        });\n      } finally {\n        setIsSubmitting(false);\n      }\n      return;\n    }\n    \n    // If using saved card, process directly (mock payment for saved cards)\n    if (paymentMethod === \"saved\" && selectedCardId) {\n      setIsSubmitting(true);\n      \n      try {\n        const response = await fetch('/api/bookings', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({\n            customer: formData.name,\n            item: itemTitle,\n            date: date ? date.toISOString().split('T')[0] : new Date().toISOString().split('T')[0],\n            amount: itemPrice,\n            status: \"Confirmed\",\n            payment_method: \"saved_card\"\n          })\n        });\n\n        if (response.ok) {\n          const newBooking = await response.json();\n          setStep(2);\n          addBooking(newBooking);\n\n          toast({\n            title: \"Payment Successful & Booked\",\n            description: `Paid with card ending in ${paymentCards.find(c => c.id === selectedCardId)?.last4}. Reservation saved.`,\n          });\n        } else {\n          throw new Error('Failed to create booking');\n        }\n      } catch (error) {\n        toast({\n          title: \"Booking Failed\",\n          description: \"There was an error creating your booking. Please try again.\",\n          variant: \"destructive\"\n        });\n      } finally {\n        setIsSubmitting(false);\n      }\n    }\n    // For Stripe card payment, payment will be handled by Stripe form\n  };\n\n  const reset = () => {\n    setStep(1);\n    setDate(undefined);\n    setClientSecret(null);\n    setPaymentIntentId(null);\n    setPaymentMethod(\"stripe\");\n    setAvailablePaymentMethods([]);\n    setLoadingPaymentMethods(true);\n    onClose();\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={(open) => !open && reset()}>\n      <DialogContent className=\"sm:max-w-[500px] font-sans max-h-[90vh] overflow-y-auto\">\n        {!user ? (\n          // Not logged in state\n          <div className=\"py-8 flex flex-col items-center text-center space-y-6\">\n            <div className=\"w-16 h-16 bg-muted rounded-full flex items-center justify-center\">\n              <Lock className=\"w-8 h-8 text-muted-foreground\" />\n            </div>\n            <div>\n              <DialogTitle className=\"font-serif text-2xl mb-2\">Account Required</DialogTitle>\n              <DialogDescription>\n                You must be logged in to book <span className=\"font-semibold text-primary\">{itemTitle}</span>.\n              </DialogDescription>\n            </div>\n            <div className=\"w-full space-y-3\">\n              <Link href=\"/login\">\n                <Button className=\"w-full\" onClick={onClose}>\n                  <User className=\"w-4 h-4 mr-2\" /> Sign In / Register\n                </Button>\n              </Link>\n              <Button variant=\"outline\" className=\"w-full\" onClick={onClose}>\n                Cancel\n              </Button>\n            </div>\n            <p className=\"text-xs text-muted-foreground\">\n              Creating an account allows you to manage bookings, earn rewards, and get exclusive offers.\n            </p>\n          </div>\n        ) : step === 1 ? (\n          // Booking Form\n          <>\n            <DialogHeader>\n              <DialogTitle className=\"font-serif text-2xl\">Book Your Experience</DialogTitle>\n              <DialogDescription>\n                Complete your reservation for <span className=\"font-semibold text-primary\">{itemTitle}</span>.\n                {subTitle && <div className=\"mt-1 font-medium text-foreground\">{subTitle}</div>}\n              </DialogDescription>\n            </DialogHeader>\n            \n            <div className=\"bg-muted/30 p-4 rounded-md mb-4 border border-border/50\">\n               <div className=\"flex justify-between items-center text-sm\">\n                  <span className=\"text-muted-foreground\">Price per unit</span>\n                  <span className=\"font-semibold text-lg text-primary\">{itemPrice}</span>\n               </div>\n            </div>\n\n            <form onSubmit={handleBooking} className=\"space-y-4\">\n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"name\">Full Name</Label>\n                <Input \n                  id=\"name\" \n                  value={formData.name}\n                  onChange={(e) => setFormData({...formData, name: e.target.value})}\n                  placeholder=\"John Doe\" \n                  required \n                  className=\"focus-visible:ring-secondary\" \n                />\n              </div>\n              \n              <div className=\"grid gap-2\">\n                <Label htmlFor=\"email\">Email Address</Label>\n                <Input \n                  id=\"email\" \n                  type=\"email\" \n                  value={formData.email}\n                  onChange={(e) => setFormData({...formData, email: e.target.value})}\n                  placeholder=\"john@example.com\" \n                  required \n                  className=\"focus-visible:ring-secondary\" \n                />\n              </div>\n\n              <div className=\"grid gap-2\">\n                <Label>Select Date</Label>\n                <Popover>\n                  <PopoverTrigger asChild>\n                    <Button\n                      variant={\"outline\"}\n                      className={cn(\n                        \"justify-start text-left font-normal\",\n                        !date && \"text-muted-foreground\"\n                      )}\n                    >\n                      <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                      {date ? format(date, \"PPP\") : <span>Pick a date</span>}\n                    </Button>\n                  </PopoverTrigger>\n                  <PopoverContent className=\"w-auto p-0\">\n                    <Calendar\n                      mode=\"single\"\n                      selected={date}\n                      onSelect={setDate}\n                      initialFocus\n                    />\n                  </PopoverContent>\n                </Popover>\n              </div>\n\n              <div className=\"pt-4 border-t border-border/50\">\n                <Label className=\"mb-3 block\">Payment Method</Label>\n                \n                {loadingPaymentMethods ? (\n                  <div className=\"text-sm text-muted-foreground py-4 text-center\">\n                    Loading payment options...\n                  </div>\n                ) : availablePaymentMethods.length === 0 ? (\n                  <div className=\"text-sm text-destructive bg-destructive/10 p-3 rounded-md\">\n                    No payment methods are currently available. Please contact support.\n                  </div>\n                ) : (\n                  <RadioGroup \n                    value={paymentMethod} \n                    onValueChange={(v) => setPaymentMethod(v as \"saved\" | \"stripe\" | \"paypal\" | \"bank_transfer\")}\n                    className=\"flex flex-col gap-3\"\n                  >\n                    {/* Saved Cards Option - only show if Stripe is enabled and user has saved cards */}\n                    {paymentCards.length > 0 && availablePaymentMethods.some(m => m.provider === 'stripe') && (\n                      <>\n                        <div className=\"flex items-center space-x-2 border p-3 rounded-md cursor-pointer hover:bg-muted/20 transition-colors\" data-testid=\"payment-method-saved\">\n                          <RadioGroupItem value=\"saved\" id=\"pm-saved\" />\n                          <Label htmlFor=\"pm-saved\" className=\"flex items-center gap-2 cursor-pointer font-normal flex-1\">\n                            <CreditCard className=\"w-4 h-4 text-primary\" /> Pay with saved card\n                          </Label>\n                        </div>\n                        \n                        {paymentMethod === \"saved\" && (\n                          <div className=\"pl-6 pr-2 pb-2 space-y-2\">\n                            <RadioGroup \n                              value={selectedCardId} \n                              onValueChange={setSelectedCardId}\n                            >\n                              {paymentCards.map(card => (\n                                <div key={card.id} className=\"flex items-center justify-between p-2 rounded hover:bg-muted/30 text-sm\" data-testid={`saved-card-${card.id}`}>\n                                  <div className=\"flex items-center gap-2\">\n                                    <RadioGroupItem value={card.id} id={card.id} />\n                                    <Label htmlFor={card.id} className=\"font-normal cursor-pointer\">\n                                      {card.brand} â€¢â€¢â€¢â€¢ {card.last4}\n                                    </Label>\n                                  </div>\n                                  <span className=\"text-xs text-muted-foreground\">{card.expiry}</span>\n                                </div>\n                              ))}\n                            </RadioGroup>\n                          </div>\n                        )}\n                      </>\n                    )}\n\n                    {/* Stripe/Credit Card Option */}\n                    {availablePaymentMethods.some(m => m.provider === 'stripe') && (\n                      <>\n                        <div className=\"flex items-center space-x-2 border p-3 rounded-md cursor-pointer hover:bg-muted/20 transition-colors\" data-testid=\"payment-method-stripe\">\n                          <RadioGroupItem value=\"stripe\" id=\"pm-stripe\" />\n                          <Label htmlFor=\"pm-stripe\" className=\"flex items-center gap-2 cursor-pointer font-normal flex-1\">\n                            <CreditCard className=\"w-4 h-4 text-muted-foreground\" /> Credit/Debit Card\n                          </Label>\n                        </div>\n                        \n                        {paymentMethod === \"stripe\" && clientSecret && (\n                          <div className=\"pl-2 pt-2\">\n                            <StripeElementsWrapper clientSecret={clientSecret}>\n                              <StripePaymentForm\n                                amount={itemPrice}\n                                onSuccess={handlePaymentSuccess}\n                                onError={handlePaymentError}\n                              />\n                            </StripeElementsWrapper>\n                          </div>\n                        )}\n                        {paymentMethod === \"stripe\" && !clientSecret && (\n                          <div className=\"pl-2 text-xs text-muted-foreground\">\n                            Initializing secure payment form...\n                          </div>\n                        )}\n                      </>\n                    )}\n\n                    {/* PayPal Option */}\n                    {availablePaymentMethods.some(m => m.provider === 'paypal') && (\n                      <>\n                        <div className=\"flex items-center space-x-2 border p-3 rounded-md cursor-pointer hover:bg-muted/20 transition-colors\" data-testid=\"payment-method-paypal\">\n                          <RadioGroupItem value=\"paypal\" id=\"pm-paypal\" />\n                          <Label htmlFor=\"pm-paypal\" className=\"flex items-center gap-2 cursor-pointer font-normal flex-1\">\n                            <Wallet className=\"w-4 h-4 text-blue-600\" /> PayPal\n                          </Label>\n                        </div>\n                        \n                        {paymentMethod === \"paypal\" && (\n                          <div className=\"pl-2 pt-2 space-y-3 border rounded-md p-4 bg-blue-50/50\">\n                            <div className=\"flex items-center gap-2\">\n                              <Wallet className=\"w-5 h-5 text-blue-600\" />\n                              <span className=\"font-medium text-blue-800\">Pay with PayPal</span>\n                            </div>\n                            <p className=\"text-sm text-blue-700\">\n                              After confirming your booking, you will receive an email with PayPal payment instructions.\n                            </p>\n                            <div className=\"bg-blue-100 border border-blue-200 rounded-md p-3 text-xs text-blue-800\">\n                              <strong>Secure Payment:</strong> Your booking will be confirmed once PayPal payment is received.\n                            </div>\n                          </div>\n                        )}\n                      </>\n                    )}\n\n                    {/* Bank Transfer Option */}\n                    {availablePaymentMethods.some(m => m.provider === 'bank_transfer') && (\n                      <>\n                        <div className=\"flex items-center space-x-2 border p-3 rounded-md cursor-pointer hover:bg-muted/20 transition-colors\" data-testid=\"payment-method-bank\">\n                          <RadioGroupItem value=\"bank_transfer\" id=\"pm-bank\" />\n                          <Label htmlFor=\"pm-bank\" className=\"flex items-center gap-2 cursor-pointer font-normal flex-1\">\n                            <Building2 className=\"w-4 h-4 text-muted-foreground\" /> Bank Transfer\n                          </Label>\n                        </div>\n\n                        {paymentMethod === \"bank_transfer\" && (\n                          <div className=\"pl-2 pt-2 space-y-4 border rounded-md p-4 bg-muted/20\">\n                            <div>\n                              <h4 className=\"font-semibold mb-3\">Bank Transfer Details</h4>\n                              {(() => {\n                                const bankOption = availablePaymentMethods.find(m => m.provider === 'bank_transfer');\n                                const bankDetails = bankOption?.bankDetails;\n                                \n                                if (!bankDetails) {\n                                  return (\n                                    <p className=\"text-sm text-muted-foreground\">\n                                      Bank transfer details will be sent to your email after booking.\n                                    </p>\n                                  );\n                                }\n                                \n                                return (\n                                  <div className=\"space-y-3 text-sm\">\n                                    {bankDetails.bankName && (\n                                      <div>\n                                        <span className=\"font-medium text-muted-foreground\">Bank Name:</span>\n                                        <span className=\"ml-2\">{bankDetails.bankName}</span>\n                                      </div>\n                                    )}\n                                    {bankDetails.accountHolderName && (\n                                      <div>\n                                        <span className=\"font-medium text-muted-foreground\">Account Holder:</span>\n                                        <span className=\"ml-2\">{bankDetails.accountHolderName}</span>\n                                      </div>\n                                    )}\n                                    {bankDetails.accountNumber && (\n                                      <div>\n                                        <span className=\"font-medium text-muted-foreground\">Account Number:</span>\n                                        <span className=\"ml-2 font-mono\">{bankDetails.accountNumber}</span>\n                                      </div>\n                                    )}\n                                    {bankDetails.routingNumber && (\n                                      <div>\n                                        <span className=\"font-medium text-muted-foreground\">Routing Number:</span>\n                                        <span className=\"ml-2 font-mono\">{bankDetails.routingNumber}</span>\n                                      </div>\n                                    )}\n                                    {bankDetails.swiftCode && (\n                                      <div>\n                                        <span className=\"font-medium text-muted-foreground\">SWIFT Code:</span>\n                                        <span className=\"ml-2 font-mono\">{bankDetails.swiftCode}</span>\n                                      </div>\n                                    )}\n                                    {bankDetails.bankAddress && (\n                                      <div>\n                                        <span className=\"font-medium text-muted-foreground\">Bank Address:</span>\n                                        <span className=\"ml-2\">{bankDetails.bankAddress}</span>\n                                      </div>\n                                    )}\n                                    {bankDetails.instructions && (\n                                      <div className=\"pt-2 border-t\">\n                                        <span className=\"font-medium text-muted-foreground block mb-1\">Instructions:</span>\n                                        <p className=\"text-xs text-muted-foreground whitespace-pre-line\">\n                                          {bankDetails.instructions}\n                                        </p>\n                                      </div>\n                                    )}\n                                  </div>\n                                );\n                              })()}\n                            </div>\n                            <div className=\"bg-yellow-50 border border-yellow-200 rounded-md p-3 text-xs text-yellow-800\">\n                              <strong>Note:</strong> Please include your booking reference in the transfer memo. Your booking will be confirmed once payment is received.\n                            </div>\n                          </div>\n                        )}\n                      </>\n                    )}\n                  </RadioGroup>\n                )}\n              </div>\n\n              {/* Submit Button - show for saved card, paypal, or bank transfer */}\n              {(paymentMethod === \"saved\" || paymentMethod === \"paypal\" || paymentMethod === \"bank_transfer\") && !loadingPaymentMethods && (\n                <DialogFooter className=\"mt-6\">\n                  <Button type=\"submit\" className=\"w-full bg-primary hover:bg-primary/90 text-white\" disabled={isSubmitting} data-testid=\"button-confirm-booking\">\n                    {isSubmitting ? \"Processing...\" : \n                     paymentMethod === \"bank_transfer\" ? \"Confirm Booking\" : \n                     paymentMethod === \"paypal\" ? \"Confirm & Pay with PayPal\" :\n                     `Pay ${itemPrice} & Confirm`}\n                  </Button>\n                </DialogFooter>\n              )}\n              {paymentMethod === \"stripe\" && !clientSecret && !loadingPaymentMethods && (\n                <DialogFooter className=\"mt-6\">\n                  <Button type=\"button\" className=\"w-full bg-primary hover:bg-primary/90 text-white\" disabled>\n                    Initializing Payment...\n                  </Button>\n                </DialogFooter>\n              )}\n            </form>\n          </>\n        ) : (\n          // Success State\n          <div className=\"py-10 flex flex-col items-center justify-center text-center space-y-4\">\n            <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-2\">\n              <Check className=\"w-8 h-8 text-green-600\" />\n            </div>\n            <DialogTitle className=\"font-serif text-2xl\">\n              {paymentMethod === \"bank_transfer\" ? \"Booking Created!\" : \"Booking Confirmed!\"}\n            </DialogTitle>\n            <p className=\"text-muted-foreground px-4\">\n              {paymentMethod === \"bank_transfer\" ? (\n                <>\n                  Your booking has been created and is pending payment confirmation. \n                  Please complete the bank transfer using the details provided. \n                  We will confirm your booking once payment is received.\n                  <br /><br />\n                  Confirmation sent to <strong>{formData.email}</strong>.\n                </>\n              ) : (\n                <>\n                  Thank you for choosing Voyager Hub. We have sent a confirmation email to <strong>{formData.email}</strong>.\n                </>\n              )}\n            </p>\n            <Button onClick={reset} className=\"mt-4 bg-secondary hover:bg-secondary/90 text-white\">\n              Done\n            </Button>\n          </div>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n}","path":null,"size_bytes":32779,"size_tokens":null},"QUICK_START.md":{"content":"# ðŸš€ Quick Start Guide\n\n## One-Command Startup\n\nSimply run:\n\n```bash\nnpm run start:auto\n```\n\n**That's it!** The script will:\n- âœ… Check Node.js version\n- âœ… Install missing dependencies\n- âœ… Test MySQL connection\n- âœ… Build the project if needed\n- âœ… Start the server\n\n## What Happens\n\nThe automated startup script (`start.js`) performs all necessary checks and fixes:\n\n1. **Node.js Check** - Verifies Node.js 20+ is installed\n2. **Dependencies** - Automatically installs missing packages\n3. **Database Test** - Connects to MySQL and verifies tables\n4. **Build Check** - Builds project if production files are missing\n5. **Server Start** - Starts the server on port 5000\n\n## After Startup\n\nOnce the server starts, you'll see:\n```\nâœ… Database connected successfully\nâœ… Database tables initialized successfully\n[express] serving on port 5000\n```\n\nThen open your browser to: **http://localhost:5000**\n\n## Troubleshooting\n\n### If the script fails:\n\n1. **Check Node.js**: Must be version 20 or higher\n   ```bash\n   node --version\n   ```\n\n2. **Check database**: Run diagnostics\n   ```bash\n   npm run diagnose\n   ```\n\n3. **Manual steps** (if script doesn't work):\n   ```bash\n   npm install\n   npm run build\n   npm start\n   ```\n\n## Platform-Specific\n\n**Windows:**\n```bash\nstart.bat\n```\n\n**Linux/Mac:**\n```bash\nchmod +x start.sh\n./start.sh\n```\n\n## Database Connection\n\nThe script automatically:\n- Tests MySQL connection\n- Verifies database credentials\n- Checks if tables exist\n- Creates tables if missing (on server startup)\n\nDatabase is configured in `server/db.ts` and will connect automatically.\n\n---\n\n**Need help?** Check `DEPLOYMENT_TROUBLESHOOTING.md` for detailed solutions.\n\n","path":null,"size_bytes":1683,"size_tokens":null},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","path":null,"size_bytes":1877,"size_tokens":null},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","path":null,"size_bytes":1598,"size_tokens":null},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","path":null,"size_bytes":1419,"size_tokens":null},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n      {children}\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","path":null,"size_bytes":4280,"size_tokens":null},"client/src/components/last-minute-card.tsx":{"content":"import { motion } from \"framer-motion\";\nimport { MapPin, Star, Clock, Tag } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Link } from \"wouter\";\nimport { useStore } from \"@/lib/store-context\";\nimport { generateSlug, formatPrice } from \"@/lib/utils\";\n\ninterface LastMinuteCardProps {\n  id: string;\n  image: string;\n  title: string;\n  location: string;\n  price: string;\n  originalPrice: string;\n  rating?: number;\n  endsIn: string;\n  discount: string;\n}\n\nexport default function LastMinuteCard({ id, image, title, location, price, originalPrice, rating: propRating, endsIn, discount }: LastMinuteCardProps) {\n  const { getReviewStats, detectedCurrency } = useStore();\n  const stats = getReviewStats(id, 'offer');\n  const rating = stats.reviewCount > 0 ? stats.averageRating : (propRating || 0);\n  const reviewCount = stats.reviewCount;\n  const slug = generateSlug(title);\n  return (\n    <motion.div \n      initial={{ opacity: 0, y: 20 }}\n      whileInView={{ opacity: 1, y: 0 }}\n      viewport={{ once: true }}\n      transition={{ duration: 0.5 }}\n      className=\"group relative bg-card rounded-lg overflow-hidden border border-border/50 shadow-md hover:shadow-xl transition-all duration-300 flex flex-col h-full ring-1 ring-destructive/10\"\n    >\n      <Link href={`/details/offer/${slug}`} className=\"absolute inset-0 z-20 focus:outline-none\">\n        <span className=\"sr-only\">View offer details for {title}</span>\n      </Link>\n\n      <div className=\"absolute top-4 left-4 z-10 pointer-events-none\">\n          <Badge variant=\"destructive\" className=\"font-bold animate-pulse\">{discount}</Badge>\n      </div>\n\n      <div className=\"relative h-[260px] overflow-hidden\">\n        <img \n          src={image} \n          alt={title} \n          className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110\"\n        />\n        <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-70\" />\n        \n        <div className=\"absolute bottom-4 left-4 right-4 flex justify-between items-end text-white\">\n            <div className=\"flex items-center gap-1 bg-black/50 backdrop-blur-sm px-2 py-1 rounded text-xs font-mono text-red-300 border border-red-500/30\">\n              <Clock className=\"w-3 h-3\" />\n              <span>Ends in: {endsIn}</span>\n            </div>\n        </div>\n      </div>\n\n      <div className=\"p-6 flex flex-col flex-grow bg-gradient-to-b from-white to-red-50/30 dark:from-gray-900 dark:to-red-900/10\">\n        <div className=\"flex items-center gap-2 text-muted-foreground text-xs uppercase tracking-wider mb-2\">\n          <MapPin className=\"w-3 h-3 text-destructive\" />\n          <span>{location}</span>\n        </div>\n        \n        <h3 className=\"font-serif text-xl font-bold mb-2 group-hover:text-destructive transition-colors\">{title}</h3>\n        \n        <div className=\"flex items-center gap-1 mb-4 text-sm\">\n          {reviewCount > 0 ? (\n            <>\n              <Star className=\"w-4 h-4 fill-yellow-400 text-yellow-400\" />\n              <span className=\"font-medium\">{rating}</span>\n              <span className=\"text-muted-foreground text-xs ml-1\">({reviewCount} review{reviewCount !== 1 ? 's' : ''})</span>\n            </>\n          ) : (\n            <>\n              <Star className=\"w-4 h-4 text-muted-foreground\" />\n              <span className=\"text-muted-foreground text-xs\">No reviews yet</span>\n            </>\n          )}\n        </div>\n\n        <div className=\"mt-auto pt-4 border-t border-border/50 flex items-center justify-between gap-2 relative z-30\">\n          <div>\n            <span className=\"text-xs text-muted-foreground block line-through\">{formatPrice(originalPrice, detectedCurrency)}</span>\n            <span className=\"text-2xl font-bold text-destructive\">{formatPrice(price, detectedCurrency)}</span>\n          </div>\n          <Link href={`/details/offer/${slug}`}>\n            <Button \n              className=\"bg-destructive hover:bg-destructive/90 text-white shadow-lg shadow-destructive/20\"\n            >\n              Claim <Tag className=\"w-4 h-4 ml-2\" />\n            </Button>\n          </Link>\n        </div>\n      </div>\n    </motion.div>\n  );\n}","path":null,"size_bytes":4276,"size_tokens":null},"client/src/pages/home.tsx":{"content":"import Layout from \"@/components/layout\";\nimport { Button } from \"@/components/ui/button\";\nimport { motion } from \"framer-motion\";\nimport heroImage from \"@assets/generated_images/luxury_bora_bora_overwater_bungalows_at_sunset.png\";\nimport TripCard from \"@/components/trip-card\";\nimport LastMinuteCard from \"@/components/last-minute-card\";\nimport { useStore } from \"@/lib/store-context\";\nimport { ArrowRight, Globe, Shield, Star, Clock, Car } from \"lucide-react\";\nimport { Link } from \"wouter\";\nimport { generateSlug } from \"@/lib/utils\";\n\nexport default function Home() {\n  const { trips, hotels, cars, offers, loading } = useStore();\n  const featuredTrips = trips.slice(0, 3);\n  const featuredCars = cars.slice(0, 3);\n  const featuredOffers = offers.slice(0, 3);\n  const featuredHotel = hotels[0];\n\n  return (\n    <Layout>\n      {/* Hero Section */}\n      <section className=\"relative h-screen flex items-center justify-center overflow-hidden\">\n        <div className=\"absolute inset-0 z-0\">\n          <img \n            src={heroImage} \n            alt=\"Luxury Travel Hero\" \n            className=\"w-full h-full object-cover\"\n          />\n          <div className=\"absolute inset-0 bg-black/30\" />\n        </div>\n        \n        <div className=\"relative z-10 container mx-auto px-6 text-center text-white\">\n          <motion.div\n            initial={{ opacity: 0, y: 30 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.8, delay: 0.2 }}\n          >\n            <h1 className=\"font-serif text-5xl md:text-7xl lg:text-8xl font-bold mb-6 tracking-tight drop-shadow-lg\">\n              Discover the <span className=\"text-secondary italic\">Extraordinary</span>\n            </h1>\n            <p className=\"text-lg md:text-2xl font-light max-w-2xl mx-auto mb-10 text-white/90 drop-shadow-md\">\n              Curated luxury travel experiences for those who seek the world's most exclusive destinations.\n            </p>\n            <div className=\"flex flex-col md:flex-row gap-4 justify-center\">\n              <Link href=\"/trips\">\n                <Button size=\"lg\" className=\"bg-secondary hover:bg-secondary/90 text-white rounded-full px-8 py-6 text-lg font-medium shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1\">\n                  Explore Journeys\n                </Button>\n              </Link>\n              <Link href=\"/hotels\">\n                <Button size=\"lg\" variant=\"outline\" className=\"bg-white/10 backdrop-blur-sm border-white/30 hover:bg-white hover:text-primary rounded-full px-8 py-6 text-lg font-medium text-white shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1\">\n                  View Hotels\n                </Button>\n              </Link>\n            </div>\n          </motion.div>\n        </div>\n\n        <div className=\"absolute bottom-10 left-0 right-0 flex justify-center animate-bounce\">\n           <div className=\"w-6 h-10 border-2 border-white/50 rounded-full flex justify-center pt-2\">\n             <div className=\"w-1 h-2 bg-white rounded-full\" />\n           </div>\n        </div>\n      </section>\n\n      {/* Last Minute Offers Section */}\n      <section className=\"py-20 bg-gradient-to-b from-background to-red-50/50 dark:to-red-950/20\">\n         <div className=\"container mx-auto px-6\">\n            <div className=\"flex flex-col md:flex-row justify-between items-end mb-12\">\n              <div>\n                <div className=\"flex items-center gap-2 mb-2\">\n                   <span className=\"text-destructive font-bold uppercase tracking-widest text-sm block\">Limited Time Only</span>\n                   <Clock className=\"w-4 h-4 text-destructive animate-pulse\" />\n                </div>\n                <h2 className=\"font-serif text-4xl md:text-5xl font-bold text-primary\">Last Minute Offers</h2>\n              </div>\n              <Link href=\"/last-minute\">\n                <Button variant=\"outline\" className=\"border-destructive text-destructive hover:bg-destructive hover:text-white mt-4 md:mt-0 group\">\n                  View All Deals <ArrowRight className=\"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform\" />\n                </Button>\n              </Link>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n               {featuredOffers.map((offer) => (\n                 <LastMinuteCard key={offer.id} {...offer} />\n               ))}\n            </div>\n         </div>\n      </section>\n\n      {/* Value Props */}\n      <section className=\"py-24 bg-background\">\n        <div className=\"container mx-auto px-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-12 text-center\">\n            <div className=\"flex flex-col items-center space-y-4\">\n              <div className=\"w-16 h-16 rounded-full bg-primary/5 flex items-center justify-center text-primary mb-2\">\n                <Globe className=\"w-8 h-8\" />\n              </div>\n              <h3 className=\"font-serif text-2xl font-bold\">Global Access</h3>\n              <p className=\"text-muted-foreground leading-relaxed\">\n                Exclusive entry to the world's most coveted destinations and hidden gems.\n              </p>\n            </div>\n            <div className=\"flex flex-col items-center space-y-4\">\n              <div className=\"w-16 h-16 rounded-full bg-primary/5 flex items-center justify-center text-primary mb-2\">\n                <Star className=\"w-8 h-8\" />\n              </div>\n              <h3 className=\"font-serif text-2xl font-bold\">Premium Service</h3>\n              <p className=\"text-muted-foreground leading-relaxed\">\n                24/7 concierge support ensuring every detail of your journey is flawless.\n              </p>\n            </div>\n            <div className=\"flex flex-col items-center space-y-4\">\n              <div className=\"w-16 h-16 rounded-full bg-primary/5 flex items-center justify-center text-primary mb-2\">\n                <Shield className=\"w-8 h-8\" />\n              </div>\n              <h3 className=\"font-serif text-2xl font-bold\">Secure Booking</h3>\n              <p className=\"text-muted-foreground leading-relaxed\">\n                Peace of mind with our secure payment systems and flexible cancellation policies.\n              </p>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Featured Trips */}\n      <section className=\"py-24 bg-muted/30\">\n        <div className=\"container mx-auto px-6\">\n          <div className=\"flex flex-col md:flex-row justify-between items-end mb-12\">\n            <div>\n              <span className=\"text-secondary font-bold uppercase tracking-widest text-sm mb-2 block\">Curated Collections</span>\n              <h2 className=\"font-serif text-4xl md:text-5xl font-bold text-primary\">Featured Journeys</h2>\n            </div>\n            <Link href=\"/trips\">\n              <Button variant=\"ghost\" className=\"group text-primary mt-4 md:mt-0\">\n                View All Trips <ArrowRight className=\"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform\" />\n              </Button>\n            </Link>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n            {featuredTrips.map((trip) => (\n              <TripCard \n                key={trip.id}\n                id={trip.id}\n                image={trip.image}\n                title={trip.title}\n                location={trip.location}\n                price={trip.price}\n                rating={trip.rating}\n                duration={trip.duration}\n                type=\"trip\"\n              />\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* Hotels Teaser (Linked) */}\n      {featuredHotel && (\n      <section className=\"py-24 bg-background relative overflow-hidden\">\n        <div className=\"container mx-auto px-6 relative z-10\">\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center\">\n            <div className=\"order-2 lg:order-1 cursor-pointer group\">\n              <Link href={`/details/hotel/${generateSlug(featuredHotel.title)}`}>\n                <div className=\"relative rounded-lg overflow-hidden shadow-2xl h-[500px]\">\n                  <img \n                    src={featuredHotel.image} \n                    alt=\"Luxury Hotel\" \n                    className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105\"\n                  />\n                  <div className=\"absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors\" />\n                </div>\n              </Link>\n              <div className=\"hidden lg:block absolute -bottom-10 -left-10 w-48 h-48 bg-secondary/10 rounded-full z-[-1]\" />\n              <div className=\"hidden lg:block absolute -top-10 -right-10 w-32 h-32 border-2 border-secondary rounded-full z-[-1]\" />\n            </div>\n            <div className=\"order-1 lg:order-2 space-y-8\">\n              <span className=\"text-secondary font-bold uppercase tracking-widest text-sm\">Sanctuaries</span>\n              <h2 className=\"font-serif text-4xl md:text-5xl font-bold text-primary leading-tight\">\n                Stay in the World's Most Exceptional Hotels\n              </h2>\n              <p className=\"text-muted-foreground text-lg leading-relaxed\">\n                From private islands in the Maldives to historic palaces in Paris, we handpick accommodations that define luxury.\n              </p>\n              <Link href=\"/hotels\">\n                <Button size=\"lg\" className=\"bg-primary text-white hover:bg-primary/90 rounded-full px-8\">\n                  Find Your Stay\n                </Button>\n              </Link>\n            </div>\n          </div>\n        </div>\n      </section>\n      )}\n\n      {/* Rental Cars Section */}\n      <section className=\"py-24 bg-muted/30\">\n        <div className=\"container mx-auto px-6\">\n          <div className=\"flex flex-col md:flex-row justify-between items-end mb-12\">\n            <div>\n              <span className=\"text-secondary font-bold uppercase tracking-widest text-sm mb-2 block\">Drive in Style</span>\n              <h2 className=\"font-serif text-4xl md:text-5xl font-bold text-primary\">Premium Rentals</h2>\n            </div>\n            <Link href=\"/cars\">\n              <Button variant=\"ghost\" className=\"group text-primary mt-4 md:mt-0\">\n                View All Cars <ArrowRight className=\"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform\" />\n              </Button>\n            </Link>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n            {featuredCars.map((car) => (\n              <TripCard \n                key={car.id}\n                id={car.id}\n                image={car.image}\n                title={car.title}\n                location={car.location}\n                price={car.price}\n                rating={car.rating}\n                type=\"car\"\n              />\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* CTA */}\n      <section className=\"py-32 bg-primary text-primary-foreground relative overflow-hidden\">\n        <div className=\"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]\" />\n        <div className=\"container mx-auto px-6 text-center relative z-10\">\n          <h2 className=\"font-serif text-4xl md:text-6xl font-bold mb-6\">Ready for your next adventure?</h2>\n          <p className=\"text-xl text-primary-foreground/70 max-w-2xl mx-auto mb-10\">\n            Let our travel specialists craft a bespoke itinerary just for you.\n          </p>\n          <Link href=\"/trips\">\n            <Button size=\"lg\" className=\"bg-secondary text-white hover:bg-secondary/90 rounded-full px-10 py-6 text-lg shadow-xl\">\n              Start Planning\n            </Button>\n          </Link>\n        </div>\n      </section>\n    </Layout>\n  );\n}","path":null,"size_bytes":11849,"size_tokens":null},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","path":null,"size_bytes":1383,"size_tokens":null},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-primary/10\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","path":null,"size_bytes":266,"size_tokens":null},"client/src/components/ui/kbd.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Kbd({ className, ...props }: React.ComponentProps<\"kbd\">) {\n  return (\n    <kbd\n      data-slot=\"kbd\"\n      className={cn(\n        \"bg-muted text-muted-foreground pointer-events-none inline-flex h-5 w-fit min-w-5 select-none items-center justify-center gap-1 rounded-sm px-1 font-sans text-xs font-medium\",\n        \"[&_svg:not([class*='size-'])]:size-3\",\n        \"[[data-slot=tooltip-content]_&]:bg-background/20 [[data-slot=tooltip-content]_&]:text-background dark:[[data-slot=tooltip-content]_&]:bg-background/10\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction KbdGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <kbd\n      data-slot=\"kbd-group\"\n      className={cn(\"inline-flex items-center gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Kbd, KbdGroup }\n","path":null,"size_bytes":862,"size_tokens":null},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Minus } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-9 w-9 items-center justify-center border-y border-r border-input text-sm shadow-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-1 ring-ring\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Minus />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","path":null,"size_bytes":2143,"size_tokens":null},"client/src/components/ui/item.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Separator } from \"@/components/ui/separator\"\n\nfunction ItemGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      role=\"list\"\n      data-slot=\"item-group\"\n      className={cn(\"group/item-group flex flex-col\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction ItemSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"item-separator\"\n      orientation=\"horizontal\"\n      className={cn(\"my-0\", className)}\n      {...props}\n    />\n  )\n}\n\nconst itemVariants = cva(\n  \"group/item [a]:hover:bg-accent/50 focus-visible:border-ring focus-visible:ring-ring/50 [a]:transition-colors flex flex-wrap items-center rounded-md border border-transparent text-sm outline-none transition-colors duration-100 focus-visible:ring-[3px]\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline: \"border-border\",\n        muted: \"bg-muted/50\",\n      },\n      size: {\n        default: \"gap-4 p-4 \",\n        sm: \"gap-2.5 px-4 py-3\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Item({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> &\n  VariantProps<typeof itemVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n  return (\n    <Comp\n      data-slot=\"item\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(itemVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nconst itemMediaVariants = cva(\n  \"flex shrink-0 items-center justify-center gap-2 group-has-[[data-slot=item-description]]/item:translate-y-0.5 group-has-[[data-slot=item-description]]/item:self-start [&_svg]:pointer-events-none\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        icon: \"bg-muted size-8 rounded-sm border [&_svg:not([class*='size-'])]:size-4\",\n        image:\n          \"size-10 overflow-hidden rounded-sm [&_img]:size-full [&_img]:object-cover\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction ItemMedia({\n  className,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof itemMediaVariants>) {\n  return (\n    <div\n      data-slot=\"item-media\"\n      data-variant={variant}\n      className={cn(itemMediaVariants({ variant, className }))}\n      {...props}\n    />\n  )\n}\n\nfunction ItemContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-content\"\n      className={cn(\n        \"flex flex-1 flex-col gap-1 [&+[data-slot=item-content]]:flex-none\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-title\"\n      className={cn(\n        \"flex w-fit items-center gap-2 text-sm font-medium leading-snug\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <p\n      data-slot=\"item-description\"\n      className={cn(\n        \"text-muted-foreground line-clamp-2 text-balance text-sm font-normal leading-normal\",\n        \"[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemActions({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-actions\"\n      className={cn(\"flex items-center gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction ItemHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-header\"\n      className={cn(\n        \"flex basis-full items-center justify-between gap-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ItemFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"item-footer\"\n      className={cn(\n        \"flex basis-full items-center justify-between gap-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Item,\n  ItemMedia,\n  ItemContent,\n  ItemActions,\n  ItemGroup,\n  ItemSeparator,\n  ItemTitle,\n  ItemDescription,\n  ItemHeader,\n  ItemFooter,\n}\n","path":null,"size_bytes":4494,"size_tokens":null},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","path":null,"size_bytes":772,"size_tokens":null},"client/src/components/ui/empty.tsx":{"content":"import { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Empty({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty\"\n      className={cn(\n        \"flex min-w-0 flex-1 flex-col items-center justify-center gap-6 text-balance rounded-lg border-dashed p-6 text-center md:p-12\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-header\"\n      className={cn(\n        \"flex max-w-sm flex-col items-center gap-2 text-center\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst emptyMediaVariants = cva(\n  \"mb-2 flex shrink-0 items-center justify-center [&_svg]:pointer-events-none [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        icon: \"bg-muted text-foreground flex size-10 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-6\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction EmptyMedia({\n  className,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof emptyMediaVariants>) {\n  return (\n    <div\n      data-slot=\"empty-icon\"\n      data-variant={variant}\n      className={cn(emptyMediaVariants({ variant, className }))}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-title\"\n      className={cn(\"text-lg font-medium tracking-tight\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <div\n      data-slot=\"empty-description\"\n      className={cn(\n        \"text-muted-foreground [&>a:hover]:text-primary text-sm/relaxed [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction EmptyContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"empty-content\"\n      className={cn(\n        \"flex w-full min-w-0 max-w-sm flex-col items-center gap-4 text-balance text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Empty,\n  EmptyHeader,\n  EmptyTitle,\n  EmptyDescription,\n  EmptyContent,\n  EmptyMedia,\n}\n","path":null,"size_bytes":2396,"size_tokens":null},"client/src/components/ui/menubar.tsx":{"content":"import * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-9 items-center space-x-1 rounded-md border bg-background p-1 shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-4 w-4 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","path":null,"size_bytes":8608,"size_tokens":null},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":711,"size_tokens":null},"client/src/components/stripe-payment-form.tsx":{"content":"import { useState, FormEvent } from 'react';\nimport {\n  PaymentElement,\n  useStripe,\n  useElements\n} from '@stripe/react-stripe-js';\nimport { Button } from '@/components/ui/button';\nimport { Loader2 } from 'lucide-react';\n\ninterface StripePaymentFormProps {\n  amount: string;\n  onSuccess: (paymentIntentId: string) => void;\n  onError: (error: string) => void;\n}\n\nexport default function StripePaymentForm({ amount, onSuccess, onError }: StripePaymentFormProps) {\n  const stripe = useStripe();\n  const elements = useElements();\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [message, setMessage] = useState<string | null>(null);\n\n  const handleSubmit = async (e: FormEvent) => {\n    e.preventDefault();\n\n    if (!stripe || !elements) {\n      return;\n    }\n\n    setIsProcessing(true);\n    setMessage(null);\n\n    try {\n      const { error, paymentIntent } = await stripe.confirmPayment({\n        elements,\n        confirmParams: {\n          return_url: window.location.origin,\n        },\n        redirect: 'if_required',\n      });\n\n      if (error) {\n        setMessage(error.message || 'An error occurred during payment');\n        onError(error.message || 'Payment failed');\n        setIsProcessing(false);\n      } else if (paymentIntent && paymentIntent.status === 'succeeded') {\n        setMessage('Payment successful!');\n        onSuccess(paymentIntent.id);\n      } else {\n        setMessage('Payment processing...');\n      }\n    } catch (err: any) {\n      setMessage(err.message || 'An unexpected error occurred');\n      onError(err.message || 'Payment failed');\n      setIsProcessing(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div className=\"p-4 border border-border rounded-md bg-muted/20\">\n        <PaymentElement />\n      </div>\n      \n      {message && (\n        <div className={`text-sm p-3 rounded-md ${\n          message.includes('successful') \n            ? 'bg-green-50 text-green-700 border border-green-200' \n            : 'bg-red-50 text-red-700 border border-red-200'\n        }`}>\n          {message}\n        </div>\n      )}\n\n      <Button\n        type=\"submit\"\n        disabled={!stripe || !elements || isProcessing}\n        className=\"w-full\"\n      >\n        {isProcessing ? (\n          <>\n            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n            Processing Payment...\n          </>\n        ) : (\n          `Pay ${amount}`\n        )}\n      </Button>\n    </form>\n  );\n}\n\n","path":null,"size_bytes":2478,"size_tokens":null},"client/src/components/ui/sonner.tsx":{"content":"\"use client\"\n\nimport { useTheme } from \"next-themes\"\nimport { Toaster as Sonner } from \"sonner\"\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme()\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton:\n            \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton:\n            \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props}\n    />\n  )\n}\n\nexport { Toaster }\n","path":null,"size_bytes":894,"size_tokens":null},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","path":null,"size_bytes":2001,"size_tokens":null},"client/src/components/ui/dialog.tsx":{"content":"import * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","path":null,"size_bytes":3835,"size_tokens":null},"client/src/components/ui/button-group.tsx":{"content":"import { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Separator } from \"@/components/ui/separator\"\n\nconst buttonGroupVariants = cva(\n  \"flex w-fit items-stretch has-[>[data-slot=button-group]]:gap-2 [&>*]:focus-visible:relative [&>*]:focus-visible:z-10 has-[select[aria-hidden=true]:last-child]:[&>[data-slot=select-trigger]:last-of-type]:rounded-r-md [&>[data-slot=select-trigger]:not([class*='w-'])]:w-fit [&>input]:flex-1\",\n  {\n    variants: {\n      orientation: {\n        horizontal:\n          \"[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none\",\n        vertical:\n          \"flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none\",\n      },\n    },\n    defaultVariants: {\n      orientation: \"horizontal\",\n    },\n  }\n)\n\nfunction ButtonGroup({\n  className,\n  orientation,\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof buttonGroupVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"button-group\"\n      data-orientation={orientation}\n      className={cn(buttonGroupVariants({ orientation }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction ButtonGroupText({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  asChild?: boolean\n}) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      className={cn(\n        \"bg-muted shadow-xs flex items-center gap-2 rounded-md border px-4 text-sm font-medium [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ButtonGroupSeparator({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"button-group-separator\"\n      orientation={orientation}\n      className={cn(\n        \"bg-input relative !m-0 self-stretch data-[orientation=vertical]:h-auto\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  ButtonGroup,\n  ButtonGroupSeparator,\n  ButtonGroupText,\n  buttonGroupVariants,\n}\n","path":null,"size_bytes":2209,"size_tokens":null},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { AuthProvider } from \"@/lib/auth-context\";\nimport { StoreProvider } from \"@/lib/store-context\";\n\nimport NotFound from \"@/pages/not-found\";\nimport Home from \"@/pages/home\";\nimport TripsPage from \"@/pages/trips\";\nimport HotelsPage from \"@/pages/hotels\";\nimport CarsPage from \"@/pages/cars\";\nimport AdminDashboard from \"@/pages/admin\";\nimport LastMinutePage from \"@/pages/last-minute\";\nimport LoginPage from \"@/pages/login\";\nimport ProfilePage from \"@/pages/profile\";\nimport PrivacyPolicyPage from \"@/pages/privacy-policy\";\nimport TermsOfServicePage from \"@/pages/terms-of-service\";\n\nimport DetailsPage from \"@/pages/details\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={Home} />\n      <Route path=\"/trips\" component={TripsPage} />\n      <Route path=\"/hotels\" component={HotelsPage} />\n      <Route path=\"/cars\" component={CarsPage} />\n      <Route path=\"/last-minute\" component={LastMinutePage} />\n      <Route path=\"/details/:type/:slug\" component={DetailsPage} />\n      <Route path=\"/admin\" component={AdminDashboard} />\n      <Route path=\"/login\" component={LoginPage} />\n      <Route path=\"/profile\" component={ProfilePage} />\n      <Route path=\"/privacy-policy\" component={PrivacyPolicyPage} />\n      <Route path=\"/terms-of-service\" component={TermsOfServicePage} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <AuthProvider>\n        <StoreProvider>\n          <TooltipProvider>\n            <Toaster />\n            <Router />\n          </TooltipProvider>\n        </StoreProvider>\n      </AuthProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;","path":null,"size_bytes":1956,"size_tokens":null},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","path":null,"size_bytes":768,"size_tokens":null},"client/src/components/ui/field.tsx":{"content":"\"use client\"\n\nimport { useMemo } from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\nimport { Separator } from \"@/components/ui/separator\"\n\nfunction FieldSet({ className, ...props }: React.ComponentProps<\"fieldset\">) {\n  return (\n    <fieldset\n      data-slot=\"field-set\"\n      className={cn(\n        \"flex flex-col gap-6\",\n        \"has-[>[data-slot=checkbox-group]]:gap-3 has-[>[data-slot=radio-group]]:gap-3\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldLegend({\n  className,\n  variant = \"legend\",\n  ...props\n}: React.ComponentProps<\"legend\"> & { variant?: \"legend\" | \"label\" }) {\n  return (\n    <legend\n      data-slot=\"field-legend\"\n      data-variant={variant}\n      className={cn(\n        \"mb-3 font-medium\",\n        \"data-[variant=legend]:text-base\",\n        \"data-[variant=label]:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-group\"\n      className={cn(\n        \"group/field-group @container/field-group flex w-full flex-col gap-7 data-[slot=checkbox-group]:gap-3 [&>[data-slot=field-group]]:gap-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst fieldVariants = cva(\n  \"group/field data-[invalid=true]:text-destructive flex w-full gap-3\",\n  {\n    variants: {\n      orientation: {\n        vertical: [\"flex-col [&>*]:w-full [&>.sr-only]:w-auto\"],\n        horizontal: [\n          \"flex-row items-center\",\n          \"[&>[data-slot=field-label]]:flex-auto\",\n          \"has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px has-[>[data-slot=field-content]]:items-start\",\n        ],\n        responsive: [\n          \"@md/field-group:flex-row @md/field-group:items-center @md/field-group:[&>*]:w-auto flex-col [&>*]:w-full [&>.sr-only]:w-auto\",\n          \"@md/field-group:[&>[data-slot=field-label]]:flex-auto\",\n          \"@md/field-group:has-[>[data-slot=field-content]]:items-start @md/field-group:has-[>[data-slot=field-content]]:[&>[role=checkbox],[role=radio]]:mt-px\",\n        ],\n      },\n    },\n    defaultVariants: {\n      orientation: \"vertical\",\n    },\n  }\n)\n\nfunction Field({\n  className,\n  orientation = \"vertical\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof fieldVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"field\"\n      data-orientation={orientation}\n      className={cn(fieldVariants({ orientation }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction FieldContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-content\"\n      className={cn(\n        \"group/field-content flex flex-1 flex-col gap-1.5 leading-snug\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof Label>) {\n  return (\n    <Label\n      data-slot=\"field-label\"\n      className={cn(\n        \"group/field-label peer/field-label flex w-fit gap-2 leading-snug group-data-[disabled=true]/field:opacity-50\",\n        \"has-[>[data-slot=field]]:w-full has-[>[data-slot=field]]:flex-col has-[>[data-slot=field]]:rounded-md has-[>[data-slot=field]]:border [&>[data-slot=field]]:p-4\",\n        \"has-data-[state=checked]:bg-primary/5 has-data-[state=checked]:border-primary dark:has-data-[state=checked]:bg-primary/10\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"field-label\"\n      className={cn(\n        \"flex w-fit items-center gap-2 text-sm font-medium leading-snug group-data-[disabled=true]/field:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  return (\n    <p\n      data-slot=\"field-description\"\n      className={cn(\n        \"text-muted-foreground text-sm font-normal leading-normal group-has-[[data-orientation=horizontal]]/field:text-balance\",\n        \"nth-last-2:-mt-1 last:mt-0 [[data-variant=legend]+&]:-mt-1.5\",\n        \"[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction FieldSeparator({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  children?: React.ReactNode\n}) {\n  return (\n    <div\n      data-slot=\"field-separator\"\n      data-content={!!children}\n      className={cn(\n        \"relative -my-2 h-5 text-sm group-data-[variant=outline]/field-group:-mb-2\",\n        className\n      )}\n      {...props}\n    >\n      <Separator className=\"absolute inset-0 top-1/2\" />\n      {children && (\n        <span\n          className=\"bg-background text-muted-foreground relative mx-auto block w-fit px-2\"\n          data-slot=\"field-separator-content\"\n        >\n          {children}\n        </span>\n      )}\n    </div>\n  )\n}\n\nfunction FieldError({\n  className,\n  children,\n  errors,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  errors?: Array<{ message?: string } | undefined>\n}) {\n  const content = useMemo(() => {\n    if (children) {\n      return children\n    }\n\n    if (!errors) {\n      return null\n    }\n\n    if (errors?.length === 1 && errors[0]?.message) {\n      return errors[0].message\n    }\n\n    return (\n      <ul className=\"ml-4 flex list-disc flex-col gap-1\">\n        {errors.map(\n          (error, index) =>\n            error?.message && <li key={index}>{error.message}</li>\n        )}\n      </ul>\n    )\n  }, [children, errors])\n\n  if (!content) {\n    return null\n  }\n\n  return (\n    <div\n      role=\"alert\"\n      data-slot=\"field-error\"\n      className={cn(\"text-destructive text-sm font-normal\", className)}\n      {...props}\n    >\n      {content}\n    </div>\n  )\n}\n\nexport {\n  Field,\n  FieldLabel,\n  FieldDescription,\n  FieldError,\n  FieldGroup,\n  FieldLegend,\n  FieldSeparator,\n  FieldSet,\n  FieldContent,\n  FieldTitle,\n}\n","path":null,"size_bytes":6044,"size_tokens":null},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n\" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n           // @replit: no hover, and add primary border\n           \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm border-destructive-border\",\n        outline:\n          // @replit Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color. Uses shadow-xs. no shadow on active\n          // No hover state\n          \" border [border-color:var(--button-outline)] shadow-xs active:shadow-none \",\n        secondary:\n          // @replit border, no hover, no shadow, secondary border.\n          \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // @replit no hover, transparent border\n        ghost: \"border border-transparent\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        // @replit changed sizes\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","path":null,"size_bytes":2356,"size_tokens":null},"client/src/components/ui/form.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue | null>(null)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  if (!itemContext) {\n    throw new Error(\"useFormField should be used within <FormItem>\")\n  }\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue | null>(null)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-[0.8rem] text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-[0.8rem] font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","path":null,"size_bytes":4175,"size_tokens":null},"client/src/components/ui/hover-card.tsx":{"content":"import * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","path":null,"size_bytes":1237,"size_tokens":null},"client/src/pages/profile.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useLocation } from \"wouter\";\nimport Layout from \"@/components/layout\";\nimport { useAuth } from \"@/lib/auth-context\";\nimport { useStore } from \"@/lib/store-context\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription, CardFooter } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger, DialogFooter, DialogDescription } from \"@/components/ui/dialog\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { \n  User, \n  CreditCard, \n  Award, \n  MessageSquare, \n  LogOut, \n  Plus, \n  Trash, \n  CheckCircle, \n  Shield, \n  MapPin, \n  Phone, \n  Mail,\n  Clock,\n  Send,\n  Calendar,\n  Star\n} from \"lucide-react\";\nimport { PaymentCard, TicketReply, Review } from \"@/lib/store-context\";\n\nexport default function ProfilePage() {\n  const { user, logout } = useAuth();\n  const { \n    userProfile, updateUserProfile, \n    paymentCards, addPaymentCard, deletePaymentCard, fetchPaymentCards,\n    userRewards, rewardTransactions, fetchUserRewards, fetchRewardTransactions,\n    userTickets, fetchUserTickets, createTicket, replyToTicket,\n    bookings, updateBooking, reviews, addReview, updateReview,\n    trips, hotels, cars, offers\n  } = useStore();\n  \n  // Helper function to find item info from booking item name\n  const findItemInfo = (itemName: string): { id: string; type: 'trip' | 'hotel' | 'car' | 'offer' } | null => {\n    const trip = trips.find(t => t.title === itemName);\n    if (trip) return { id: trip.id, type: 'trip' };\n    \n    const hotel = hotels.find(h => h.title === itemName);\n    if (hotel) return { id: hotel.id, type: 'hotel' };\n    \n    const car = cars.find(c => c.title === itemName);\n    if (car) return { id: car.id, type: 'car' };\n    \n    const offer = offers.find(o => o.title === itemName);\n    if (offer) return { id: offer.id, type: 'offer' };\n    \n    return null;\n  };\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  const [activeTab, setActiveTab] = useState(\"profile\");\n\n  // Form states\n  const [newCard, setNewCard] = useState<Partial<PaymentCard>>({ brand: \"Visa\", cardholderName: \"\" });\n  const [newTicket, setNewTicket] = useState({ subject: \"\", message: \"\", priority: \"Medium\" as \"Low\" | \"Medium\" | \"High\" });\n  const [replyMessage, setReplyMessage] = useState(\"\");\n  const [reviewForm, setReviewForm] = useState({ rating: 5, comment: \"\", itemId: \"\", itemType: \"\" as 'trip' | 'hotel' | 'car' | 'offer', itemTitle: \"\" });\n  const [editingReviewId, setEditingReviewId] = useState<string | null>(null);\n  const [editReviewForm, setEditReviewForm] = useState({ rating: 5, comment: \"\" });\n  const [selectedTicketId, setSelectedTicketId] = useState<string | null>(null);\n  \n  // Fetch user tickets when user is available or when support tab is active\n  useEffect(() => {\n    if (user?.email && (activeTab === \"support\" || userTickets.length === 0)) {\n      fetchUserTickets(user.email);\n    }\n  }, [user?.email, activeTab]);\n\n  // Fetch payment cards and rewards when user is available\n  useEffect(() => {\n    if (user?.email) {\n      fetchPaymentCards(user.email);\n      fetchUserRewards(user.email);\n      fetchRewardTransactions(user.email);\n    }\n  }, [user?.email]);\n\n  if (!user) {\n    setLocation(\"/login\");\n    return null;\n  }\n\n  const handleUpdateProfile = (e: React.FormEvent) => {\n    e.preventDefault();\n    toast({\n      title: \"Profile Updated\",\n      description: \"Your personal details have been saved successfully.\"\n    });\n  };\n\n  const handleAddCard = async () => {\n    if (newCard.last4 && newCard.expiry && newCard.cardholderName && user?.email) {\n      const result = await addPaymentCard({\n        id: `card_${Date.now()}`,\n        last4: newCard.last4,\n        brand: newCard.brand || \"Visa\",\n        expiry: newCard.expiry,\n        cardholderName: newCard.cardholderName\n      }, user.email);\n      if (result) {\n        setNewCard({ brand: \"Visa\", cardholderName: \"\" });\n        toast({ title: \"Card Added\", description: \"Your payment method has been saved.\" });\n      } else {\n        toast({ title: \"Error\", description: \"Failed to save payment method.\", variant: \"destructive\" });\n      }\n    }\n  };\n\n  const handleCreateTicket = async () => {\n    if (newTicket.subject && newTicket.message && user?.email) {\n      const result = await createTicket({\n        subject: newTicket.subject,\n        priority: newTicket.priority,\n      }, user.email);\n      \n      if (result) {\n        // Add the initial message as the first reply\n        if (newTicket.message.trim()) {\n          await replyToTicket(result.id, newTicket.message, user.email);\n        }\n        \n        setNewTicket({ subject: \"\", message: \"\", priority: \"Medium\" });\n        toast({ title: \"Ticket Created\", description: \"Support team will respond shortly.\" });\n      } else {\n        toast({ title: \"Error\", description: \"Failed to create ticket. Please try again.\", variant: \"destructive\" });\n      }\n    }\n  };\n\n  const handleReply = async (ticketId: string) => {\n    if (replyMessage.trim() && user?.email) {\n      const success = await replyToTicket(ticketId, replyMessage, user.email);\n      if (success) {\n        setReplyMessage(\"\");\n        toast({ title: \"Reply Sent\", description: \"Your message has been added to the ticket.\" });\n      } else {\n        toast({ title: \"Error\", description: \"Failed to send reply. Please try again.\", variant: \"destructive\" });\n      }\n    }\n  };\n\n  const handleSubmitReview = async () => {\n    if (reviewForm.comment && reviewForm.itemId && reviewForm.itemType) {\n      const result = await addReview({\n        itemId: reviewForm.itemId,\n        itemType: reviewForm.itemType,\n        itemTitle: reviewForm.itemTitle,\n        userName: user?.name || \"User\",\n        userEmail: user?.email,\n        rating: reviewForm.rating,\n        comment: reviewForm.comment,\n        status: \"pending\"\n      });\n      if (result) {\n        setReviewForm({ rating: 5, comment: \"\", itemId: \"\", itemType: \"\" as 'trip' | 'hotel' | 'car' | 'offer', itemTitle: \"\" });\n        toast({ title: \"Review Submitted\", description: \"Your review is pending approval.\" });\n      } else {\n        toast({ title: \"Error\", description: \"Failed to submit review. Please try again.\", variant: \"destructive\" });\n      }\n    }\n  };\n\n  // Filter bookings for current user (mock logic since bookings don't have userId in mock data properly linked yet, \n  // but we'll assume all mock bookings are visible for demo or filter by name if needed. \n  // The user requested \"users on profile page add a tab also to see they're bookings\".\n  // In a real app, we'd filter by user ID. Here, let's filter by customer name \"Alice Freeman\" or show all for demo purposes if user name matches.\n  // Actually, let's just show all bookings for the demo user to make it easy to test.\n  const myBookings = bookings; // In real app: bookings.filter(b => b.userId === user.id)\n\n  return (\n    <Layout>\n      <div className=\"bg-muted/20 min-h-screen py-12\">\n        <div className=\"container mx-auto px-6 max-w-6xl\">\n          <div className=\"grid grid-cols-1 md:grid-cols-12 gap-8\">\n            \n            {/* Sidebar */}\n            <div className=\"md:col-span-3 space-y-6\">\n              <Card className=\"overflow-hidden border-none shadow-lg\">\n                <div className=\"bg-gradient-to-br from-primary to-primary/80 h-24 relative\">\n                  <div className=\"absolute -bottom-10 left-1/2 -translate-x-1/2\">\n                    <Avatar className=\"w-20 h-20 border-4 border-white shadow-md\">\n                      <AvatarImage src={userProfile.avatar} />\n                      <AvatarFallback>JD</AvatarFallback>\n                    </Avatar>\n                  </div>\n                </div>\n                <CardContent className=\"pt-12 text-center pb-6\">\n                  <h2 className=\"font-serif text-xl font-bold\">{userProfile.name}</h2>\n                  <p className=\"text-sm text-muted-foreground\">{userProfile.email}</p>\n                  <div className=\"mt-4 flex justify-center\">\n                    <Badge variant=\"secondary\" className=\"uppercase tracking-wide\">\n                      {userProfile.reward.level} Member\n                    </Badge>\n                  </div>\n                </CardContent>\n              </Card>\n\n              <nav className=\"space-y-2\">\n                <Button \n                  variant={activeTab === \"profile\" ? \"default\" : \"ghost\"} \n                  className={`w-full justify-start ${activeTab === \"profile\" ? \"bg-primary text-primary-foreground\" : \"hover:bg-white\"}`}\n                  onClick={() => setActiveTab(\"profile\")}\n                >\n                  <User className=\"mr-2 h-4 w-4\" /> Profile Details\n                </Button>\n                <Button \n                  variant={activeTab === \"bookings\" ? \"default\" : \"ghost\"} \n                  className={`w-full justify-start ${activeTab === \"bookings\" ? \"bg-primary text-primary-foreground\" : \"hover:bg-white\"}`}\n                  onClick={() => setActiveTab(\"bookings\")}\n                >\n                  <Calendar className=\"mr-2 h-4 w-4\" /> My Bookings\n                </Button>\n                <Button \n                  variant={activeTab === \"payment\" ? \"default\" : \"ghost\"} \n                  className={`w-full justify-start ${activeTab === \"payment\" ? \"bg-primary text-primary-foreground\" : \"hover:bg-white\"}`}\n                  onClick={() => setActiveTab(\"payment\")}\n                >\n                  <CreditCard className=\"mr-2 h-4 w-4\" /> Payment Methods\n                </Button>\n                <Button \n                  variant={activeTab === \"rewards\" ? \"default\" : \"ghost\"} \n                  className={`w-full justify-start ${activeTab === \"rewards\" ? \"bg-primary text-primary-foreground\" : \"hover:bg-white\"}`}\n                  onClick={() => setActiveTab(\"rewards\")}\n                >\n                  <Award className=\"mr-2 h-4 w-4\" /> Rewards & Loyalty\n                </Button>\n                <Button \n                  variant={activeTab === \"support\" ? \"default\" : \"ghost\"} \n                  className={`w-full justify-start ${activeTab === \"support\" ? \"bg-primary text-primary-foreground\" : \"hover:bg-white\"}`}\n                  onClick={() => setActiveTab(\"support\")}\n                >\n                  <MessageSquare className=\"mr-2 h-4 w-4\" /> Support Tickets\n                </Button>\n                <Button \n                  variant=\"ghost\" \n                  className=\"w-full justify-start text-destructive hover:text-destructive hover:bg-red-50\"\n                  onClick={() => { logout(); setLocation(\"/\"); }}\n                >\n                  <LogOut className=\"mr-2 h-4 w-4\" /> Sign Out\n                </Button>\n              </nav>\n            </div>\n\n            {/* Main Content */}\n            <div className=\"md:col-span-9\">\n              {activeTab === \"profile\" && (\n                <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n                  <div>\n                    <h1 className=\"font-serif text-3xl font-bold text-primary mb-2\">Personal Details</h1>\n                    <p className=\"text-muted-foreground\">Manage your personal information and preferences.</p>\n                  </div>\n\n                  <Card className=\"border-none shadow-md\">\n                    <CardContent className=\"p-6\">\n                      <form onSubmit={handleUpdateProfile} className=\"space-y-6\">\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                          <div className=\"space-y-2\">\n                            <Label>Full Name</Label>\n                            <div className=\"relative\">\n                              <User className=\"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground\" />\n                              <Input \n                                value={userProfile.name} \n                                onChange={(e) => updateUserProfile({ name: e.target.value })}\n                                className=\"pl-9\" \n                              />\n                            </div>\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label>Email Address</Label>\n                            <div className=\"relative\">\n                              <Mail className=\"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground\" />\n                              <Input \n                                value={userProfile.email} \n                                onChange={(e) => updateUserProfile({ email: e.target.value })}\n                                className=\"pl-9\" \n                              />\n                            </div>\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label>Phone Number</Label>\n                            <div className=\"relative\">\n                              <Phone className=\"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground\" />\n                              <Input \n                                value={userProfile.phone} \n                                onChange={(e) => updateUserProfile({ phone: e.target.value })}\n                                className=\"pl-9\" \n                              />\n                            </div>\n                          </div>\n                          <div className=\"space-y-2\">\n                            <Label>Address</Label>\n                            <div className=\"relative\">\n                              <MapPin className=\"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground\" />\n                              <Input \n                                value={userProfile.address} \n                                onChange={(e) => updateUserProfile({ address: e.target.value })}\n                                className=\"pl-9\" \n                              />\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"flex justify-end\">\n                          <Button type=\"submit\">Save Changes</Button>\n                        </div>\n                      </form>\n                    </CardContent>\n                  </Card>\n                </div>\n              )}\n\n              {activeTab === \"bookings\" && (\n                <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n                  <div>\n                    <h1 className=\"font-serif text-3xl font-bold text-primary mb-2\">My Bookings</h1>\n                    <p className=\"text-muted-foreground\">View your past and upcoming trips.</p>\n                  </div>\n\n                  <div className=\"space-y-4\">\n                    {myBookings.length === 0 ? (\n                      <Card>\n                        <CardContent className=\"p-8 text-center text-muted-foreground\">\n                          You haven't made any bookings yet.\n                        </CardContent>\n                      </Card>\n                    ) : (\n                      myBookings.map((booking) => {\n                        // Find if user already reviewed this item\n                        const existingReview = reviews.find(r => \n                          r.itemTitle === booking.item && \n                          r.userEmail === user?.email\n                        );\n                        \n                        return (\n                          <Card key={booking.id} className=\"overflow-hidden\">\n                            <CardContent className=\"p-0\">\n                              <div className=\"flex flex-col md:flex-row\">\n                                <div className=\"bg-muted/30 p-6 md:w-1/4 flex flex-col justify-center items-center border-r border-border/50\">\n                                  <div className=\"text-2xl font-bold text-primary\">{booking.date.split('-')[2]}</div>\n                                  <div className=\"text-sm uppercase tracking-wider font-medium text-muted-foreground\">\n                                    {new Date(booking.date).toLocaleString('default', { month: 'short' })}\n                                  </div>\n                                  <div className=\"text-xs text-muted-foreground mt-1\">{booking.date.split('-')[0]}</div>\n                                </div>\n                                <div className=\"p-6 flex-1 flex flex-col justify-between\">\n                                  <div>\n                                    <div className=\"flex justify-between items-start mb-2\">\n                                      <h3 className=\"text-xl font-serif font-bold\">{booking.item}</h3>\n                                      <Badge variant={\n                                        booking.status === \"Confirmed\" ? \"default\" : \n                                        booking.status === \"Pending\" ? \"secondary\" : \"destructive\"\n                                      }>\n                                        {booking.status}\n                                      </Badge>\n                                    </div>\n                                    <p className=\"text-sm text-muted-foreground mb-4\">Booking ID: {booking.id} â€¢ {booking.amount}</p>\n                                  </div>\n                                  \n                                  <div className=\"flex justify-end gap-2 mt-4\">\n                                    <Dialog>\n                                      <DialogTrigger asChild>\n                                        <Button variant=\"outline\" size=\"sm\">View Details</Button>\n                                      </DialogTrigger>\n                                      <DialogContent>\n                                        <DialogHeader>\n                                          <DialogTitle>Booking Details: {booking.id}</DialogTitle>\n                                        </DialogHeader>\n                                        <div className=\"space-y-4 py-4\">\n                                          <div className=\"grid grid-cols-2 gap-4\">\n                                            <div>\n                                              <p className=\"text-sm font-medium text-muted-foreground\">Item</p>\n                                              <p className=\"text-base font-semibold\">{booking.item}</p>\n                                            </div>\n                                            <div>\n                                              <p className=\"text-sm font-medium text-muted-foreground\">Booking Date</p>\n                                              <p className=\"text-base font-semibold\">{new Date(booking.date).toLocaleDateString()}</p>\n                                            </div>\n                                            <div>\n                                              <p className=\"text-sm font-medium text-muted-foreground\">Amount</p>\n                                              <p className=\"text-base font-semibold text-primary\">{booking.amount}</p>\n                                            </div>\n                                            <div>\n                                              <p className=\"text-sm font-medium text-muted-foreground\">Status</p>\n                                              <Badge variant={\n                                                booking.status === 'Confirmed' ? 'default' :\n                                                booking.status === 'Pending' ? 'secondary' : 'destructive'\n                                              }>\n                                                {booking.status}\n                                              </Badge>\n                                            </div>\n                                          </div>\n                                        </div>\n                                        <DialogFooter>\n                                          <Button variant=\"outline\" onClick={() => {}}>Close</Button>\n                                          {booking.status !== \"Cancelled\" && booking.status !== \"Pending\" && (\n                                            <Button \n                                              variant=\"destructive\" \n                                              onClick={async () => {\n                                                if (confirm(`Are you sure you want to cancel this booking?`)) {\n                                                  const success = await updateBooking(booking.id, { status: \"Cancelled\" });\n                                                  if (success) {\n                                                    toast({ title: \"Booking Cancelled\", description: \"Your booking has been cancelled successfully.\" });\n                                                  } else {\n                                                    toast({ title: \"Error\", description: \"Failed to cancel booking.\", variant: \"destructive\" });\n                                                  }\n                                                }\n                                              }}\n                                            >\n                                              Cancel Booking\n                                            </Button>\n                                          )}\n                                        </DialogFooter>\n                                      </DialogContent>\n                                    </Dialog>\n                                    \n                                    {booking.status === \"Confirmed\" && (\n                                      existingReview ? (\n                                        <Dialog>\n                                          <DialogTrigger asChild>\n                                            <Button variant=\"secondary\" size=\"sm\" onClick={() => {\n                                              setEditingReviewId(existingReview.id);\n                                              setEditReviewForm({ rating: existingReview.rating, comment: existingReview.comment });\n                                            }}>\n                                              <Star className=\"w-3 h-3 mr-2\" /> View/Edit Review\n                                            </Button>\n                                          </DialogTrigger>\n                                          <DialogContent>\n                                            <DialogHeader>\n                                              <DialogTitle>Your Review</DialogTitle>\n                                            </DialogHeader>\n                                            {editingReviewId === existingReview.id ? (\n                                              <div className=\"py-4 space-y-4\">\n                                                <div className=\"space-y-2\">\n                                                  <Label>Rating</Label>\n                                                  <div className=\"flex gap-2\">\n                                                    {[1, 2, 3, 4, 5].map((star) => (\n                                                      <button\n                                                        key={star}\n                                                        type=\"button\"\n                                                        onClick={() => setEditReviewForm({ ...editReviewForm, rating: star })}\n                                                        className=\"focus:outline-none\"\n                                                      >\n                                                        <Star \n                                                          className={`w-8 h-8 ${star <= editReviewForm.rating ? \"text-yellow-500 fill-yellow-500\" : \"text-gray-300\"}`} \n                                                        />\n                                                      </button>\n                                                    ))}\n                                                  </div>\n                                                </div>\n                                                <div className=\"space-y-2\">\n                                                  <Label>Comment</Label>\n                                                  <textarea \n                                                    className=\"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm\"\n                                                    placeholder=\"Share your experience...\"\n                                                    value={editReviewForm.comment}\n                                                    onChange={(e) => setEditReviewForm({...editReviewForm, comment: e.target.value})}\n                                                  />\n                                                </div>\n                                                <div className=\"flex items-center gap-2\">\n                                                  <Badge variant={\n                                                    existingReview.status === \"approved\" ? \"default\" :\n                                                    existingReview.status === \"rejected\" ? \"destructive\" : \"outline\"\n                                                  }>\n                                                    Status: {existingReview.status.charAt(0).toUpperCase() + existingReview.status.slice(1)}\n                                                  </Badge>\n                                                </div>\n                                                <DialogFooter>\n                                                  <Button variant=\"outline\" onClick={() => setEditingReviewId(null)}>Cancel</Button>\n                                                  <Button onClick={async () => {\n                                                    const result = await updateReview(existingReview.id, {\n                                                      rating: editReviewForm.rating,\n                                                      comment: editReviewForm.comment\n                                                    });\n                                                    if (result) {\n                                                      setEditingReviewId(null);\n                                                      toast({ title: \"Review Updated\", description: \"Your review has been updated successfully.\" });\n                                                    } else {\n                                                      toast({ title: \"Error\", description: \"Failed to update review.\", variant: \"destructive\" });\n                                                    }\n                                                  }}>Save Changes</Button>\n                                                </DialogFooter>\n                                              </div>\n                                            ) : (\n                                              <div className=\"py-4 space-y-4\">\n                                                <div className=\"flex items-center gap-1 text-yellow-500\">\n                                                  {[...Array(5)].map((_, i) => (\n                                                    <Star key={i} className={`w-5 h-5 ${i < existingReview.rating ? \"fill-current\" : \"text-gray-300\"}`} />\n                                                  ))}\n                                                </div>\n                                                <p className=\"text-sm italic\">\"{existingReview.comment}\"</p>\n                                                <div className=\"flex items-center gap-2 mt-4\">\n                                                  <Badge variant={\n                                                    existingReview.status === \"approved\" ? \"default\" :\n                                                    existingReview.status === \"rejected\" ? \"destructive\" : \"outline\"\n                                                  }>\n                                                    Status: {existingReview.status.charAt(0).toUpperCase() + existingReview.status.slice(1)}\n                                                  </Badge>\n                                                </div>\n                                                <DialogFooter>\n                                                  <Button variant=\"outline\" onClick={() => {}}>Close</Button>\n                                                  <Button onClick={() => {\n                                                    setEditingReviewId(existingReview.id);\n                                                    setEditReviewForm({ rating: existingReview.rating, comment: existingReview.comment });\n                                                  }}>Edit Review</Button>\n                                                </DialogFooter>\n                                              </div>\n                                            )}\n                                          </DialogContent>\n                                        </Dialog>\n                                      ) : (\n                                        <Dialog>\n                                          <DialogTrigger asChild>\n                                            <Button size=\"sm\" onClick={() => {\n                                              const itemInfo = findItemInfo(booking.item);\n                                              if (itemInfo) {\n                                                setReviewForm({\n                                                  ...reviewForm, \n                                                  itemId: itemInfo.id, \n                                                  itemType: itemInfo.type, \n                                                  itemTitle: booking.item\n                                                });\n                                              }\n                                            }}>\n                                              <Star className=\"w-3 h-3 mr-2\" /> Write Review\n                                            </Button>\n                                          </DialogTrigger>\n                                          <DialogContent>\n                                            <DialogHeader>\n                                              <DialogTitle>Review your experience</DialogTitle>\n                                              <DialogDescription>\n                                                How was your experience with {booking.item}?\n                                              </DialogDescription>\n                                            </DialogHeader>\n                                            <div className=\"grid gap-4 py-4\">\n                                              <div className=\"space-y-2\">\n                                                <Label>Rating</Label>\n                                                <div className=\"flex gap-2\">\n                                                  {[1, 2, 3, 4, 5].map((star) => (\n                                                    <button\n                                                      key={star}\n                                                      type=\"button\"\n                                                      onClick={() => setReviewForm({ ...reviewForm, rating: star })}\n                                                      className=\"focus:outline-none\"\n                                                    >\n                                                      <Star \n                                                        className={`w-8 h-8 ${star <= reviewForm.rating ? \"text-yellow-500 fill-yellow-500\" : \"text-gray-300\"}`} \n                                                      />\n                                                    </button>\n                                                  ))}\n                                                </div>\n                                              </div>\n                                              <div className=\"space-y-2\">\n                                                <Label>Comment</Label>\n                                                <textarea \n                                                  className=\"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n                                                  placeholder=\"Share your experience...\"\n                                                  value={reviewForm.comment}\n                                                  onChange={(e) => setReviewForm({...reviewForm, comment: e.target.value})}\n                                                />\n                                              </div>\n                                            </div>\n                                            <DialogFooter>\n                                              <Button onClick={handleSubmitReview}>Submit Review</Button>\n                                            </DialogFooter>\n                                          </DialogContent>\n                                        </Dialog>\n                                      )\n                                    )}\n                                  </div>\n                                </div>\n                              </div>\n                            </CardContent>\n                          </Card>\n                        );\n                      })\n                    )}\n                  </div>\n                </div>\n              )}\n\n              {activeTab === \"payment\" && (\n                <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n                  <div className=\"flex justify-between items-center\">\n                    <div>\n                      <h1 className=\"font-serif text-3xl font-bold text-primary mb-2\">Payment Methods</h1>\n                      <p className=\"text-muted-foreground\">Manage your saved cards for faster booking.</p>\n                    </div>\n                    <Dialog>\n                      <DialogTrigger asChild>\n                        <Button><Plus className=\"w-4 h-4 mr-2\" /> Add New Card</Button>\n                      </DialogTrigger>\n                      <DialogContent>\n                        <DialogHeader>\n                          <DialogTitle>Add Payment Method</DialogTitle>\n                          <DialogDescription>Enter your card details securely.</DialogDescription>\n                        </DialogHeader>\n                        <div className=\"grid gap-4 py-4\">\n                          <div className=\"grid gap-2\">\n                            <Label>Cardholder Name</Label>\n                            <Input \n                              placeholder=\"JOHN DOE\" \n                              value={newCard.cardholderName}\n                              onChange={(e) => setNewCard({...newCard, cardholderName: e.target.value})}\n                            />\n                          </div>\n                          <div className=\"grid gap-2\">\n                            <Label>Card Number (Last 4)</Label>\n                            <Input \n                              placeholder=\"4242\" \n                              maxLength={4}\n                              value={newCard.last4}\n                              onChange={(e) => setNewCard({...newCard, last4: e.target.value})}\n                            />\n                          </div>\n                          <div className=\"grid grid-cols-2 gap-4\">\n                            <div className=\"grid gap-2\">\n                              <Label>Expiry Date</Label>\n                              <Input \n                                placeholder=\"MM/YY\" \n                                value={newCard.expiry}\n                                onChange={(e) => setNewCard({...newCard, expiry: e.target.value})}\n                              />\n                            </div>\n                            <div className=\"grid gap-2\">\n                              <Label>CVC</Label>\n                              <Input placeholder=\"123\" type=\"password\" maxLength={3} />\n                            </div>\n                          </div>\n                        </div>\n                        <DialogFooter>\n                          <Button onClick={handleAddCard}>Save Card</Button>\n                        </DialogFooter>\n                      </DialogContent>\n                    </Dialog>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                    {paymentCards.map((card) => (\n                      <Card key={card.id} className=\"bg-gradient-to-br from-slate-900 to-slate-800 text-white border-none shadow-lg relative overflow-hidden group\">\n                        <div className=\"absolute top-0 right-0 p-32 bg-white/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2\"></div>\n                        <CardContent className=\"p-6 relative z-10 flex flex-col justify-between h-[200px]\">\n                          <div className=\"flex justify-between items-start\">\n                            <CreditCard className=\"w-8 h-8 text-white/80\" />\n                            <div className=\"text-lg font-bold tracking-widest\">{card.brand.toUpperCase()}</div>\n                          </div>\n                          \n                          <div className=\"space-y-4\">\n                            <div className=\"text-2xl font-mono tracking-widest\">\n                              â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ {card.last4}\n                            </div>\n                            <div className=\"flex justify-between items-end\">\n                              <div>\n                                <div className=\"text-xs text-white/60 uppercase mb-1\">Card Holder</div>\n                                <div className=\"font-medium tracking-wide\">{card.cardholderName}</div>\n                              </div>\n                              <div>\n                                <div className=\"text-xs text-white/60 uppercase mb-1\">Expires</div>\n                                <div className=\"font-medium tracking-wide\">{card.expiry}</div>\n                              </div>\n                            </div>\n                          </div>\n                          \n                          <Button \n                            variant=\"destructive\" \n                            size=\"icon\" \n                            className=\"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity\"\n                            onClick={async () => {\n                              if (user?.email) {\n                                const deleted = await deletePaymentCard(card.id, user.email);\n                                if (deleted) {\n                                  toast({ title: \"Card Removed\", description: \"Payment method has been deleted.\" });\n                                }\n                              }\n                            }}\n                          >\n                            <Trash className=\"w-4 h-4\" />\n                          </Button>\n                        </CardContent>\n                      </Card>\n                    ))}\n                    \n                    <div className=\"border-2 border-dashed border-muted-foreground/20 rounded-xl flex flex-col items-center justify-center p-6 h-[200px] text-muted-foreground hover:bg-muted/10 transition-colors cursor-pointer\">\n                      <CreditCard className=\"w-8 h-8 mb-2\" />\n                      <span className=\"font-medium\">Add another card</span>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {activeTab === \"rewards\" && (\n                <div className=\"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n                  <div>\n                    <h1 className=\"font-serif text-3xl font-bold text-primary mb-2\">Voyager Rewards</h1>\n                    <p className=\"text-muted-foreground\">Your status level and exclusive benefits.</p>\n                  </div>\n\n                  {(() => {\n                    const tier = userRewards?.tier || 'Bronze';\n                    const points = userRewards?.points || 0;\n                    const nextTierPoints = tier === 'Bronze' ? 5000 : tier === 'Silver' ? 20000 : tier === 'Gold' ? 50000 : 100000;\n                    const nextTier = tier === 'Bronze' ? 'Silver' : tier === 'Silver' ? 'Gold' : tier === 'Gold' ? 'Platinum' : 'Elite';\n                    const tierColors = {\n                      Bronze: 'from-amber-600 to-orange-700 text-orange-100',\n                      Silver: 'from-slate-400 to-slate-600 text-slate-100',\n                      Gold: 'from-amber-200 to-yellow-400 text-yellow-950',\n                      Platinum: 'from-slate-200 to-slate-400 text-slate-900'\n                    };\n                    const tierBenefits: Record<string, string[]> = {\n                      Bronze: ['Welcome bonus points', 'Birthday rewards', 'Member-only deals'],\n                      Silver: ['Priority Check-in', '5% Booking Discount', 'Early Access to Sales'],\n                      Gold: ['Priority Check-in', 'Free Room Upgrade', 'Late Checkout', 'Welcome Gift'],\n                      Platinum: ['Dedicated 24/7 Concierge', 'Complimentary Airport Transfers', 'Exclusive Event Access', 'VIP Lounge Access']\n                    };\n\n                    return (\n                      <>\n                        <Card className={`bg-gradient-to-r ${tierColors[tier]} border-none shadow-lg overflow-hidden relative`}>\n                          <div className=\"absolute right-0 top-0 h-full w-1/2 bg-gradient-to-l from-white/20 to-transparent\"></div>\n                          <CardContent className=\"p-8 relative z-10\">\n                            <div className=\"flex justify-between items-start mb-8\">\n                              <div>\n                                <h2 className=\"text-3xl font-serif font-bold mb-1\">{tier} Status</h2>\n                                <p className=\"opacity-80 font-medium\">\n                                  Member since {userRewards?.memberSince ? new Date(userRewards.memberSince).getFullYear() : new Date().getFullYear()}\n                                </p>\n                              </div>\n                              <Award className=\"w-16 h-16 opacity-80\" />\n                            </div>\n                            \n                            <div className=\"space-y-2 mb-6\">\n                              <div className=\"flex justify-between text-sm font-bold\">\n                                <span>{points.toLocaleString()} Points</span>\n                                <span>{nextTierPoints.toLocaleString()} Goal</span>\n                              </div>\n                              <div className=\"h-3 bg-black/10 rounded-full overflow-hidden\">\n                                <div \n                                  className=\"h-full bg-current opacity-80 rounded-full\" \n                                  style={{ width: `${Math.min((points / nextTierPoints) * 100, 100)}%` }}\n                                ></div>\n                              </div>\n                              <p className=\"text-xs opacity-70 pt-1\">\n                                {points >= nextTierPoints \n                                  ? `You've reached the maximum tier!`\n                                  : `You need ${(nextTierPoints - points).toLocaleString()} more points to reach ${nextTier} status.`\n                                }\n                              </p>\n                            </div>\n\n                            <div className=\"grid grid-cols-2 gap-4 pt-4 border-t border-current/20\">\n                              <div>\n                                <div className=\"text-2xl font-bold\">{userRewards?.totalBookings || 0}</div>\n                                <div className=\"text-xs opacity-70\">Total Bookings</div>\n                              </div>\n                              <div>\n                                <div className=\"text-2xl font-bold\">${(userRewards?.totalSpent || 0).toLocaleString()}</div>\n                                <div className=\"text-xs opacity-70\">Total Spent</div>\n                              </div>\n                            </div>\n                          </CardContent>\n                        </Card>\n\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                          <Card>\n                            <CardHeader>\n                              <CardTitle className=\"flex items-center gap-2\">\n                                <Shield className=\"w-5 h-5 text-primary\" /> Current Benefits\n                              </CardTitle>\n                            </CardHeader>\n                            <CardContent>\n                              <ul className=\"space-y-3\">\n                                {tierBenefits[tier].map((benefit, i) => (\n                                  <li key={i} className=\"flex items-center gap-3\">\n                                    <CheckCircle className=\"w-5 h-5 text-green-600 flex-shrink-0\" />\n                                    <span>{benefit}</span>\n                                  </li>\n                                ))}\n                              </ul>\n                            </CardContent>\n                          </Card>\n\n                          <Card>\n                            <CardHeader>\n                              <CardTitle className=\"flex items-center gap-2\">\n                                <Award className=\"w-5 h-5 text-primary\" /> Recent Activity\n                              </CardTitle>\n                            </CardHeader>\n                            <CardContent>\n                              {rewardTransactions.length > 0 ? (\n                                <ul className=\"space-y-3\">\n                                  {rewardTransactions.slice(0, 5).map((tx) => (\n                                    <li key={tx.id} className=\"flex items-center justify-between text-sm\">\n                                      <span className=\"text-muted-foreground\">{tx.description}</span>\n                                      <span className={tx.points >= 0 ? 'text-green-600 font-medium' : 'text-red-600 font-medium'}>\n                                        {tx.points >= 0 ? '+' : ''}{tx.points}\n                                      </span>\n                                    </li>\n                                  ))}\n                                </ul>\n                              ) : (\n                                <p className=\"text-muted-foreground text-sm\">No recent transactions. Book your first trip to earn points!</p>\n                              )}\n                            </CardContent>\n                          </Card>\n                        </div>\n                      </>\n                    );\n                  })()}\n                </div>\n              )}\n\n              {activeTab === \"support\" && (\n                <div className=\"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500\">\n                  <div className=\"flex justify-between items-center\">\n                    <div>\n                      <h1 className=\"font-serif text-3xl font-bold text-primary mb-2\">Support Tickets</h1>\n                      <p className=\"text-muted-foreground\">View your support history and create new requests.</p>\n                    </div>\n                    <Dialog>\n                      <DialogTrigger asChild>\n                        <Button><Plus className=\"w-4 h-4 mr-2\" /> New Ticket</Button>\n                      </DialogTrigger>\n                      <DialogContent>\n                        <DialogHeader>\n                          <DialogTitle>Create Support Ticket</DialogTitle>\n                          <DialogDescription>Describe your issue and we'll help you out.</DialogDescription>\n                        </DialogHeader>\n                        <div className=\"grid gap-4 py-4\">\n                          <div className=\"grid gap-2\">\n                            <Label>Subject</Label>\n                            <Input \n                              placeholder=\"E.g., Change booking dates\" \n                              value={newTicket.subject}\n                              onChange={(e) => setNewTicket({...newTicket, subject: e.target.value})}\n                            />\n                          </div>\n                          <div className=\"grid gap-2\">\n                            <Label>Priority</Label>\n                            <select \n                              className=\"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n                              value={newTicket.priority}\n                              onChange={(e) => setNewTicket({...newTicket, priority: e.target.value as any})}\n                            >\n                              <option value=\"Low\">Low</option>\n                              <option value=\"Medium\">Medium</option>\n                              <option value=\"High\">High</option>\n                            </select>\n                          </div>\n                          <div className=\"grid gap-2\">\n                            <Label>Message</Label>\n                            <textarea \n                              className=\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n                              placeholder=\"Describe your issue...\"\n                              value={newTicket.message}\n                              onChange={(e) => setNewTicket({...newTicket, message: e.target.value})}\n                            />\n                          </div>\n                        </div>\n                        <DialogFooter>\n                          <Button onClick={handleCreateTicket}>Create Ticket</Button>\n                        </DialogFooter>\n                      </DialogContent>\n                    </Dialog>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 gap-4\">\n                    {(!userTickets || userTickets.length === 0) ? (\n                      <Card>\n                        <CardContent className=\"py-12 text-center\">\n                          <MessageSquare className=\"w-12 h-12 mx-auto text-muted-foreground mb-4\" />\n                          <p className=\"text-muted-foreground\">No support tickets yet.</p>\n                          <p className=\"text-sm text-muted-foreground mt-1\">Create a new ticket if you need assistance.</p>\n                        </CardContent>\n                      </Card>\n                    ) : userTickets.map((ticket) => {\n                      const lastReply = ticket.replies && ticket.replies.length > 0 ? ticket.replies[0] : null;\n                      return (\n                      <Card key={ticket.id} className={`transition-all ${selectedTicketId === ticket.id ? 'ring-2 ring-primary' : 'hover:border-primary/50'}`}>\n                        <CardHeader className=\"pb-3 cursor-pointer\" onClick={() => setSelectedTicketId(selectedTicketId === ticket.id ? null : ticket.id)}>\n                          <div className=\"flex justify-between items-start\">\n                            <div className=\"space-y-1 flex-1\">\n                              <div className=\"flex items-center gap-2\">\n                                <span className=\"text-xs font-mono text-muted-foreground bg-muted px-2 py-1 rounded\">{ticket.id}</span>\n                                <CardTitle className=\"text-base\">{ticket.subject}</CardTitle>\n                              </div>\n                              <CardDescription className=\"flex items-center gap-2 text-xs flex-wrap\">\n                                <Clock className=\"w-3 h-3\" /> {ticket.date}\n                                {lastReply && (\n                                  <>\n                                    <span className=\"mx-1\">â€¢</span>\n                                    <span className=\"text-xs font-medium\">\n                                      Last reply by: \n                                    </span>\n                                    <Badge \n                                      variant={lastReply.sender === 'user' ? 'outline' : 'default'} \n                                      className={`text-xs ${\n                                        lastReply.sender === 'user' \n                                          ? 'bg-blue-50 text-blue-700 border-blue-200' \n                                          : 'bg-green-50 text-green-700 border-green-200'\n                                      }`}\n                                    >\n                                      {lastReply.sender === 'user' ? 'ðŸ‘¤ You' : 'ðŸ›Ÿ Admin'}\n                                    </Badge>\n                                  </>\n                                )}\n                              </CardDescription>\n                            </div>\n                            <div className=\"flex gap-2\">\n                              <Badge variant={ticket.priority === \"High\" ? \"destructive\" : ticket.priority === \"Medium\" ? \"default\" : \"secondary\"}>\n                                {ticket.priority}\n                              </Badge>\n                              <Badge variant=\"outline\" className={\n                                ticket.status === \"Open\" ? \"text-green-600 border-green-200 bg-green-50\" : \n                                ticket.status === \"Closed\" ? \"text-muted-foreground bg-muted\" : \"text-blue-600 border-blue-200 bg-blue-50\"\n                              }>\n                                {ticket.status}\n                              </Badge>\n                            </div>\n                          </div>\n                        </CardHeader>\n                        \n                        {selectedTicketId === ticket.id && (\n                          <CardContent className=\"pt-0 animate-in slide-in-from-top-2 duration-200\">\n                            <div className=\"border-t pt-4 mt-2 space-y-4\">\n                              <h4 className=\"text-sm font-semibold text-muted-foreground uppercase tracking-wider\">Conversation History</h4>\n                              \n                              {(!ticket.replies || ticket.replies.length === 0) ? (\n                                <p className=\"text-sm text-muted-foreground italic\">No replies yet.</p>\n                              ) : (\n                                <div className=\"space-y-4 max-h-[300px] overflow-y-auto p-2\">\n                                  {ticket.replies.map((reply) => (\n                                    <div key={reply.id} className={`flex ${reply.sender === \"user\" ? \"justify-end\" : \"justify-start\"}`}>\n                                      <div className={`max-w-[80%] rounded-lg p-3 text-sm ${\n                                        reply.sender === \"user\" \n                                          ? \"bg-primary text-primary-foreground rounded-br-none\" \n                                          : \"bg-muted rounded-bl-none\"\n                                      }`}>\n                                        <p>{reply.message}</p>\n                                        <div className={`text-[10px] mt-1 opacity-70 ${reply.sender === \"user\" ? \"text-right\" : \"text-left\"}`}>\n                                          {reply.date}\n                                        </div>\n                                      </div>\n                                    </div>\n                                  ))}\n                                </div>\n                              )}\n                              \n                              {ticket.status !== \"Closed\" && (\n                                <div className=\"flex gap-2 mt-4 pt-4 border-t\">\n                                  <Input \n                                    placeholder=\"Type your reply...\" \n                                    value={replyMessage}\n                                    onChange={(e) => setReplyMessage(e.target.value)}\n                                    onKeyDown={(e) => e.key === \"Enter\" && handleReply(ticket.id)}\n                                  />\n                                  <Button size=\"icon\" onClick={() => handleReply(ticket.id)}>\n                                    <Send className=\"w-4 h-4\" />\n                                  </Button>\n                                </div>\n                              )}\n                            </div>\n                          </CardContent>\n                        )}\n                      </Card>\n                      );\n                    })}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n","path":null,"size_bytes":57885,"size_tokens":null},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","path":null,"size_bytes":792,"size_tokens":null},"client/src/components/ui/command.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","path":null,"size_bytes":4887,"size_tokens":null},"client/src/components/layout.tsx":{"content":"import { Link, useLocation } from \"wouter\";\nimport { Plane, Menu, User, LogOut, Mail, Phone, MapPin } from \"lucide-react\";\nimport { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Sheet, SheetContent, SheetTrigger } from \"@/components/ui/sheet\";\nimport { cn } from \"@/lib/utils\";\nimport { useAuth } from \"@/lib/auth-context\";\nimport { useStore } from \"@/lib/store-context\";\nimport { DropdownMenu, DropdownMenuTrigger, DropdownMenuContent, DropdownMenuItem, DropdownMenuLabel, DropdownMenuSeparator } from \"@/components/ui/dropdown-menu\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nfunction NewsletterForm() {\n  const [email, setEmail] = useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const { toast } = useToast();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!email || !email.includes('@')) {\n      toast({\n        title: \"Invalid Email\",\n        description: \"Please enter a valid email address.\",\n        variant: \"destructive\"\n      });\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      const response = await fetch('/api/subscribers', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email })\n      });\n\n      if (response.ok) {\n        toast({\n          title: \"Subscribed!\",\n          description: \"Thank you for subscribing to our newsletter.\",\n        });\n        setEmail(\"\");\n      } else {\n        const data = await response.json();\n        throw new Error(data.message || 'Failed to subscribe');\n      }\n    } catch (error: any) {\n      toast({\n        title: \"Subscription Failed\",\n        description: error.message || \"There was an error subscribing. Please try again.\",\n        variant: \"destructive\"\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"flex gap-2\">\n      <input \n        type=\"email\" \n        placeholder=\"Your email address\" \n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n        disabled={isSubmitting}\n        className=\"bg-white/5 border border-white/10 rounded-sm px-4 py-2 text-sm w-full focus:outline-none focus:border-secondary text-white placeholder:text-white/40\"\n        required\n      />\n      <Button variant=\"secondary\" size=\"sm\" type=\"submit\" disabled={isSubmitting}>\n        {isSubmitting ? \"...\" : \"Join\"}\n      </Button>\n    </form>\n  );\n}\n\nexport default function Layout({ children }: { children: React.ReactNode }) {\n  const [location] = useLocation();\n  const [scrolled, setScrolled] = useState(false);\n  const { user, logout } = useAuth();\n  const { footer, websiteSettings } = useStore();\n\n  useEffect(() => {\n    const handleScroll = () => {\n      setScrolled(window.scrollY > 50);\n    };\n    window.addEventListener(\"scroll\", handleScroll);\n    \n    // Update SEO\n    if (websiteSettings) {\n      document.title = websiteSettings.seoTitle;\n      // In a real app, we would update meta tags here too using a library like react-helmet\n    }\n\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, [websiteSettings]);\n\n  const navLinks = [\n    { href: \"/\", label: \"Home\" },\n    { href: \"/trips\", label: \"Trips\" },\n    { href: \"/hotels\", label: \"Hotels\" },\n    { href: \"/cars\", label: \"Private Transport\" },\n    { href: \"/last-minute\", label: \"Last Minute\", isSpecial: true },\n  ];\n\n  return (\n    <div className=\"min-h-screen flex flex-col bg-background font-sans text-foreground selection:bg-secondary selection:text-white\">\n      {/* Navbar */}\n      <header\n        className={cn(\n          \"fixed top-0 left-0 right-0 z-50 transition-all duration-300 ease-in-out border-b border-transparent\",\n          scrolled || location !== \"/\"\n            ? \"bg-white/90 backdrop-blur-md shadow-sm border-border py-4\"\n            : \"bg-transparent py-6 text-white\"\n        )}\n      >\n        <div className=\"container mx-auto px-6 flex items-center justify-between\">\n          <Link href=\"/\" className=\"flex items-center gap-2 group\">\n              {websiteSettings.logo ? (\n                <img \n                  src={websiteSettings.logo} \n                  alt={websiteSettings.name} \n                  className=\"w-10 h-10 object-contain\" \n                />\n              ) : (\n                <div className={cn(\n                  \"w-10 h-10 rounded-full flex items-center justify-center border transition-colors\",\n                  scrolled || location !== \"/\" ? \"border-primary text-primary\" : \"border-white text-white\"\n                )}>\n                  <Plane className=\"w-5 h-5\" />\n                </div>\n              )}\n              <span className={cn(\n                \"font-serif text-2xl font-bold tracking-tight\",\n                scrolled || location !== \"/\" ? \"text-primary\" : \"text-white\"\n              )}>\n                {websiteSettings.name}\n              </span>\n          </Link>\n\n          {/* Desktop Nav */}\n          <nav className=\"hidden md:flex items-center gap-8\">\n            {navLinks.map((link) => (\n              <Link \n                key={link.href} \n                href={link.href}\n                className={cn(\n                  \"text-sm font-medium uppercase tracking-widest hover:text-secondary transition-colors relative after:content-[''] after:absolute after:left-0 after:bottom-[-4px] after:h-[2px] after:bg-secondary after:transition-all after:duration-300\",\n                  location === link.href ? \"text-secondary after:w-full\" : \"after:w-0 hover:after:w-full\",\n                  scrolled || location !== \"/\" ? \"text-foreground\" : \"text-white/90\",\n                  link.isSpecial && \"text-destructive font-bold hover:text-destructive/80 after:bg-destructive\"\n                )}\n              >\n                {link.label}\n              </Link>\n            ))}\n          </nav>\n\n          <div className=\"hidden md:flex items-center gap-4\">\n            {user ? (\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                   <Button variant=\"ghost\" className={cn(\n                    \"flex items-center gap-2\",\n                    scrolled || location !== \"/\" ? \"text-foreground\" : \"text-white hover:text-white hover:bg-white/10\"\n                   )}>\n                     <div className=\"w-8 h-8 rounded-full bg-secondary flex items-center justify-center text-white\">\n                       {user.name.charAt(0)}\n                     </div>\n                     <span className=\"font-medium\">{user.name}</span>\n                   </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent align=\"end\">\n                  <DropdownMenuLabel>My Account</DropdownMenuLabel>\n                  <DropdownMenuSeparator />\n                  {user.role === \"admin\" && (\n                    <DropdownMenuItem asChild>\n                      <Link href=\"/admin\">Admin Dashboard</Link>\n                    </DropdownMenuItem>\n                  )}\n                  <DropdownMenuItem asChild>\n                    <Link href=\"/profile\">My Profile</Link>\n                  </DropdownMenuItem>\n                  <DropdownMenuItem onClick={logout} className=\"text-destructive focus:text-destructive\">\n                    <LogOut className=\"w-4 h-4 mr-2\" /> Logout\n                  </DropdownMenuItem>\n                </DropdownMenuContent>\n              </DropdownMenu>\n            ) : (\n              <Link href=\"/login\">\n                <Button variant=\"ghost\" size=\"sm\" className={cn(\n                  \"font-medium\", \n                  scrolled || location !== \"/\" ? \"text-foreground hover:text-primary hover:bg-primary/5\" : \"text-white hover:text-white hover:bg-white/10\"\n                )}>\n                  Sign In\n                </Button>\n              </Link>\n            )}\n            \n            <Link href=\"/trips\">\n              <Button className=\"bg-secondary hover:bg-secondary/90 text-white rounded-full px-6 font-medium\">\n                Book Now\n              </Button>\n            </Link>\n          </div>\n\n          {/* Mobile Nav */}\n          <Sheet>\n            <SheetTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" className=\"md:hidden\">\n                <Menu className={cn(\"h-6 w-6\", scrolled || location !== \"/\" ? \"text-foreground\" : \"text-white\")} />\n              </Button>\n            </SheetTrigger>\n            <SheetContent className=\"w-[300px] sm:w-[400px]\">\n              <nav className=\"flex flex-col gap-6 mt-10\">\n                {navLinks.map((link) => (\n                  <Link \n                    key={link.href} \n                    href={link.href}\n                    className={cn(\n                      \"text-lg font-serif font-medium hover:text-secondary transition-colors\",\n                      location === link.href ? \"text-secondary\" : \"text-foreground\",\n                      link.isSpecial && \"text-destructive\"\n                    )}\n                  >\n                    {link.label}\n                  </Link>\n                ))}\n                {user ? (\n                  <>\n                    {user.role === \"admin\" && (\n                      <Link href=\"/admin\" className=\"text-lg font-serif font-medium hover:text-secondary transition-colors\">\n                        Admin Dashboard\n                      </Link>\n                    )}\n                    <Link href=\"/profile\" className=\"text-lg font-serif font-medium hover:text-secondary transition-colors\">\n                      My Profile\n                    </Link>\n                    <button onClick={logout} className=\"text-lg font-serif font-medium text-left hover:text-destructive transition-colors\">\n                      Logout\n                    </button>\n                  </>\n                ) : (\n                  <Link href=\"/login\" className=\"text-lg font-serif font-medium hover:text-secondary transition-colors\">\n                    Sign In\n                  </Link>\n                )}\n              </nav>\n            </SheetContent>\n          </Sheet>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"flex-grow\">\n        {children}\n      </main>\n\n      {/* Footer */}\n      <footer className=\"bg-primary text-primary-foreground pt-20 pb-10\">\n        <div className=\"container mx-auto px-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-12 mb-16\">\n            <div className=\"col-span-1 md:col-span-1\">\n              <div className=\"flex items-center gap-2 mb-6\">\n                {websiteSettings.logo ? (\n                   <img src={websiteSettings.logo} alt={websiteSettings.name} className=\"w-8 h-8 object-contain\" />\n                ) : (\n                   <div className=\"w-8 h-8 rounded-full border border-white/20 flex items-center justify-center text-white\">\n                     <Plane className=\"w-4 h-4\" />\n                   </div>\n                )}\n                <span className=\"font-serif text-xl font-bold\">{websiteSettings.name}</span>\n              </div>\n              <p className=\"text-primary-foreground/60 text-sm leading-relaxed mb-6\">\n                {footer.description}\n              </p>\n            </div>\n\n            <div>\n              <h4 className=\"font-serif text-lg mb-6\">Experiences</h4>\n              <ul className=\"space-y-4 text-sm text-primary-foreground/60\">\n                {footer.experiences.map((link, index) => (\n                  <li key={index}>\n                    <Link href={link.href} className=\"hover:text-secondary transition-colors\">\n                      {link.label}\n                    </Link>\n                  </li>\n                ))}\n              </ul>\n            </div>\n\n            <div>\n              <h4 className=\"font-serif text-lg mb-6\">Contact Us</h4>\n              <ul className=\"space-y-4 text-sm text-primary-foreground/60\">\n                {websiteSettings.contactEmail && (\n                  <li className=\"flex items-center gap-2\">\n                    <Mail className=\"w-4 h-4\" />\n                    <a href={`mailto:${websiteSettings.contactEmail}`} className=\"hover:text-secondary transition-colors\">\n                      {websiteSettings.contactEmail}\n                    </a>\n                  </li>\n                )}\n                {websiteSettings.contactPhone && (\n                  <li className=\"flex items-center gap-2\">\n                    <Phone className=\"w-4 h-4\" />\n                    <a href={`tel:${websiteSettings.contactPhone.replace(/\\s/g, '')}`} className=\"hover:text-secondary transition-colors\">\n                      {websiteSettings.contactPhone}\n                    </a>\n                  </li>\n                )}\n                {websiteSettings.contactAddress && (\n                  <li className=\"flex items-start gap-2\">\n                    <MapPin className=\"w-4 h-4 mt-0.5 flex-shrink-0\" />\n                    <span className=\"whitespace-pre-line\">{websiteSettings.contactAddress}</span>\n                  </li>\n                )}\n                {websiteSettings.whatsappNumber && (\n                  <li>\n                    <a \n                      href={`https://wa.me/${websiteSettings.whatsappNumber.replace(/[^0-9+]/g, '')}`} \n                      target=\"_blank\" \n                      rel=\"noopener noreferrer\"\n                      className=\"inline-flex items-center gap-2 hover:text-secondary transition-colors\"\n                    >\n                      <svg className=\"w-4 h-4\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                        <path d=\"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z\"/>\n                      </svg>\n                      WhatsApp\n                    </a>\n                  </li>\n                )}\n              </ul>\n            </div>\n\n            <div>\n              <h4 className=\"font-serif text-lg mb-6\">Newsletter</h4>\n              <p className=\"text-sm text-primary-foreground/60 mb-4\">\n                Subscribe for exclusive offers and travel inspiration.\n              </p>\n              <NewsletterForm />\n              \n              {/* Social Media Links */}\n              {(websiteSettings.facebookUrl || websiteSettings.instagramUrl || websiteSettings.twitterUrl || websiteSettings.linkedinUrl || websiteSettings.youtubeUrl) && (\n                <div className=\"mt-6\">\n                  <h5 className=\"text-sm font-medium mb-3\">Follow Us</h5>\n                  <div className=\"flex gap-4\">\n                    {websiteSettings.facebookUrl && (\n                      <a href={websiteSettings.facebookUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-primary-foreground/60 hover:text-secondary transition-colors\">\n                        <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"/></svg>\n                      </a>\n                    )}\n                    {websiteSettings.instagramUrl && (\n                      <a href={websiteSettings.instagramUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-primary-foreground/60 hover:text-secondary transition-colors\">\n                        <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z\"/></svg>\n                      </a>\n                    )}\n                    {websiteSettings.twitterUrl && (\n                      <a href={websiteSettings.twitterUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-primary-foreground/60 hover:text-secondary transition-colors\">\n                        <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z\"/></svg>\n                      </a>\n                    )}\n                    {websiteSettings.linkedinUrl && (\n                      <a href={websiteSettings.linkedinUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-primary-foreground/60 hover:text-secondary transition-colors\">\n                        <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\"/></svg>\n                      </a>\n                    )}\n                    {websiteSettings.youtubeUrl && (\n                      <a href={websiteSettings.youtubeUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-primary-foreground/60 hover:text-secondary transition-colors\">\n                        <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z\"/></svg>\n                      </a>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          <div className=\"border-t border-white/10 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-primary-foreground/40 uppercase tracking-widest\">\n            <p>&copy; {new Date().getFullYear()} {websiteSettings.name}. All rights reserved.</p>\n            <div className=\"flex gap-6\">\n              <Link href=\"/privacy-policy\" className=\"hover:text-white transition-colors\">Privacy Policy</Link>\n              <Link href=\"/terms-of-service\" className=\"hover:text-white transition-colors\">Terms of Service</Link>\n            </div>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n}","path":null,"size_bytes":20570,"size_tokens":null},"README_START.md":{"content":"# ðŸš€ Automated Startup Script\n\n## Quick Start\n\nSimply run one of these commands:\n\n**Windows:**\n```bash\nnpm run start:auto\n```\nor\n```bash\nstart.bat\n```\n\n**Linux/Mac:**\n```bash\nnpm run start:auto\n```\nor\n```bash\nchmod +x start.sh\n./start.sh\n```\n\n## What the Script Does\n\nThe automated startup script (`start.js`) performs the following checks and fixes:\n\n### âœ… Step 1: Node.js Version Check\n- Verifies Node.js 20+ is installed\n- Shows error if version is too old\n\n### âœ… Step 2: Project Files Check\n- Verifies `package.json` exists\n- Ensures you're in the correct directory\n\n### âœ… Step 3: Dependencies Check & Install\n- Checks if `node_modules` exists\n- Verifies critical packages (`mysql2`, `express`, `react`, etc.)\n- **Automatically installs missing dependencies** with `npm install`\n\n### âœ… Step 4: MySQL Database Connection Test\n- Tests connection to MySQL database\n- Verifies database credentials\n- Checks if required tables exist\n- Shows helpful error messages if connection fails\n\n### âœ… Step 5: Production Build Check\n- Checks if `dist/` folder exists\n- Verifies build files are present\n\n### âœ… Step 6: Build Project (if needed)\n- **Automatically builds the project** if build is missing\n- Uses `npm run build` to create production files\n\n### âœ… Step 7: Start Server\n- Starts the server in production mode\n- Shows server URL (http://localhost:5000)\n- Handles graceful shutdown (Ctrl+C)\n\n## Features\n\n- ðŸ”§ **Auto-fix**: Installs missing dependencies automatically\n- ðŸ” **Smart checks**: Verifies everything before starting\n- ðŸ“Š **Clear feedback**: Color-coded status messages\n- ðŸ›¡ï¸ **Error handling**: Helpful error messages with solutions\n- ðŸš€ **One command**: Everything in a single script\n\n## Output Example\n\n```\n============================================================\n  VoyagerLuxury - Automated Startup Script\n============================================================\n\n[1] Checking Node.js version...\nâœ… Node.js v20.10.0 detected\n\n[2] Checking project files...\nâœ… package.json found\n\n[3] Checking dependencies...\nâœ… All dependencies are installed\n\n[4] Testing MySQL database connection...\nâ„¹ï¸  Attempting to connect to database...\nâœ… Database connection successful\nâ„¹ï¸  Database has 15 tables\nâœ… All required tables exist\n\n[5] Checking production build...\nâœ… Production build found (1.90 MB)\n\n============================================================\n  All checks passed! Starting server...\n============================================================\n\n[7] Starting server...\nâ„¹ï¸  Starting production server...\nâ„¹ï¸  Server will be available at http://localhost:5000\nâ„¹ï¸  Press Ctrl+C to stop the server\n\nâœ… Database connected successfully\nâœ… Database tables initialized successfully\n[express] serving on port 5000\n```\n\n## Troubleshooting\n\n### If the script fails:\n\n1. **Node.js not found**: Install Node.js 20+ from https://nodejs.org/\n2. **Dependencies fail to install**: Check your internet connection\n3. **Database connection fails**: \n   - Check network connectivity\n   - Verify firewall allows MySQL (port 3306)\n   - Check database credentials in `server/db.ts`\n4. **Build fails**: Check for TypeScript errors with `npm run check`\n\n### Manual Steps (if script doesn't work):\n\n```bash\n# 1. Install dependencies\nnpm install\n\n# 2. Test database\nnode diagnose-db.js\n\n# 3. Build project\nnpm run build\n\n# 4. Start server\nnpm start\n```\n\n## Environment Variables\n\nThe script respects these environment variables:\n\n- `NODE_ENV`: Set to `production` for production mode\n- `PORT`: Server port (default: 5000)\n\n## Database Configuration\n\nThe database connection is configured in `server/db.ts`:\n- Host: `mysql-200-131.mysql.prositehosting.net`\n- Database: `ocidb_01Raay53dC`\n- User: `voyageruser12`\n- Password: `19982206m.M`\n\n**Note**: Tables are automatically created on first run if they don't exist.\n\n## Support\n\nIf you encounter issues:\n1. Run `node diagnose-db.js` for database diagnostics\n2. Check server logs for error messages\n3. Verify all prerequisites are met\n4. Review `DEPLOYMENT_TROUBLESHOOTING.md` for detailed help\n\n---\n\n**Made with â¤ï¸ for VoyagerLuxury**\n\n","path":null,"size_bytes":4137,"size_tokens":null},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border bg-card text-card-foreground shadow\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","path":null,"size_bytes":1828,"size_tokens":null},"client/src/lib/store-context.tsx":{"content":"import { createContext, useContext, useState, ReactNode, useEffect } from \"react\";\n\n// Define types based on the data structure\nexport interface Trip {\n  id: string;\n  title: string;\n  location: string;\n  image: string;\n  price: string;\n  rating: number;\n  duration: string;\n  category: string;\n  features: string[];\n}\n\nexport interface Car {\n  id: string;\n  title: string;\n  location: string;\n  image: string;\n  price: string;\n  rating: number;\n  specs: string;\n  features: string[];\n}\n\nexport interface Offer {\n  id: string;\n  title: string;\n  location: string;\n  image: string;\n  price: string;\n  originalPrice: string;\n  rating: number;\n  endsIn: string;\n  discount: string;\n}\n\nexport interface RoomType {\n  id: string;\n  name: string;\n  price: string;\n  description?: string;\n  facilities: string[];\n}\n\nexport interface Hotel {\n  id: string;\n  title: string;\n  location: string;\n  image: string;\n  price: string;\n  rating: number;\n  amenities: string[];\n  alwaysAvailable: boolean;\n  isActive: boolean;\n  availableFrom?: string;\n  availableTo?: string;\n  stars?: number;\n  sortOrder?: number;\n  roomTypes?: RoomType[];\n}\n\nexport interface Booking {\n  id: string;\n  customer: string;\n  item: string;\n  date: string;\n  amount: string;\n  status: \"Confirmed\" | \"Pending\" | \"Cancelled\";\n  paymentStatus: \"Pending\" | \"Paid\" | \"Refunded\" | \"Failed\";\n}\n\nexport interface Review {\n  id: string;\n  itemId: string;\n  itemType: 'trip' | 'hotel' | 'car' | 'offer';\n  itemTitle: string;\n  userName: string;\n  userEmail?: string;\n  rating: number;\n  comment: string;\n  status: \"pending\" | \"approved\" | \"rejected\";\n  createdAt?: string;\n}\n\nexport interface PaymentCard {\n  id: string;\n  last4: string;\n  brand: string;\n  expiry: string;\n  cardholderName: string;\n  isDefault?: boolean;\n}\n\nexport interface UserRewards {\n  id: string;\n  userId: string;\n  points: number;\n  tier: \"Bronze\" | \"Silver\" | \"Gold\" | \"Platinum\";\n  totalBookings: number;\n  totalSpent: number;\n  memberSince: string;\n}\n\nexport interface RewardTransaction {\n  id: string;\n  userId: string;\n  points: number;\n  type: string;\n  description: string;\n  bookingId?: string;\n  createdAt: string;\n}\n\nexport interface RewardLevel {\n  level: \"Silver\" | \"Gold\" | \"Platinum\" | \"Black\";\n  points: number;\n  nextLevelPoints: number;\n  benefits: string[];\n}\n\nexport interface TicketReply {\n  id: string;\n  sender: \"user\" | \"support\";\n  message: string;\n  date: string;\n}\n\nexport interface SupportTicket {\n  id: string;\n  subject: string;\n  status: \"Open\" | \"In Progress\" | \"Closed\";\n  date: string;\n  priority: \"Low\" | \"Medium\" | \"High\";\n  userEmail: string;\n  replies: TicketReply[];\n}\n\nexport interface UserProfile {\n  name: string;\n  email: string;\n  phone: string;\n  address: string;\n  avatar: string;\n  reward: RewardLevel;\n}\n\nexport interface LinkItem {\n  label: string;\n  href: string;\n}\n\nexport interface FooterData {\n  description: string;\n  experiences: LinkItem[];\n  company: LinkItem[];\n  socials: {\n    facebook: string;\n    twitter: string;\n    instagram: string;\n  };\n}\n\nexport interface WebsiteSettings {\n  name: string;\n  logo: string;\n  tagline: string;\n  seoTitle: string;\n  seoDescription: string;\n  seoKeywords: string;\n  contactEmail: string;\n  contactPhone: string;\n  contactAddress: string;\n  facebookUrl: string;\n  instagramUrl: string;\n  twitterUrl: string;\n  linkedinUrl: string;\n  youtubeUrl: string;\n  whatsappNumber: string;\n  defaultCurrency: string;\n}\n\ninterface StoreContextType {\n  trips: Trip[];\n  hotels: Hotel[];\n  cars: Car[];\n  offers: Offer[];\n  loading: boolean;\n  \n  // Trip CRUD\n  addTrip: (trip: Omit<Trip, 'id'>) => Promise<Trip | null>;\n  updateTrip: (id: string, trip: Partial<Trip>) => Promise<boolean>;\n  deleteTrip: (id: string) => Promise<boolean>;\n  \n  // Hotel CRUD\n  addHotel: (hotel: Omit<Hotel, 'id'>) => Promise<Hotel | null>;\n  updateHotel: (hotel: Hotel) => Promise<boolean>;\n  deleteHotel: (id: string) => Promise<boolean>;\n  \n  // Car CRUD\n  addCar: (car: Omit<Car, 'id'>) => Promise<Car | null>;\n  updateCar: (id: string, car: Partial<Car>) => Promise<boolean>;\n  deleteCar: (id: string) => Promise<boolean>;\n  \n  // Offer CRUD\n  addOffer: (offer: Omit<Offer, 'id'>) => Promise<Offer | null>;\n  updateOffer: (id: string, offer: Partial<Offer>) => Promise<boolean>;\n  deleteOffer: (id: string) => Promise<boolean>;\n  \n  // Legacy deleteItem for backwards compatibility\n  deleteItem: (id: string, type: \"trip\" | \"hotel\" | \"car\" | \"offer\") => Promise<boolean>;\n  \n  footer: FooterData;\n  updateFooter: (data: Partial<FooterData>) => void;\n  updateFooterLink: (section: \"experiences\" | \"company\", index: number, link: LinkItem) => void;\n  userProfile: UserProfile;\n  updateUserProfile: (data: Partial<UserProfile>) => void;\n  paymentCards: PaymentCard[];\n  addPaymentCard: (card: PaymentCard, userId: string) => Promise<PaymentCard | null>;\n  deletePaymentCard: (id: string, userId: string) => Promise<boolean>;\n  fetchPaymentCards: (userId: string) => Promise<void>;\n  userRewards: UserRewards | null;\n  rewardTransactions: RewardTransaction[];\n  fetchUserRewards: (userId: string) => Promise<void>;\n  fetchRewardTransactions: (userId: string) => Promise<void>;\n  addRewardPoints: (userId: string, points: number, type: string, description: string, bookingId?: string) => Promise<UserRewards | null>;\n  detectedCurrency: string;\n  userTickets: SupportTicket[];\n  allTickets: SupportTicket[];\n  fetchUserTickets: (userEmail: string) => Promise<void>;\n  fetchAllTickets: () => Promise<void>;\n  createTicket: (ticket: Omit<SupportTicket, \"id\" | \"replies\" | \"status\" | \"date\" | \"userEmail\">, userEmail: string) => Promise<SupportTicket | null>;\n  replyToTicket: (ticketId: string, message: string, userEmail: string) => Promise<boolean>;\n  replyToTicketAsAdmin: (ticketId: string, message: string) => Promise<boolean>;\n  updateTicketStatus: (ticketId: string, status: \"Open\" | \"In Progress\" | \"Closed\") => Promise<boolean>;\n  bookings: Booking[];\n  addBooking: (booking: Booking) => void;\n  updateBooking: (id: string, booking: Partial<Booking>) => Promise<boolean>;\n  updatePaymentStatus: (id: string, paymentStatus: \"Pending\" | \"Paid\" | \"Refunded\" | \"Failed\") => Promise<boolean>;\n  deleteBooking: (id: string) => Promise<boolean>;\n  reviews: Review[];\n  addReview: (review: Omit<Review, 'id' | 'createdAt'>) => Promise<Review | null>;\n  updateReview: (id: string, review: Partial<Omit<Review, 'id' | 'createdAt'>>) => Promise<Review | null>;\n  updateReviewStatus: (id: string, status: \"approved\" | \"rejected\") => Promise<boolean>;\n  deleteReview: (id: string) => Promise<boolean>;\n  getReviewsByItem: (itemId: string, itemType: string) => Promise<Review[]>;\n  getApprovedReviewsByItem: (itemId: string, itemType: string) => Promise<Review[]>;\n  getReviewCount: (itemId: string, itemType: string) => number;\n  getAverageRating: (itemId: string, itemType: string) => number;\n  getReviewStats: (itemId: string, itemType: string) => { averageRating: number; reviewCount: number };\n  websiteSettings: WebsiteSettings;\n  updateWebsiteSettings: (settings: Partial<WebsiteSettings>) => void;\n  refetchData: () => void;\n}\n\n// Reviews will be fetched from database\n\nconst initialWebsiteSettings: WebsiteSettings = {\n  name: \"Voyager Hub\",\n  logo: \"\",\n  tagline: \"Luxury Travel Experiences\",\n  seoTitle: \"Voyager Hub | Luxury Travel Experiences\",\n  seoDescription: \"Curating exceptional journeys for the discerning traveler. We believe in the art of travel and the luxury of experience.\",\n  seoKeywords: \"luxury travel, exclusive trips, 5-star hotels, private transport\",\n  contactEmail: \"\",\n  contactPhone: \"\",\n  contactAddress: \"\",\n  facebookUrl: \"\",\n  instagramUrl: \"\",\n  twitterUrl: \"\",\n  linkedinUrl: \"\",\n  youtubeUrl: \"\",\n  whatsappNumber: \"\",\n  defaultCurrency: \"EUR\",\n};\n\nconst initialUserProfile: UserProfile = {\n  name: \"John Doe\",\n  email: \"john@example.com\",\n  phone: \"+1 (555) 123-4567\",\n  address: \"123 Luxury Lane, Beverly Hills, CA 90210\",\n  avatar: \"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80\",\n  reward: {\n    level: \"Gold\",\n    points: 12500,\n    nextLevelPoints: 20000,\n    benefits: [\"Priority Check-in\", \"Free Room Upgrade\", \"Late Checkout\", \"Welcome Gift\"]\n  }\n};\n\nconst initialPaymentCards: PaymentCard[] = [\n  { id: \"card_1\", last4: \"4242\", brand: \"Visa\", expiry: \"12/28\", cardholderName: \"JOHN DOE\" },\n  { id: \"card_2\", last4: \"8888\", brand: \"Mastercard\", expiry: \"09/26\", cardholderName: \"JOHN DOE\" }\n];\n\nconst initialUserTickets: SupportTicket[] = [\n  { \n    id: \"TK-2024\", \n    subject: \"Booking Modification Request\", \n    status: \"Open\", \n    date: \"2025-05-15\", \n    priority: \"High\",\n    userEmail: \"user@example.com\",\n    replies: [\n      { id: \"r1\", sender: \"user\", message: \"I need to change the dates for my Bali trip to next week.\", date: \"2025-05-15 10:00 AM\" }\n    ]\n  },\n  { \n    id: \"TK-1985\", \n    subject: \"Refund Inquiry\", \n    status: \"Closed\", \n    date: \"2025-04-10\", \n    priority: \"Medium\",\n    userEmail: \"user@example.com\",\n    replies: [\n      { id: \"r1\", sender: \"user\", message: \"When will I receive my refund for the cancelled car rental?\", date: \"2025-04-10 09:00 AM\" },\n      { id: \"r2\", sender: \"support\", message: \"Hello John, the refund was processed yesterday. It should appear in 3-5 business days.\", date: \"2025-04-11 11:30 AM\" }\n    ]\n  }\n];\n\nconst initialFooter: FooterData = {\n  description: \"Curating exceptional journeys for the discerning traveler. We believe in the art of travel and the luxury of experience.\",\n  experiences: [\n    { label: \"Signature Journeys\", href: \"/trips\" },\n    { label: \"Luxury Stays\", href: \"/hotels\" },\n    { label: \"Private Transport\", href: \"/cars\" },\n    { label: \"Last Minute Offers\", href: \"/last-minute\" },\n  ],\n  company: [\n    { label: \"About Us\", href: \"#\" },\n    { label: \"Concierge Services\", href: \"#\" },\n    { label: \"Press & Media\", href: \"#\" },\n    { label: \"Careers\", href: \"#\" },\n  ],\n  socials: {\n    facebook: \"#\",\n    twitter: \"#\",\n    instagram: \"#\"\n  }\n};\n\nconst StoreContext = createContext<StoreContextType | undefined>(undefined);\n\n// LocalStorage keys\nconst FOOTER_STORAGE_KEY = \"voyager_footer\";\nconst SETTINGS_STORAGE_KEY = \"voyager_settings\";\n\n// Helper to safely get from localStorage\nfunction getStoredData<T>(key: string, defaultValue: T): T {\n  if (typeof window === 'undefined') return defaultValue;\n  try {\n    const stored = localStorage.getItem(key);\n    return stored ? JSON.parse(stored) : defaultValue;\n  } catch {\n    return defaultValue;\n  }\n}\n\nexport function StoreProvider({ children }: { children: ReactNode }) {\n  const [trips, setTrips] = useState<Trip[]>([]);\n  const [hotels, setHotels] = useState<Hotel[]>([]);\n  const [cars, setCars] = useState<Car[]>([]);\n  const [offers, setOffers] = useState<Offer[]>([]);\n  const [bookings, setBookings] = useState<Booking[]>([]);\n  const [loading, setLoading] = useState(true);\n  \n  // Load footer and settings from localStorage\n  const [footer, setFooter] = useState<FooterData>(() => getStoredData(FOOTER_STORAGE_KEY, initialFooter));\n  const [userProfile, setUserProfile] = useState<UserProfile>(initialUserProfile);\n  const [paymentCards, setPaymentCards] = useState<PaymentCard[]>([]);\n  const [userRewards, setUserRewards] = useState<UserRewards | null>(null);\n  const [rewardTransactions, setRewardTransactions] = useState<RewardTransaction[]>([]);\n  const [detectedCurrency, setDetectedCurrency] = useState<string>(\"EUR\");\n  const [userTickets, setUserTickets] = useState<SupportTicket[]>([]);\n  const [allTickets, setAllTickets] = useState<SupportTicket[]>([]);\n  const [reviews, setReviews] = useState<Review[]>([]);\n  const [websiteSettings, setWebsiteSettings] = useState<WebsiteSettings>(() => getStoredData(SETTINGS_STORAGE_KEY, initialWebsiteSettings));\n\n  // Persist footer to localStorage when it changes\n  useEffect(() => {\n    localStorage.setItem(FOOTER_STORAGE_KEY, JSON.stringify(footer));\n  }, [footer]);\n\n  // Persist website settings to localStorage when they change\n  useEffect(() => {\n    localStorage.setItem(SETTINGS_STORAGE_KEY, JSON.stringify(websiteSettings));\n  }, [websiteSettings]);\n\n  // Fetch data from API\n  const fetchData = async () => {\n    setLoading(true);\n    try {\n      const [tripsRes, hotelsRes, carsRes, offersRes, bookingsRes, reviewsRes, siteSettingsRes] = await Promise.all([\n        fetch('/api/trips'),\n        fetch('/api/hotels'),\n        fetch('/api/cars'),\n        fetch('/api/last-minute-offers'),\n        fetch('/api/bookings'),\n        fetch('/api/reviews'),\n        fetch('/api/site-settings')\n      ]);\n\n      if (tripsRes.ok) {\n        const tripsData = await tripsRes.json();\n        setTrips(tripsData);\n      }\n      \n      if (hotelsRes.ok) {\n        const hotelsData = await hotelsRes.json();\n        setHotels(hotelsData);\n      }\n      \n      if (carsRes.ok) {\n        const carsData = await carsRes.json();\n        setCars(carsData);\n      }\n      \n      if (offersRes.ok) {\n        const offersData = await offersRes.json();\n        setOffers(offersData);\n      }\n      \n      if (bookingsRes.ok) {\n        const bookingsData = await bookingsRes.json();\n        setBookings(bookingsData);\n      }\n\n      if (reviewsRes.ok) {\n        const reviewsData = await reviewsRes.json();\n        setReviews(reviewsData);\n      }\n\n      if (siteSettingsRes.ok) {\n        const siteSettingsData = await siteSettingsRes.json();\n        setWebsiteSettings({\n          name: siteSettingsData.siteName || initialWebsiteSettings.name,\n          logo: siteSettingsData.logoUrl || \"\",\n          tagline: siteSettingsData.tagline || \"\",\n          seoTitle: siteSettingsData.seoTitle || initialWebsiteSettings.seoTitle,\n          seoDescription: siteSettingsData.seoDescription || initialWebsiteSettings.seoDescription,\n          seoKeywords: siteSettingsData.seoKeywords || initialWebsiteSettings.seoKeywords,\n          contactEmail: siteSettingsData.contactEmail || \"\",\n          contactPhone: siteSettingsData.contactPhone || \"\",\n          contactAddress: siteSettingsData.contactAddress || \"\",\n          facebookUrl: siteSettingsData.facebookUrl || \"\",\n          instagramUrl: siteSettingsData.instagramUrl || \"\",\n          twitterUrl: siteSettingsData.twitterUrl || \"\",\n          linkedinUrl: siteSettingsData.linkedinUrl || \"\",\n          youtubeUrl: siteSettingsData.youtubeUrl || \"\",\n          whatsappNumber: siteSettingsData.whatsappNumber || \"\",\n          defaultCurrency: siteSettingsData.defaultCurrency || \"EUR\",\n        });\n      }\n    } catch (error) {\n      console.error('Error fetching data from API:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n    detectUserCurrency();\n  }, []);\n\n  // Detect user's country and set appropriate currency\n  const detectUserCurrency = async () => {\n    try {\n      // Use free IP geolocation API\n      const res = await fetch('https://ipapi.co/json/');\n      if (res.ok) {\n        const data = await res.json();\n        const countryCurrency = getCountryCurrency(data.country_code);\n        if (countryCurrency) {\n          setDetectedCurrency(countryCurrency);\n        }\n      }\n    } catch (error) {\n      console.log('Could not detect user location, using default currency');\n    }\n  };\n\n  // Map country codes to currencies\n  const getCountryCurrency = (countryCode: string): string => {\n    const currencyMap: Record<string, string> = {\n      // Eurozone countries\n      AT: 'EUR', BE: 'EUR', CY: 'EUR', EE: 'EUR', FI: 'EUR', FR: 'EUR',\n      DE: 'EUR', GR: 'EUR', IE: 'EUR', IT: 'EUR', LV: 'EUR', LT: 'EUR',\n      LU: 'EUR', MT: 'EUR', NL: 'EUR', PT: 'EUR', SK: 'EUR', SI: 'EUR',\n      ES: 'EUR', HR: 'EUR',\n      // Other major currencies\n      US: 'USD', CA: 'CAD', GB: 'GBP', AU: 'AUD', NZ: 'NZD',\n      JP: 'JPY', CN: 'CNY', CH: 'CHF', SE: 'SEK', NO: 'NOK', DK: 'DKK',\n      IN: 'INR', BR: 'BRL', MX: 'MXN', KR: 'KRW', SG: 'SGD', HK: 'HKD',\n      TH: 'THB', MY: 'MYR', PH: 'PHP', ID: 'IDR', VN: 'VND',\n      AE: 'AED', SA: 'SAR', ZA: 'ZAR', RU: 'RUB', TR: 'TRY', PL: 'PLN',\n      CZ: 'CZK', HU: 'HUF', RO: 'RON', BG: 'BGN',\n    };\n    return currencyMap[countryCode] || 'EUR';\n  };\n\n  const refetchData = () => {\n    fetchData();\n  };\n\n  // ============== TRIP CRUD ==============\n  const addTrip = async (trip: Omit<Trip, 'id'>): Promise<Trip | null> => {\n    try {\n      const res = await fetch('/api/trips', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(trip)\n      });\n      if (res.ok) {\n        const newTrip = await res.json();\n        setTrips(prev => [...prev, newTrip]);\n        return newTrip;\n      }\n    } catch (error) {\n      console.error('Error adding trip:', error);\n    }\n    return null;\n  };\n\n  const updateTrip = async (id: string, trip: Partial<Trip>): Promise<boolean> => {\n    try {\n      const res = await fetch(`/api/trips/${id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(trip)\n      });\n      if (res.ok) {\n        const updatedTrip = await res.json();\n        setTrips(prev => prev.map(t => t.id === id ? updatedTrip : t));\n        return true;\n      }\n    } catch (error) {\n      console.error('Error updating trip:', error);\n    }\n    return false;\n  };\n\n  const deleteTrip = async (id: string): Promise<boolean> => {\n    try {\n      const res = await fetch(`/api/trips/${id}`, { method: 'DELETE' });\n      if (res.ok) {\n        setTrips(prev => prev.filter(t => t.id !== id));\n        return true;\n      }\n    } catch (error) {\n      console.error('Error deleting trip:', error);\n    }\n    return false;\n  };\n\n  // ============== HOTEL CRUD ==============\n  const addHotel = async (hotel: Omit<Hotel, 'id'>): Promise<Hotel | null> => {\n    try {\n      const { roomTypes, ...hotelData } = hotel as any;\n      const res = await fetch('/api/hotels', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(hotelData)\n      });\n      if (res.ok) {\n        const newHotel = await res.json();\n        \n        if (roomTypes && roomTypes.length > 0) {\n          const createdRoomTypes = [];\n          for (const rt of roomTypes) {\n            const rtRes = await fetch(`/api/hotels/${newHotel.id}/room-types`, {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({\n                name: rt.name,\n                price: rt.price,\n                description: rt.description || '',\n                facilities: rt.facilities || []\n              })\n            });\n            if (rtRes.ok) {\n              const createdRt = await rtRes.json();\n              createdRoomTypes.push(createdRt);\n            }\n          }\n          newHotel.roomTypes = createdRoomTypes;\n        }\n        \n        setHotels(prev => [...prev, newHotel]);\n        return newHotel;\n      }\n    } catch (error) {\n      console.error('Error adding hotel:', error);\n    }\n    return null;\n  };\n\n  const updateHotel = async (hotel: Hotel): Promise<boolean> => {\n    try {\n      const { roomTypes, ...hotelData } = hotel as any;\n      const res = await fetch(`/api/hotels/${hotel.id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(hotelData)\n      });\n      if (res.ok) {\n        const updatedHotel = await res.json();\n        \n        if (roomTypes) {\n          const existingHotel = hotels.find(h => h.id === hotel.id);\n          const existingRoomTypes = existingHotel?.roomTypes || [];\n          \n          const existingIds = new Set(existingRoomTypes.map(rt => rt.id));\n          const newIds = new Set(roomTypes.map((rt: RoomType) => rt.id));\n          \n          for (const rt of roomTypes) {\n            if (existingIds.has(rt.id)) {\n              await fetch(`/api/room-types/${rt.id}`, {\n                method: 'PUT',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                  name: rt.name,\n                  price: rt.price,\n                  description: rt.description || '',\n                  facilities: rt.facilities || []\n                })\n              });\n            } else if (!rt.id.startsWith('temp-')) {\n              await fetch(`/api/hotels/${hotel.id}/room-types`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                  name: rt.name,\n                  price: rt.price,\n                  description: rt.description || '',\n                  facilities: rt.facilities || []\n                })\n              });\n            } else {\n              await fetch(`/api/hotels/${hotel.id}/room-types`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                  name: rt.name,\n                  price: rt.price,\n                  description: rt.description || '',\n                  facilities: rt.facilities || []\n                })\n              });\n            }\n          }\n          \n          for (const existingRt of existingRoomTypes) {\n            if (!newIds.has(existingRt.id)) {\n              await fetch(`/api/room-types/${existingRt.id}`, { method: 'DELETE' });\n            }\n          }\n          \n          const rtRes = await fetch(`/api/hotels/${hotel.id}/room-types`);\n          if (rtRes.ok) {\n            updatedHotel.roomTypes = await rtRes.json();\n          }\n        }\n        \n        setHotels(prev => prev.map(h => h.id === hotel.id ? updatedHotel : h));\n        return true;\n      }\n    } catch (error) {\n      console.error('Error updating hotel:', error);\n    }\n    return false;\n  };\n\n  const deleteHotel = async (id: string): Promise<boolean> => {\n    try {\n      const res = await fetch(`/api/hotels/${id}`, { method: 'DELETE' });\n      if (res.ok) {\n        setHotels(prev => prev.filter(h => h.id !== id));\n        return true;\n      }\n    } catch (error) {\n      console.error('Error deleting hotel:', error);\n    }\n    return false;\n  };\n\n  // ============== CAR CRUD ==============\n  const addCar = async (car: Omit<Car, 'id'>): Promise<Car | null> => {\n    try {\n      const res = await fetch('/api/cars', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(car)\n      });\n      if (res.ok) {\n        const newCar = await res.json();\n        setCars(prev => [...prev, newCar]);\n        return newCar;\n      }\n    } catch (error) {\n      console.error('Error adding car:', error);\n    }\n    return null;\n  };\n\n  const updateCar = async (id: string, car: Partial<Car>): Promise<boolean> => {\n    try {\n      const res = await fetch(`/api/cars/${id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(car)\n      });\n      if (res.ok) {\n        const updatedCar = await res.json();\n        setCars(prev => prev.map(c => c.id === id ? updatedCar : c));\n        return true;\n      }\n    } catch (error) {\n      console.error('Error updating car:', error);\n    }\n    return false;\n  };\n\n  const deleteCar = async (id: string): Promise<boolean> => {\n    try {\n      const res = await fetch(`/api/cars/${id}`, { method: 'DELETE' });\n      if (res.ok) {\n        setCars(prev => prev.filter(c => c.id !== id));\n        return true;\n      }\n    } catch (error) {\n      console.error('Error deleting car:', error);\n    }\n    return false;\n  };\n\n  // ============== OFFER CRUD ==============\n  const addOffer = async (offer: Omit<Offer, 'id'>): Promise<Offer | null> => {\n    try {\n      const res = await fetch('/api/last-minute-offers', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(offer)\n      });\n      if (res.ok) {\n        const newOffer = await res.json();\n        setOffers(prev => [...prev, newOffer]);\n        return newOffer;\n      }\n    } catch (error) {\n      console.error('Error adding offer:', error);\n    }\n    return null;\n  };\n\n  const updateOffer = async (id: string, offer: Partial<Offer>): Promise<boolean> => {\n    try {\n      const res = await fetch(`/api/last-minute-offers/${id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(offer)\n      });\n      if (res.ok) {\n        const updated = await res.json();\n        setOffers(prev => prev.map(o => o.id === id ? updated : o));\n        return true;\n      }\n    } catch (error) {\n      console.error('Error updating offer:', error);\n    }\n    return false;\n  };\n\n  const deleteOffer = async (id: string): Promise<boolean> => {\n    try {\n      const res = await fetch(`/api/last-minute-offers/${id}`, { method: 'DELETE' });\n      if (res.ok) {\n        setOffers(prev => prev.filter(o => o.id !== id));\n        return true;\n      }\n    } catch (error) {\n      console.error('Error deleting offer:', error);\n    }\n    return false;\n  };\n\n  // Legacy deleteItem for backwards compatibility\n  const deleteItem = async (id: string, type: \"trip\" | \"hotel\" | \"car\" | \"offer\"): Promise<boolean> => {\n    if (type === \"trip\") return deleteTrip(id);\n    if (type === \"hotel\") return deleteHotel(id);\n    if (type === \"car\") return deleteCar(id);\n    if (type === \"offer\") return deleteOffer(id);\n    return false;\n  };\n\n  const updateFooter = (data: Partial<FooterData>) => {\n    setFooter(prev => ({ ...prev, ...data }));\n  };\n\n  const updateFooterLink = (section: \"experiences\" | \"company\", index: number, link: LinkItem) => {\n    setFooter(prev => {\n      const newLinks = [...prev[section]];\n      newLinks[index] = link;\n      return { ...prev, [section]: newLinks };\n    });\n  };\n  \n  const updateUserProfile = (data: Partial<UserProfile>) => {\n    setUserProfile(prev => ({ ...prev, ...data }));\n  };\n  \n  // ============== PAYMENT METHODS (API-based) ==============\n  const fetchPaymentCards = async (userId: string): Promise<void> => {\n    try {\n      const res = await fetch(`/api/users/${encodeURIComponent(userId)}/payment-methods`);\n      if (res.ok) {\n        const cards = await res.json();\n        setPaymentCards(cards);\n      }\n    } catch (error) {\n      console.error('Error fetching payment cards:', error);\n    }\n  };\n\n  const addPaymentCard = async (card: PaymentCard, userId: string): Promise<PaymentCard | null> => {\n    try {\n      const res = await fetch(`/api/users/${encodeURIComponent(userId)}/payment-methods`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(card)\n      });\n      if (res.ok) {\n        const newCard = await res.json();\n        setPaymentCards(prev => [...prev, newCard]);\n        return newCard;\n      }\n    } catch (error) {\n      console.error('Error adding payment card:', error);\n    }\n    return null;\n  };\n  \n  const deletePaymentCard = async (id: string, userId: string): Promise<boolean> => {\n    try {\n      const res = await fetch(`/api/users/${encodeURIComponent(userId)}/payment-methods/${id}`, {\n        method: 'DELETE'\n      });\n      if (res.ok) {\n        setPaymentCards(prev => prev.filter(c => c.id !== id));\n        return true;\n      }\n    } catch (error) {\n      console.error('Error deleting payment card:', error);\n    }\n    return false;\n  };\n\n  // ============== USER REWARDS (API-based) ==============\n  const fetchUserRewards = async (userId: string): Promise<void> => {\n    try {\n      const res = await fetch(`/api/users/${encodeURIComponent(userId)}/rewards`);\n      if (res.ok) {\n        const rewards = await res.json();\n        setUserRewards(rewards);\n      }\n    } catch (error) {\n      console.error('Error fetching user rewards:', error);\n    }\n  };\n\n  const fetchRewardTransactions = async (userId: string): Promise<void> => {\n    try {\n      const res = await fetch(`/api/users/${encodeURIComponent(userId)}/rewards/transactions`);\n      if (res.ok) {\n        const transactions = await res.json();\n        setRewardTransactions(transactions);\n      }\n    } catch (error) {\n      console.error('Error fetching reward transactions:', error);\n    }\n  };\n\n  const addRewardPoints = async (userId: string, points: number, type: string, description: string, bookingId?: string): Promise<UserRewards | null> => {\n    try {\n      const res = await fetch(`/api/users/${encodeURIComponent(userId)}/rewards/add-points`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ points, type, description, bookingId })\n      });\n      if (res.ok) {\n        const updatedRewards = await res.json();\n        setUserRewards(updatedRewards);\n        await fetchRewardTransactions(userId);\n        return updatedRewards;\n      }\n    } catch (error) {\n      console.error('Error adding reward points:', error);\n    }\n    return null;\n  };\n  \n  // ============== SUPPORT TICKETS ==============\n  const fetchUserTickets = async (userEmail: string): Promise<void> => {\n    try {\n      const res = await fetch(`/api/tickets/user/${encodeURIComponent(userEmail)}`);\n      if (res.ok) {\n        const ticketsData = await res.json();\n        setUserTickets(ticketsData);\n      }\n    } catch (error) {\n      console.error('Error fetching user tickets:', error);\n    }\n  };\n\n  const createTicket = async (ticket: Omit<SupportTicket, \"id\" | \"replies\" | \"status\" | \"date\" | \"userEmail\">, userEmail: string): Promise<SupportTicket | null> => {\n    try {\n      const res = await fetch('/api/tickets', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          ...ticket,\n          userEmail\n        })\n      });\n      if (res.ok) {\n        const newTicket = await res.json();\n        setUserTickets(prev => [newTicket, ...prev]);\n        return newTicket;\n      }\n    } catch (error) {\n      console.error('Error creating ticket:', error);\n    }\n    return null;\n  };\n  \n  const replyToTicket = async (ticketId: string, message: string, userEmail: string): Promise<boolean> => {\n    try {\n      const res = await fetch(`/api/tickets/${ticketId}/replies`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          sender: 'user',\n          message\n        })\n      });\n      if (res.ok) {\n        // Refresh tickets to get updated replies\n        await fetchUserTickets(userEmail);\n        return true;\n      }\n    } catch (error) {\n      console.error('Error replying to ticket:', error);\n    }\n    return false;\n  };\n\n  const fetchAllTickets = async (): Promise<void> => {\n    try {\n      const res = await fetch('/api/tickets');\n      if (res.ok) {\n        const ticketsData = await res.json();\n        setAllTickets(ticketsData);\n      }\n    } catch (error) {\n      console.error('Error fetching all tickets:', error);\n    }\n  };\n\n  const replyToTicketAsAdmin = async (ticketId: string, message: string): Promise<boolean> => {\n    try {\n      const res = await fetch(`/api/tickets/${ticketId}/replies`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          sender: 'support',\n          message\n        })\n      });\n      if (res.ok) {\n        // Refresh all tickets to get updated replies\n        await fetchAllTickets();\n        return true;\n      }\n    } catch (error) {\n      console.error('Error replying to ticket as admin:', error);\n    }\n    return false;\n  };\n\n  const updateTicketStatus = async (ticketId: string, status: \"Open\" | \"In Progress\" | \"Closed\"): Promise<boolean> => {\n    try {\n      const res = await fetch(`/api/tickets/${ticketId}/status`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ status })\n      });\n      if (res.ok) {\n        // Refresh all tickets\n        await fetchAllTickets();\n        return true;\n      }\n    } catch (error) {\n      console.error('Error updating ticket status:', error);\n    }\n    return false;\n  };\n\n  const addBooking = (booking: Booking) => {\n    setBookings([booking, ...bookings]);\n  };\n\n  const updateBooking = async (id: string, booking: Partial<Booking>): Promise<boolean> => {\n    try {\n      const res = await fetch(`/api/bookings/${id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(booking)\n      });\n      if (res.ok) {\n        setBookings(prev => prev.map(b => b.id === id ? { ...b, ...booking } : b));\n        return true;\n      }\n    } catch (error) {\n      console.error('Error updating booking:', error);\n    }\n    return false;\n  };\n\n  const deleteBooking = async (id: string): Promise<boolean> => {\n    try {\n      const res = await fetch(`/api/bookings/${id}`, { method: 'DELETE' });\n      if (res.ok) {\n        setBookings(prev => prev.filter(b => b.id !== id));\n        return true;\n      }\n    } catch (error) {\n      console.error('Error deleting booking:', error);\n    }\n    return false;\n  };\n\n  const updatePaymentStatus = async (id: string, paymentStatus: \"Pending\" | \"Paid\" | \"Refunded\" | \"Failed\"): Promise<boolean> => {\n    try {\n      const res = await fetch(`/api/bookings/${id}/payment-status`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ paymentStatus })\n      });\n      if (res.ok) {\n        setBookings(prev => prev.map(b => b.id === id ? { ...b, paymentStatus } : b));\n        return true;\n      }\n    } catch (error) {\n      console.error('Error updating payment status:', error);\n    }\n    return false;\n  };\n\n  // ============== REVIEW CRUD ==============\n  const addReview = async (review: Omit<Review, 'id' | 'createdAt'>): Promise<Review | null> => {\n    try {\n      const res = await fetch('/api/reviews', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(review)\n      });\n      if (res.ok) {\n        const newReview = await res.json();\n        setReviews(prev => [newReview, ...prev]);\n        return newReview;\n      }\n    } catch (error) {\n      console.error('Error adding review:', error);\n    }\n    return null;\n  };\n\n  const updateReview = async (id: string, review: Partial<Omit<Review, 'id' | 'createdAt'>>): Promise<Review | null> => {\n    try {\n      const res = await fetch(`/api/reviews/${id}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(review)\n      });\n      if (res.ok) {\n        const updatedReview = await res.json();\n        setReviews(prev => prev.map(r => r.id === id ? updatedReview : r));\n        return updatedReview;\n      }\n    } catch (error) {\n      console.error('Error updating review:', error);\n    }\n    return null;\n  };\n\n  const updateReviewStatus = async (id: string, status: \"approved\" | \"rejected\"): Promise<boolean> => {\n    try {\n      const res = await fetch(`/api/reviews/${id}/status`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ status })\n      });\n      if (res.ok) {\n        setReviews(prev => prev.map(r => r.id === id ? { ...r, status } : r));\n        return true;\n      }\n    } catch (error) {\n      console.error('Error updating review status:', error);\n    }\n    return false;\n  };\n\n  const deleteReview = async (id: string): Promise<boolean> => {\n    try {\n      const res = await fetch(`/api/reviews/${id}`, { method: 'DELETE' });\n      if (res.ok) {\n        setReviews(prev => prev.filter(r => r.id !== id));\n        return true;\n      }\n    } catch (error) {\n      console.error('Error deleting review:', error);\n    }\n    return false;\n  };\n\n  const getReviewsByItem = async (itemId: string, itemType: string): Promise<Review[]> => {\n    try {\n      const res = await fetch(`/api/reviews/${itemType}/${itemId}`);\n      if (res.ok) {\n        return await res.json();\n      }\n    } catch (error) {\n      console.error('Error fetching reviews:', error);\n    }\n    return [];\n  };\n\n  const getApprovedReviewsByItem = async (itemId: string, itemType: string): Promise<Review[]> => {\n    try {\n      const res = await fetch(`/api/reviews/${itemType}/${itemId}/approved`);\n      if (res.ok) {\n        return await res.json();\n      }\n    } catch (error) {\n      console.error('Error fetching approved reviews:', error);\n    }\n    return [];\n  };\n\n  const getReviewCount = (itemId: string, itemType: string): number => {\n    return reviews.filter(r => r.itemId === itemId && r.itemType === itemType && r.status === 'approved').length;\n  };\n\n  const getAverageRating = (itemId: string, itemType: string): number => {\n    const approvedReviews = reviews.filter(r => r.itemId === itemId && r.itemType === itemType && r.status === 'approved');\n    if (approvedReviews.length === 0) return 0;\n    const sum = approvedReviews.reduce((acc, r) => acc + r.rating, 0);\n    return parseFloat((sum / approvedReviews.length).toFixed(1));\n  };\n\n  const getReviewStats = (itemId: string, itemType: string): { averageRating: number; reviewCount: number } => {\n    const approvedReviews = reviews.filter(r => r.itemId === itemId && r.itemType === itemType && r.status === 'approved');\n    if (approvedReviews.length === 0) return { averageRating: 0, reviewCount: 0 };\n    const sum = approvedReviews.reduce((acc, r) => acc + r.rating, 0);\n    return {\n      averageRating: parseFloat((sum / approvedReviews.length).toFixed(1)),\n      reviewCount: approvedReviews.length\n    };\n  };\n\n  const updateWebsiteSettings = (settings: Partial<WebsiteSettings>) => {\n    setWebsiteSettings(prev => ({ ...prev, ...settings }));\n  };\n\n  return (\n    <StoreContext.Provider value={{ \n      trips, hotels, cars, offers, footer, loading,\n      addTrip, updateTrip, deleteTrip,\n      addHotel, updateHotel, deleteHotel,\n      addCar, updateCar, deleteCar,\n      addOffer, updateOffer, deleteOffer,\n      deleteItem, updateFooter, updateFooterLink,\n      userProfile, updateUserProfile, paymentCards, addPaymentCard, deletePaymentCard, fetchPaymentCards,\n      userRewards, rewardTransactions, fetchUserRewards, fetchRewardTransactions, addRewardPoints, detectedCurrency,\n      userTickets, allTickets, fetchUserTickets, fetchAllTickets, createTicket, replyToTicket, replyToTicketAsAdmin, updateTicketStatus,\n      bookings, addBooking, updateBooking, updatePaymentStatus, deleteBooking, reviews, addReview, updateReview, updateReviewStatus, deleteReview, getReviewsByItem, getApprovedReviewsByItem, getReviewCount, getAverageRating, getReviewStats,\n      websiteSettings, updateWebsiteSettings, refetchData\n    }}>\n      {children}\n    </StoreContext.Provider>\n  );\n}\n\nexport function useStore() {\n  const context = useContext(StoreContext);\n  if (context === undefined) {\n    throw new Error(\"useStore must be used within a StoreProvider\");\n  }\n  return context;\n}\n","path":null,"size_bytes":39058,"size_tokens":null},"client/src/index.css":{"content":"@import \"tailwindcss\";\n@import \"tw-animate-css\";\n\n@custom-variant dark (&:is(.dark *));\n\n@theme inline {\n  --radius-sm: calc(var(--radius) - 4px);\n  --radius-md: calc(var(--radius) - 2px);\n  --radius-lg: var(--radius);\n  --radius-xl: calc(var(--radius) + 4px);\n\n  --color-background: hsl(var(--background));\n  --color-foreground: hsl(var(--foreground));\n  --color-card: hsl(var(--card));\n  --color-card-foreground: hsl(var(--card-foreground));\n  --color-popover: hsl(var(--popover));\n  --color-popover-foreground: hsl(var(--popover-foreground));\n  --color-primary: hsl(var(--primary));\n  --color-primary-foreground: hsl(var(--primary-foreground));\n  --color-secondary: hsl(var(--secondary));\n  --color-secondary-foreground: hsl(var(--secondary-foreground));\n  --color-muted: hsl(var(--muted));\n  --color-muted-foreground: hsl(var(--muted-foreground));\n  --color-accent: hsl(var(--accent));\n  --color-accent-foreground: hsl(var(--accent-foreground));\n  --color-destructive: hsl(var(--destructive));\n  --color-destructive-foreground: hsl(var(--destructive-foreground));\n  --color-border: hsl(var(--border));\n  --color-input: hsl(var(--input));\n  --color-ring: hsl(var(--ring));\n  \n  --color-chart-1: hsl(var(--chart-1));\n  --color-chart-2: hsl(var(--chart-2));\n  --color-chart-3: hsl(var(--chart-3));\n  --color-chart-4: hsl(var(--chart-4));\n  --color-chart-5: hsl(var(--chart-5));\n\n  --font-sans: 'Montserrat', sans-serif;\n  --font-serif: 'Playfair Display', serif;\n  \n  --radius: 0.5rem;\n}\n\n/* LIGHT MODE - Luxury Palette */\n:root {\n  /* Deep Midnight Blue & Gold Theme */\n  --background: 40 20% 97%; /* Creamy off-white */\n  --foreground: 220 30% 15%; /* Dark blue-grey text */\n\n  --card: 0 0% 100%;\n  --card-foreground: 220 30% 15%;\n\n  --popover: 0 0% 100%;\n  --popover-foreground: 220 30% 15%;\n\n  --primary: 220 40% 20%; /* Deep Midnight Blue */\n  --primary-foreground: 40 30% 90%; /* Light cream text */\n\n  --secondary: 35 40% 50%; /* Muted Gold/Bronze */\n  --secondary-foreground: 0 0% 100%;\n\n  --muted: 220 15% 92%;\n  --muted-foreground: 220 15% 45%;\n\n  --accent: 35 60% 90%; /* Pale gold highlight */\n  --accent-foreground: 220 40% 20%;\n\n  --destructive: 0 84% 60%;\n  --destructive-foreground: 0 0% 98%;\n\n  --border: 220 15% 85%;\n  --input: 220 15% 85%;\n  --ring: 220 40% 20%;\n\n  --chart-1: 220 40% 20%;\n  --chart-2: 35 40% 50%;\n  --chart-3: 220 15% 45%;\n  --chart-4: 35 60% 80%;\n  --chart-5: 220 30% 30%;\n}\n\n.dark {\n  --background: 220 35% 10%; /* Very dark blue */\n  --foreground: 40 20% 90%; /* Cream text */\n\n  --card: 220 35% 13%;\n  --card-foreground: 40 20% 90%;\n\n  --popover: 220 35% 13%;\n  --popover-foreground: 40 20% 90%;\n\n  --primary: 35 50% 50%; /* Gold in dark mode pop */\n  --primary-foreground: 220 35% 10%;\n\n  --secondary: 220 25% 20%;\n  --secondary-foreground: 40 20% 90%;\n\n  --muted: 220 25% 20%;\n  --muted-foreground: 220 15% 60%;\n\n  --accent: 220 25% 25%;\n  --accent-foreground: 40 20% 90%;\n\n  --destructive: 0 62% 30%;\n  --destructive-foreground: 0 0% 98%;\n\n  --border: 220 25% 25%;\n  --input: 220 25% 25%;\n  --ring: 35 50% 50%;\n\n  --chart-1: 35 50% 50%;\n  --chart-2: 220 40% 60%;\n  --chart-3: 35 40% 70%;\n  --chart-4: 220 30% 40%;\n  --chart-5: 35 30% 30%;\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n  h1, h2, h3, h4, h5, h6 {\n    @apply font-serif tracking-tight;\n  }\n}\n\n@layer utilities {\n  .text-balance {\n    text-wrap: balance;\n  }\n  .glass-card {\n    @apply bg-white/80 backdrop-blur-md border border-white/20 shadow-lg dark:bg-black/50 dark:border-white/10;\n  }\n  .gold-gradient {\n    background: linear-gradient(135deg, #cbb4d4 0%, #20002c 100%); /* Placeholder, will fix with theme colors */\n    background: linear-gradient(to right, hsl(35 40% 50%), hsl(40 60% 60%));\n  }\n  .text-gold-gradient {\n    background: linear-gradient(to right, hsl(35 40% 50%), hsl(40 60% 60%));\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n  }\n}","path":null,"size_bytes":3979,"size_tokens":null},"client/src/pages/trips.tsx":{"content":"import Layout from \"@/components/layout\";\nimport TripCard from \"@/components/trip-card\";\nimport { useStore } from \"@/lib/store-context\";\nimport { Button } from \"@/components/ui/button\";\nimport { useState } from \"react\";\n\nexport default function TripsPage() {\n  const { trips } = useStore();\n  const [filter, setFilter] = useState(\"All\");\n\n  const regions = [\"All\", \"Europe\", \"Asia\", \"Africa\", \"Americas\"];\n  \n  // Simple mock filtering logic based on location text\n  const filteredTrips = filter === \"All\" \n    ? trips \n    : trips.filter(t => {\n        if (filter === \"Europe\") return t.location.includes(\"France\") || t.location.includes(\"Italy\") || t.location.includes(\"Greece\") || t.location.includes(\"Switzerland\");\n        if (filter === \"Asia\") return t.location.includes(\"Japan\") || t.location.includes(\"Indonesia\") || t.location.includes(\"Bali\") || t.location.includes(\"Thailand\");\n        if (filter === \"Africa\") return t.location.includes(\"Tanzania\") || t.location.includes(\"South Africa\") || t.location.includes(\"Morocco\");\n        if (filter === \"Americas\") return t.location.includes(\"USA\") || t.location.includes(\"Mexico\") || t.location.includes(\"Peru\");\n        return true;\n    });\n\n  return (\n    <Layout>\n      <div className=\"bg-primary py-20 text-center text-white relative overflow-hidden\">\n         <div className=\"absolute inset-0 opacity-20 bg-[url('https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?q=80&w=2021&auto=format&fit=crop')] bg-cover bg-center\" />\n         <div className=\"relative z-10 container mx-auto px-6\">\n            <h1 className=\"font-serif text-5xl font-bold mb-4\">Signature Journeys</h1>\n            <p className=\"text-xl text-white/80 max-w-2xl mx-auto\">Immersive travel experiences designed to inspire and rejuvenate.</p>\n         </div>\n      </div>\n\n      <div className=\"container mx-auto px-6 py-16\">\n        <div className=\"flex flex-wrap gap-4 mb-10 justify-center\">\n           {regions.map(region => (\n             <Button \n               key={region}\n               variant={filter === region ? \"default\" : \"ghost\"} \n               className={`rounded-full ${filter === region ? \"bg-primary text-white\" : \"hover:bg-primary/5\"}`}\n               onClick={() => setFilter(region)}\n             >\n               {region}\n             </Button>\n           ))}\n        </div>\n\n        {filteredTrips.length === 0 ? (\n          <div className=\"text-center py-20 text-muted-foreground\">\n            No trips found for this region. Check back soon for new additions!\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n            {filteredTrips.map((trip) => (\n              <TripCard \n                key={trip.id}\n                id={trip.id}\n                image={trip.image}\n                title={trip.title}\n                location={trip.location}\n                price={trip.price}\n                rating={trip.rating}\n                duration={trip.duration}\n                type=\"trip\"\n              />\n            ))}\n          </div>\n        )}\n      </div>\n    </Layout>\n  );\n}","path":null,"size_bytes":3111,"size_tokens":null},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\n      \"p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n      className\n    )}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","path":null,"size_bytes":2859,"size_tokens":null},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","path":null,"size_bytes":325,"size_tokens":null},"server/db.ts":{"content":"import mysql from \"mysql2/promise\";\n\nexport const pool = mysql.createPool({\n  host: \"mysql-200-131.mysql.prositehosting.net\",\n  database: \"ocidb_01Raay53dC\",\n  user: \"voyageruser12\",\n  password: \"19982206m.M\",\n  waitForConnections: true,\n  connectionLimit: 10,\n  queueLimit: 0,\n});\n\nexport async function testConnection() {\n  try {\n    const connection = await pool.getConnection();\n    console.log(\"âœ… MySQL database connected successfully\");\n    connection.release();\n    return true;\n  } catch (error) {\n    console.error(\"âŒ MySQL connection error:\", error);\n    throw error;\n  }\n}\n\nexport async function initializeDatabase() {\n  const connection = await pool.getConnection();\n  try {\n    await connection.query(`\n      CREATE TABLE IF NOT EXISTS users (\n        id VARCHAR(36) PRIMARY KEY,\n        username VARCHAR(255) NOT NULL UNIQUE,\n        password VARCHAR(255) NOT NULL,\n        role VARCHAR(50) DEFAULT 'user'\n      )\n    `);\n\n    await connection.query(`\n      CREATE TABLE IF NOT EXISTS trips (\n        id VARCHAR(36) PRIMARY KEY,\n        title VARCHAR(255) NOT NULL,\n        location VARCHAR(255) NOT NULL,\n        image TEXT,\n        price VARCHAR(50),\n        rating VARCHAR(10),\n        duration VARCHAR(50),\n        category VARCHAR(100),\n        features JSON\n      )\n    `);\n\n    // Add missing columns to trips table\n    try {\n      await connection.query(`ALTER TABLE trips ADD COLUMN gallery JSON`);\n    } catch (e) {}\n    try {\n      await connection.query(`ALTER TABLE trips ADD COLUMN meta_description TEXT`);\n    } catch (e) {}\n\n    await connection.query(`\n      CREATE TABLE IF NOT EXISTS hotels (\n        id VARCHAR(36) PRIMARY KEY,\n        title VARCHAR(255) NOT NULL,\n        location VARCHAR(255) NOT NULL,\n        image TEXT,\n        price VARCHAR(50),\n        rating VARCHAR(10),\n        amenities JSON,\n        always_available BOOLEAN DEFAULT true,\n        is_active BOOLEAN DEFAULT true,\n        available_from VARCHAR(50),\n        available_to VARCHAR(50),\n        stars INT DEFAULT 5,\n        sort_order INT DEFAULT 0\n      )\n    `);\n\n    // Add stars and sort_order columns if they don't exist\n    try {\n      await connection.query(`ALTER TABLE hotels ADD COLUMN stars INT DEFAULT 5`);\n    } catch (e) {}\n    try {\n      await connection.query(`ALTER TABLE hotels ADD COLUMN sort_order INT DEFAULT 0`);\n    } catch (e) {}\n    try {\n      await connection.query(`ALTER TABLE hotels ADD COLUMN gallery JSON`);\n    } catch (e) {}\n    try {\n      await connection.query(`ALTER TABLE hotels ADD COLUMN meta_description TEXT`);\n    } catch (e) {}\n    try {\n      await connection.query(`ALTER TABLE hotels ADD COLUMN created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP`);\n    } catch (e) {}\n\n    await connection.query(`\n      CREATE TABLE IF NOT EXISTS room_types (\n        id VARCHAR(36) PRIMARY KEY,\n        hotel_id VARCHAR(36) NOT NULL,\n        name VARCHAR(255) NOT NULL,\n        price VARCHAR(50),\n        description TEXT,\n        facilities JSON,\n        FOREIGN KEY (hotel_id) REFERENCES hotels(id) ON DELETE CASCADE\n      )\n    `);\n\n    await connection.query(`\n      CREATE TABLE IF NOT EXISTS cars (\n        id VARCHAR(36) PRIMARY KEY,\n        title VARCHAR(255) NOT NULL,\n        location VARCHAR(255) NOT NULL,\n        image TEXT,\n        price VARCHAR(50),\n        rating VARCHAR(10),\n        specs VARCHAR(255),\n        features JSON\n      )\n    `);\n\n    // Add missing columns to cars table\n    try {\n      await connection.query(`ALTER TABLE cars ADD COLUMN gallery JSON`);\n    } catch (e) {}\n    try {\n      await connection.query(`ALTER TABLE cars ADD COLUMN meta_description TEXT`);\n    } catch (e) {}\n\n    await connection.query(`\n      CREATE TABLE IF NOT EXISTS last_minute_offers (\n        id VARCHAR(36) PRIMARY KEY,\n        title VARCHAR(255) NOT NULL,\n        location VARCHAR(255) NOT NULL,\n        image TEXT,\n        price VARCHAR(50),\n        original_price VARCHAR(50),\n        rating VARCHAR(10),\n        ends_in VARCHAR(50),\n        discount VARCHAR(50)\n      )\n    `);\n\n    // Add missing columns to last_minute_offers table\n    try {\n      await connection.query(`ALTER TABLE last_minute_offers ADD COLUMN gallery JSON`);\n    } catch (e) {}\n    try {\n      await connection.query(`ALTER TABLE last_minute_offers ADD COLUMN meta_description TEXT`);\n    } catch (e) {}\n\n    await connection.query(`\n      CREATE TABLE IF NOT EXISTS bookings (\n        id VARCHAR(36) PRIMARY KEY,\n        customer VARCHAR(255) NOT NULL,\n        item VARCHAR(255) NOT NULL,\n        date VARCHAR(50),\n        status VARCHAR(50),\n        amount VARCHAR(50)\n      )\n    `);\n\n    // Add missing columns to bookings table\n    try {\n      await connection.query(`ALTER TABLE bookings ADD COLUMN payment_status VARCHAR(50) DEFAULT 'Pending'`);\n    } catch (e) {}\n    try {\n      await connection.query(`ALTER TABLE bookings ADD COLUMN created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP`);\n    } catch (e) {}\n\n    await connection.query(`\n      CREATE TABLE IF NOT EXISTS reviews (\n        id VARCHAR(36) PRIMARY KEY,\n        item_id VARCHAR(36) NOT NULL,\n        item_type VARCHAR(50) NOT NULL,\n        item_title VARCHAR(255),\n        user_name VARCHAR(255) NOT NULL,\n        user_email VARCHAR(255),\n        rating INT NOT NULL,\n        comment TEXT,\n        status VARCHAR(50) DEFAULT 'pending',\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `);\n\n    await connection.query(`\n      CREATE TABLE IF NOT EXISTS support_tickets (\n        id VARCHAR(36) PRIMARY KEY,\n        user_name VARCHAR(255) NOT NULL,\n        user_email VARCHAR(255) NOT NULL,\n        subject VARCHAR(255) NOT NULL,\n        message TEXT NOT NULL,\n        status VARCHAR(50) DEFAULT 'open',\n        priority VARCHAR(50) DEFAULT 'normal',\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `);\n\n    await connection.query(`\n      CREATE TABLE IF NOT EXISTS ticket_replies (\n        id VARCHAR(36) PRIMARY KEY,\n        ticket_id VARCHAR(36) NOT NULL,\n        sender VARCHAR(50) NOT NULL,\n        message TEXT NOT NULL,\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n        FOREIGN KEY (ticket_id) REFERENCES support_tickets(id) ON DELETE CASCADE\n      )\n    `);\n\n    await connection.query(`\n      CREATE TABLE IF NOT EXISTS payment_settings (\n        id INT PRIMARY KEY DEFAULT 1,\n        stripe_enabled BOOLEAN DEFAULT false,\n        paypal_enabled BOOLEAN DEFAULT false,\n        bank_transfer_enabled BOOLEAN DEFAULT false,\n        stripe_public_key TEXT,\n        stripe_secret_key TEXT,\n        paypal_client_id TEXT,\n        bank_details TEXT\n      )\n    `);\n\n    await connection.query(`\n      CREATE TABLE IF NOT EXISTS subscribers (\n        id VARCHAR(36) PRIMARY KEY,\n        email VARCHAR(255) NOT NULL UNIQUE,\n        name VARCHAR(255),\n        subscribed_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `);\n    \n    // Add name column if it doesn't exist (migration for existing tables)\n    try {\n      await connection.query(\"ALTER TABLE subscribers ADD COLUMN name VARCHAR(255)\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n\n    // Add gallery column to trips, hotels, cars, last_minute_offers if it doesn't exist\n    try {\n      await connection.query(\"ALTER TABLE trips ADD COLUMN gallery JSON DEFAULT '[]'\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n    try {\n      await connection.query(\"ALTER TABLE hotels ADD COLUMN gallery JSON DEFAULT '[]'\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n    try {\n      await connection.query(\"ALTER TABLE cars ADD COLUMN gallery JSON DEFAULT '[]'\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n    try {\n      await connection.query(\"ALTER TABLE last_minute_offers ADD COLUMN gallery JSON DEFAULT '[]'\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n\n    // Add created_at column to trips, hotels, cars, last_minute_offers if it doesn't exist\n    try {\n      await connection.query(\"ALTER TABLE trips ADD COLUMN created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n    try {\n      await connection.query(\"ALTER TABLE hotels ADD COLUMN created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n    try {\n      await connection.query(\"ALTER TABLE cars ADD COLUMN created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n    try {\n      await connection.query(\"ALTER TABLE last_minute_offers ADD COLUMN created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n\n    // Add missing columns to payment_settings table\n    try {\n      await connection.query(\"ALTER TABLE payment_settings ADD COLUMN stripe_enabled BOOLEAN DEFAULT false\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n    try {\n      await connection.query(\"ALTER TABLE payment_settings ADD COLUMN paypal_enabled BOOLEAN DEFAULT false\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n    try {\n      await connection.query(\"ALTER TABLE payment_settings ADD COLUMN bank_transfer_enabled BOOLEAN DEFAULT false\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n    try {\n      await connection.query(\"ALTER TABLE payment_settings ADD COLUMN bank_details TEXT\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n    try {\n      await connection.query(\"ALTER TABLE payment_settings ADD COLUMN stripe_public_key TEXT\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n    try {\n      await connection.query(\"ALTER TABLE payment_settings ADD COLUMN stripe_secret_key TEXT\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n    try {\n      await connection.query(\"ALTER TABLE payment_settings ADD COLUMN paypal_client_id TEXT\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n\n    // Add meta_description column to trips, hotels, cars, last_minute_offers if it doesn't exist\n    try {\n      await connection.query(\"ALTER TABLE trips ADD COLUMN meta_description TEXT\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n    try {\n      await connection.query(\"ALTER TABLE hotels ADD COLUMN meta_description TEXT\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n    try {\n      await connection.query(\"ALTER TABLE cars ADD COLUMN meta_description TEXT\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n    try {\n      await connection.query(\"ALTER TABLE last_minute_offers ADD COLUMN meta_description TEXT\");\n    } catch (e) {\n      // Column already exists, ignore\n    }\n\n    await connection.query(`\n      CREATE TABLE IF NOT EXISTS email_templates (\n        id VARCHAR(36) PRIMARY KEY,\n        name VARCHAR(255) NOT NULL,\n        subject VARCHAR(255) NOT NULL,\n        body TEXT NOT NULL\n      )\n    `);\n\n    await connection.query(`\n      CREATE TABLE IF NOT EXISTS email_settings (\n        id INT PRIMARY KEY DEFAULT 1,\n        smtp_host VARCHAR(255),\n        smtp_port INT,\n        smtp_user VARCHAR(255),\n        smtp_password VARCHAR(255),\n        from_email VARCHAR(255),\n        from_name VARCHAR(255)\n      )\n    `);\n\n    await connection.query(`\n      CREATE TABLE IF NOT EXISTS site_settings (\n        id INT PRIMARY KEY DEFAULT 1,\n        site_name VARCHAR(255) DEFAULT 'Voyager Hub',\n        logo_url TEXT,\n        tagline VARCHAR(500),\n        seo_title VARCHAR(255),\n        seo_description TEXT,\n        seo_keywords TEXT,\n        contact_email VARCHAR(255),\n        contact_phone VARCHAR(50),\n        contact_address TEXT,\n        facebook_url VARCHAR(500),\n        instagram_url VARCHAR(500),\n        twitter_url VARCHAR(500),\n        linkedin_url VARCHAR(500),\n        youtube_url VARCHAR(500),\n        whatsapp_number VARCHAR(50),\n        default_currency VARCHAR(10) DEFAULT 'EUR',\n        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n      )\n    `);\n\n    // Add default_currency column if it doesn't exist\n    try {\n      await connection.query(`ALTER TABLE site_settings ADD COLUMN default_currency VARCHAR(10) DEFAULT 'EUR'`);\n    } catch (e) {}\n\n    // User payment methods table\n    await connection.query(`\n      CREATE TABLE IF NOT EXISTS user_payment_methods (\n        id VARCHAR(36) PRIMARY KEY,\n        user_id VARCHAR(255) NOT NULL,\n        card_brand VARCHAR(50) NOT NULL,\n        last4 VARCHAR(4) NOT NULL,\n        expiry VARCHAR(10) NOT NULL,\n        cardholder_name VARCHAR(255) NOT NULL,\n        is_default BOOLEAN DEFAULT false,\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `);\n\n    // User rewards/loyalty table\n    await connection.query(`\n      CREATE TABLE IF NOT EXISTS user_rewards (\n        id VARCHAR(36) PRIMARY KEY,\n        user_id VARCHAR(255) NOT NULL UNIQUE,\n        points INT DEFAULT 0,\n        tier VARCHAR(50) DEFAULT 'Bronze',\n        total_bookings INT DEFAULT 0,\n        total_spent DECIMAL(10,2) DEFAULT 0,\n        member_since TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n      )\n    `);\n\n    // Reward transactions history\n    await connection.query(`\n      CREATE TABLE IF NOT EXISTS reward_transactions (\n        id VARCHAR(36) PRIMARY KEY,\n        user_id VARCHAR(255) NOT NULL,\n        points INT NOT NULL,\n        type VARCHAR(50) NOT NULL,\n        description VARCHAR(255),\n        booking_id VARCHAR(36),\n        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n      )\n    `);\n\n    console.log(\"âœ… Database tables initialized\");\n  } finally {\n    connection.release();\n  }\n}\n","path":null,"size_bytes":13718,"size_tokens":null},"client/src/pages/login.tsx":{"content":"import { useState } from \"react\";\nimport { Link, useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { useAuth } from \"@/lib/auth-context\";\nimport { Plane, LogIn, AlertCircle } from \"lucide-react\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\n\nexport default function LoginPage() {\n  const { login, user } = useAuth();\n  const [, setLocation] = useLocation();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Redirect if already logged in\n  if (user) {\n    setLocation(user.role === \"admin\" ? \"/admin\" : \"/\");\n    return null;\n  }\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n    setIsLoading(true);\n\n    // Simulate a small delay for better UX\n    await new Promise(resolve => setTimeout(resolve, 500));\n\n    const result = login(email, password);\n    \n    if (result.success) {\n      // Check the user's role after login to redirect appropriately\n      // We need to check the email to determine role since state updates are async\n      const isAdmin = email.trim().toLowerCase() === \"admin@voyager.com\";\n      setLocation(isAdmin ? \"/admin\" : \"/\");\n    } else {\n      setError(result.error || \"Login failed\");\n    }\n    \n    setIsLoading(false);\n  };\n\n  const fillDemoCredentials = (type: \"admin\" | \"user\") => {\n    if (type === \"admin\") {\n      setEmail(\"admin@voyager.com\");\n      setPassword(\"admin123\");\n    } else {\n      setEmail(\"user@voyager.com\");\n      setPassword(\"user123\");\n    }\n    setError(\"\");\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-muted/20 px-4\">\n      <Card className=\"w-full max-w-md shadow-2xl border-primary/10\">\n        <CardHeader className=\"text-center space-y-4 pb-8\">\n          <div className=\"flex justify-center\">\n             <div className=\"w-16 h-16 rounded-full bg-primary text-white flex items-center justify-center\">\n               <Plane className=\"w-8 h-8\" />\n             </div>\n          </div>\n          <div>\n            <CardTitle className=\"text-3xl font-serif font-bold text-primary\">Welcome Back</CardTitle>\n            <CardDescription>Sign in to your Voyager Hub account</CardDescription>\n          </div>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          <form onSubmit={handleLogin} className=\"space-y-4\">\n            {error && (\n              <Alert variant=\"destructive\">\n                <AlertCircle className=\"h-4 w-4\" />\n                <AlertDescription>{error}</AlertDescription>\n              </Alert>\n            )}\n            \n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <Input \n                id=\"email\" \n                type=\"email\" \n                placeholder=\"name@example.com\" \n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n                disabled={isLoading}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\">Password</Label>\n              <Input \n                id=\"password\" \n                type=\"password\" \n                placeholder=\"Enter your password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n                disabled={isLoading}\n              />\n            </div>\n\n            <Button \n              type=\"submit\" \n              className=\"w-full\"\n              disabled={isLoading}\n            >\n              {isLoading ? (\n                <span className=\"flex items-center gap-2\">\n                  <span className=\"animate-spin\">â³</span> Signing in...\n                </span>\n              ) : (\n                <span className=\"flex items-center gap-2\">\n                  <LogIn className=\"w-4 h-4\" /> Sign In\n                </span>\n              )}\n            </Button>\n          </form>\n\n          <div className=\"relative\">\n            <div className=\"absolute inset-0 flex items-center\">\n              <span className=\"w-full border-t\" />\n            </div>\n            <div className=\"relative flex justify-center text-xs uppercase\">\n              <span className=\"bg-card px-2 text-muted-foreground\">Demo Accounts</span>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <Button \n              variant=\"outline\" \n              className=\"w-full text-sm\"\n              onClick={() => fillDemoCredentials(\"user\")}\n              type=\"button\"\n            >\n              Fill User Demo\n            </Button>\n            <Button \n              variant=\"outline\" \n              className=\"w-full text-sm\"\n              onClick={() => fillDemoCredentials(\"admin\")}\n              type=\"button\"\n            >\n              Fill Admin Demo\n            </Button>\n          </div>\n\n          <div className=\"text-center text-xs text-muted-foreground space-y-1 pt-2 border-t\">\n            <p><strong>User:</strong> user@voyager.com / user123</p>\n            <p><strong>Admin:</strong> admin@voyager.com / admin123</p>\n          </div>\n          \n          <div className=\"text-center text-sm text-muted-foreground\">\n            <Link href=\"/\" className=\"hover:underline\">Back to Home</Link>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":5688,"size_tokens":null},"client/src/components/ui/drawer.tsx":{"content":"import * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","path":null,"size_bytes":3007,"size_tokens":null},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","path":null,"size_bytes":4419,"size_tokens":null},"server/migrate.ts":{"content":"import { pool, initializeDatabase } from './db';\nimport { randomUUID } from 'crypto';\n\n// Helper to generate UUID\nfunction generateId(): string {\n  return randomUUID();\n}\n\n// Initial data - trips\nconst trips = [\n  {\n    id: \"t1\",\n    title: \"Santorini Sunset Escape\",\n    location: \"Santorini, Greece\",\n    image: \"https://images.unsplash.com/photo-1613395877344-13d4a8e0d49e?q=80&w=1000&auto=format&fit=crop\",\n    price: \"$3,200\",\n    rating: 4.9,\n    duration: \"7 Days\",\n    category: \"Romantic\",\n    features: [\"All Inclusive\", \"Private Transfers\", \"Sunset Cruise\"]\n  },\n  {\n    id: \"t2\",\n    title: \"Kyoto Autumn Retreat\",\n    location: \"Kyoto, Japan\",\n    image: \"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=1000&auto=format&fit=crop\",\n    price: \"$4,500\",\n    rating: 5.0,\n    duration: \"10 Days\",\n    category: \"Cultural\",\n    features: [\"Guided Tours\", \"Tea Ceremony\", \"Meals Included\"]\n  },\n  {\n    id: \"t3\",\n    title: \"Amalfi Coast Drive\",\n    location: \"Amalfi, Italy\",\n    image: \"https://images.unsplash.com/photo-1533105079780-92b9be482077?q=80&w=1000&auto=format&fit=crop\",\n    price: \"$5,100\",\n    rating: 4.8,\n    duration: \"8 Days\",\n    category: \"Luxury\",\n    features: [\"Luxury Car Rental\", \"5-Star Hotels\", \"Breakfast Daily\"]\n  },\n  {\n    id: \"t4\",\n    title: \"Safari in Serengeti\",\n    location: \"Tanzania\",\n    image: \"https://images.unsplash.com/photo-1516426122078-c23e76319801?q=80&w=1000&auto=format&fit=crop\",\n    price: \"$6,800\",\n    rating: 4.9,\n    duration: \"9 Days\",\n    category: \"Adventure\",\n    features: [\"Game Drives\", \"Park Fees\", \"Full Board\"]\n  }\n];\n\n// Initial data - hotels\nconst hotels = [\n  {\n    id: \"h1\",\n    title: \"The Grand Palace\",\n    location: \"Paris, France\",\n    image: \"https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=1000&auto=format&fit=crop\",\n    price: \"$850/night\",\n    rating: 4.9,\n    amenities: [\"Spa\", \"Michelin Dining\", \"City View\", \"WiFi\", \"Concierge\"],\n    alwaysAvailable: true,\n    isActive: true,\n    availableFrom: null,\n    availableTo: null,\n    roomTypes: [\n      { id: \"rt1\", name: \"Deluxe Room\", price: \"$850\", description: \"Spacious room with city view\", facilities: [\"City View\", \"Mini Bar\", \"Rain Shower\"] },\n      { id: \"rt2\", name: \"Executive Suite\", price: \"$1,250\", description: \"Separate living area and premium amenities\", facilities: [\"Lounge Access\", \"Jacuzzi\", \"Work Desk\", \"City View\"] },\n      { id: \"rt3\", name: \"Presidential Suite\", price: \"$3,500\", description: \"Ultimate luxury with panoramic views\", facilities: [\"Private Butler\", \"Grand Piano\", \"Sauna\", \"Panoramic Terrace\"] }\n    ]\n  },\n  {\n    id: \"h2\",\n    title: \"Azure Resort & Spa\",\n    location: \"Maldives\",\n    image: \"https://images.unsplash.com/photo-1573843981267-be1999ff37cd?q=80&w=1000&auto=format&fit=crop\",\n    price: \"$1,200/night\",\n    rating: 5.0,\n    amenities: [\"Overwater Villa\", \"Private Pool\", \"Butler\", \"Spa\", \"Gym\"],\n    alwaysAvailable: true,\n    isActive: true,\n    availableFrom: null,\n    availableTo: null,\n    roomTypes: []\n  },\n  {\n    id: \"h3\",\n    title: \"Alpine Lodge\",\n    location: \"Zermatt, Switzerland\",\n    image: \"https://images.unsplash.com/photo-1582719508461-905c673771fd?q=80&w=1000&auto=format&fit=crop\",\n    price: \"$950/night\",\n    rating: 4.8,\n    amenities: [\"Ski-in/Ski-out\", \"Fireplace\", \"Spa\", \"Restaurant\"],\n    alwaysAvailable: false,\n    isActive: true,\n    availableFrom: \"2024-12-01\",\n    availableTo: \"2025-04-30\",\n    roomTypes: []\n  }\n];\n\n// Initial data - cars\nconst cars = [\n  {\n    id: \"c1\",\n    title: \"Convertible GT\",\n    location: \"Monaco\",\n    image: \"https://images.unsplash.com/photo-1544636331-e26879cd4d9b?q=80&w=1000&auto=format&fit=crop\",\n    price: \"$1,500/day\",\n    rating: 5.0,\n    specs: \"Automatic â€¢ 2 Seats\",\n    features: [\"GPS\", \"Bluetooth\", \"Sport Mode\", \"Convertible Top\"]\n  },\n  {\n    id: \"c2\",\n    title: \"Luxury SUV\",\n    location: \"Dubai, UAE\",\n    image: \"https://images.unsplash.com/photo-1617788138017-80ad40651399?q=80&w=1000&auto=format&fit=crop\",\n    price: \"$900/day\",\n    rating: 4.7,\n    specs: \"Automatic â€¢ 5 Seats\",\n    features: [\"GPS\", \"Leather Seats\", \"Sunroof\", \"All-Wheel Drive\"]\n  },\n  {\n    id: \"c3\",\n    title: \"Classic Vintage\",\n    location: \"Tuscany, Italy\",\n    image: \"https://images.unsplash.com/photo-1552519507-da3b142c6e3d?q=80&w=1000&auto=format&fit=crop\",\n    price: \"$1,100/day\",\n    rating: 4.9,\n    specs: \"Manual â€¢ 2 Seats\",\n    features: [\"Vintage Style\", \"Convertible\", \"Manual Transmission\"]\n  }\n];\n\n// Initial data - last minute offers\nconst lastMinuteOffers = [\n  {\n    id: \"lm1\",\n    title: \"Bali Beach Villa - 48h Sale\",\n    location: \"Bali, Indonesia\",\n    image: \"https://images.unsplash.com/photo-1537996194471-e657df975ab4?q=80&w=1000&auto=format&fit=crop\",\n    price: \"$1,800\",\n    originalPrice: \"$3,200\",\n    rating: 4.8,\n    endsIn: \"12h 30m\",\n    discount: \"45% OFF\"\n  },\n  {\n    id: \"lm2\",\n    title: \"New York Weekend\",\n    location: \"New York, USA\",\n    image: \"https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?q=80&w=1000&auto=format&fit=crop\",\n    price: \"$1,200\",\n    originalPrice: \"$1,800\",\n    rating: 4.7,\n    endsIn: \"08h 15m\",\n    discount: \"33% OFF\"\n  },\n  {\n    id: \"lm3\",\n    title: \"Swiss Alps Chalet\",\n    location: \"Interlaken, Switzerland\",\n    image: \"https://images.unsplash.com/photo-1502784444187-359ac186c5bb?q=80&w=1000&auto=format&fit=crop\",\n    price: \"$2,100\",\n    originalPrice: \"$2,800\",\n    rating: 4.9,\n    endsIn: \"24h 00m\",\n    discount: \"25% OFF\"\n  }\n];\n\n// Initial data - bookings\nconst bookings = [\n  { id: \"BKG-001\", customer: \"Alice Freeman\", item: \"Santorini Sunset Escape\", date: \"2024-05-12\", status: \"Confirmed\", amount: \"$3,200\" },\n  { id: \"BKG-002\", customer: \"Robert Chen\", item: \"The Grand Palace\", date: \"2024-06-01\", status: \"Pending\", amount: \"$2,550\" },\n  { id: \"BKG-003\", customer: \"Elena Rodriguez\", item: \"Convertible GT\", date: \"2024-06-15\", status: \"Confirmed\", amount: \"$4,500\" },\n  { id: \"BKG-004\", customer: \"David Smith\", item: \"Kyoto Autumn Retreat\", date: \"2024-10-20\", status: \"Cancelled\", amount: \"$4,500\" },\n  { id: \"BKG-005\", customer: \"Sarah Johnson\", item: \"Azure Resort & Spa\", date: \"2024-07-08\", status: \"Confirmed\", amount: \"$6,000\" },\n];\n\n// Initial data - reviews\nconst reviews = [\n  { \n    id: \"rev-1\", \n    itemId: \"t1\", \n    itemType: \"trip\", \n    itemTitle: \"Santorini Sunset Escape\",\n    userName: \"Alice Freeman\", \n    userEmail: \"alice@example.com\",\n    rating: 5, \n    comment: \"Absolutely breathtaking views! The sunset cruise was the highlight of our trip. The private transfers were seamless and the whole experience exceeded our expectations.\",\n    status: \"approved\"\n  },\n  { \n    id: \"rev-2\", \n    itemId: \"t1\", \n    itemType: \"trip\", \n    itemTitle: \"Santorini Sunset Escape\",\n    userName: \"Michael Davis\", \n    userEmail: \"michael@example.com\",\n    rating: 5, \n    comment: \"An unforgettable romantic getaway. Every detail was perfectly planned. Highly recommend for couples!\",\n    status: \"approved\"\n  },\n  { \n    id: \"rev-3\", \n    itemId: \"h1\", \n    itemType: \"hotel\", \n    itemTitle: \"The Grand Palace\",\n    userName: \"Robert Chen\", \n    userEmail: \"robert@example.com\",\n    rating: 5, \n    comment: \"Exceptional service and stunning location. The Presidential Suite was worth every penny. The staff went above and beyond.\",\n    status: \"approved\"\n  },\n  { \n    id: \"rev-4\", \n    itemId: \"h1\", \n    itemType: \"hotel\", \n    itemTitle: \"The Grand Palace\",\n    userName: \"Emma Wilson\", \n    userEmail: \"emma@example.com\",\n    rating: 4, \n    comment: \"Beautiful hotel with amazing amenities. The spa was incredible. Only minor issue was the slow room service on one occasion.\",\n    status: \"approved\"\n  },\n  { \n    id: \"rev-5\", \n    itemId: \"h2\", \n    itemType: \"hotel\", \n    itemTitle: \"Azure Resort & Spa\",\n    userName: \"Sarah Johnson\", \n    userEmail: \"sarah@example.com\",\n    rating: 5, \n    comment: \"Paradise on Earth! The overwater villa was a dream come true. Private pool, personal butler - pure luxury.\",\n    status: \"approved\"\n  },\n  { \n    id: \"rev-6\", \n    itemId: \"c1\", \n    itemType: \"car\", \n    itemTitle: \"Convertible GT\",\n    userName: \"Elena Rodriguez\", \n    userEmail: \"elena@example.com\",\n    rating: 4, \n    comment: \"Driving the Convertible GT through Monaco was an amazing experience! Car was in pristine condition. Pick up was slightly delayed.\",\n    status: \"approved\"\n  },\n  { \n    id: \"rev-7\", \n    itemId: \"t2\", \n    itemType: \"trip\", \n    itemTitle: \"Kyoto Autumn Retreat\",\n    userName: \"Jennifer Lee\", \n    userEmail: \"jennifer@example.com\",\n    rating: 5, \n    comment: \"The tea ceremony was a magical experience. Our guide was extremely knowledgeable about Japanese culture.\",\n    status: \"approved\"\n  },\n  { \n    id: \"rev-8\", \n    itemId: \"lm1\", \n    itemType: \"offer\", \n    itemTitle: \"Bali Beach Villa - 48h Sale\",\n    userName: \"Chris Martin\", \n    userEmail: \"chris@example.com\",\n    rating: 5, \n    comment: \"Incredible value! Got this deal last minute and it was absolutely worth it. The villa was stunning.\",\n    status: \"approved\"\n  },\n  { \n    id: \"rev-9\", \n    itemId: \"t3\", \n    itemType: \"trip\", \n    itemTitle: \"Amalfi Coast Drive\",\n    userName: \"Sophie Taylor\", \n    userEmail: \"sophie@example.com\",\n    rating: 5, \n    comment: \"The views along the Amalfi Coast were spectacular. Luxury accommodations and amazing food!\",\n    status: \"approved\"\n  },\n  { \n    id: \"rev-10\", \n    itemId: \"h3\", \n    itemType: \"hotel\", \n    itemTitle: \"Alpine Lodge\",\n    userName: \"James Brown\", \n    userEmail: \"james@example.com\",\n    rating: 5, \n    comment: \"Perfect ski vacation! Ski-in/ski-out convenience was amazing. Cozy fireplace and excellent restaurant.\",\n    status: \"approved\"\n  }\n];\n\n// Initial data - support tickets\nconst supportTickets = [\n  {\n    id: \"TK-2024\",\n    userEmail: \"user@voyager.com\",\n    subject: \"Booking Modification Request\",\n    status: \"Open\",\n    priority: \"High\",\n    replies: [\n      { id: \"r-tk2024-1\", sender: \"user\", message: \"I need to change the dates for my Bali trip to next week.\", date: \"2025-05-15 10:00 AM\" }\n    ]\n  },\n  {\n    id: \"TK-1985\",\n    userEmail: \"user@voyager.com\",\n    subject: \"Refund Inquiry\",\n    status: \"Closed\",\n    priority: \"Medium\",\n    replies: [\n      { id: \"r-tk1985-1\", sender: \"user\", message: \"When will I receive my refund for the cancelled car rental?\", date: \"2025-04-10 09:00 AM\" },\n      { id: \"r-tk1985-2\", sender: \"support\", message: \"Hello, the refund was processed yesterday. It should appear in 3-5 business days.\", date: \"2025-04-11 11:30 AM\" }\n    ]\n  }\n];\n\nasync function migrateData() {\n  console.log('ðŸš€ Starting database migration...');\n  \n  try {\n    // Initialize tables\n    await initializeDatabase();\n    \n    const connection = await pool.getConnection();\n    \n    try {\n      // Clear existing data\n      console.log('ðŸ§¹ Clearing existing data...');\n      await connection.execute('DELETE FROM ticket_replies');\n      await connection.execute('DELETE FROM support_tickets');\n      await connection.execute('DELETE FROM reviews');\n      await connection.execute('DELETE FROM room_types');\n      await connection.execute('DELETE FROM bookings');\n      await connection.execute('DELETE FROM trips');\n      await connection.execute('DELETE FROM hotels');\n      await connection.execute('DELETE FROM cars');\n      await connection.execute('DELETE FROM last_minute_offers');\n      \n      // Insert trips\n      console.log('ðŸ“¦ Inserting trips...');\n      for (const trip of trips) {\n        await connection.execute(\n          `INSERT INTO trips (id, title, location, image, price, rating, duration, category, features) \n           VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`,\n          [trip.id, trip.title, trip.location, trip.image, trip.price, trip.rating, trip.duration, trip.category, JSON.stringify(trip.features)]\n        );\n      }\n      console.log(`âœ… Inserted ${trips.length} trips`);\n      \n      // Insert hotels and room types\n      console.log('ðŸ“¦ Inserting hotels...');\n      for (const hotel of hotels) {\n        await connection.execute(\n          `INSERT INTO hotels (id, title, location, image, price, rating, amenities, always_available, is_active, available_from, available_to) \n           VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`,\n          [hotel.id, hotel.title, hotel.location, hotel.image, hotel.price, hotel.rating, JSON.stringify(hotel.amenities), hotel.alwaysAvailable, hotel.isActive, hotel.availableFrom, hotel.availableTo]\n        );\n        \n        // Insert room types for this hotel\n        if (hotel.roomTypes && hotel.roomTypes.length > 0) {\n          for (const room of hotel.roomTypes) {\n            await connection.execute(\n              `INSERT INTO room_types (id, hotel_id, name, price, description, facilities) \n               VALUES (?, ?, ?, ?, ?, ?)`,\n              [room.id, hotel.id, room.name, room.price, room.description, JSON.stringify(room.facilities)]\n            );\n          }\n        }\n      }\n      console.log(`âœ… Inserted ${hotels.length} hotels`);\n      \n      // Insert cars\n      console.log('ðŸ“¦ Inserting cars...');\n      for (const car of cars) {\n        await connection.execute(\n          `INSERT INTO cars (id, title, location, image, price, rating, specs, features) \n           VALUES (?, ?, ?, ?, ?, ?, ?, ?)`,\n          [car.id, car.title, car.location, car.image, car.price, car.rating, car.specs, JSON.stringify(car.features)]\n        );\n      }\n      console.log(`âœ… Inserted ${cars.length} cars`);\n      \n      // Insert last minute offers\n      console.log('ðŸ“¦ Inserting last minute offers...');\n      for (const offer of lastMinuteOffers) {\n        await connection.execute(\n          `INSERT INTO last_minute_offers (id, title, location, image, price, original_price, rating, ends_in, discount) \n           VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`,\n          [offer.id, offer.title, offer.location, offer.image, offer.price, offer.originalPrice, offer.rating, offer.endsIn, offer.discount]\n        );\n      }\n      console.log(`âœ… Inserted ${lastMinuteOffers.length} last minute offers`);\n      \n      // Insert bookings\n      console.log('ðŸ“¦ Inserting bookings...');\n      for (const booking of bookings) {\n        await connection.execute(\n          `INSERT INTO bookings (id, customer, item, date, status, amount) \n           VALUES (?, ?, ?, ?, ?, ?)`,\n          [booking.id, booking.customer, booking.item, booking.date, booking.status, booking.amount]\n        );\n      }\n      console.log(`âœ… Inserted ${bookings.length} bookings`);\n\n      // Insert reviews\n      console.log('ðŸ“¦ Inserting reviews...');\n      for (const review of reviews) {\n        await connection.execute(\n          `INSERT INTO reviews (id, item_id, item_type, item_title, user_name, user_email, rating, comment, status) \n           VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`,\n          [review.id, review.itemId, review.itemType, review.itemTitle, review.userName, review.userEmail, review.rating, review.comment, review.status]\n        );\n      }\n      console.log(`âœ… Inserted ${reviews.length} reviews`);\n\n      // Insert support tickets\n      console.log('ðŸ“¦ Inserting support tickets...');\n      for (const ticket of supportTickets) {\n        await connection.execute(\n          `INSERT INTO support_tickets (id, user_email, subject, status, priority) \n           VALUES (?, ?, ?, ?, ?)`,\n          [ticket.id, ticket.userEmail, ticket.subject, ticket.status, ticket.priority]\n        );\n        \n        // Insert ticket replies\n        for (const reply of ticket.replies) {\n          await connection.execute(\n            `INSERT INTO ticket_replies (id, ticket_id, sender, message) \n             VALUES (?, ?, ?, ?)`,\n            [reply.id, ticket.id, reply.sender, reply.message]\n          );\n        }\n      }\n      console.log(`âœ… Inserted ${supportTickets.length} support tickets`);\n      \n      console.log('ðŸŽ‰ Migration completed successfully!');\n    } finally {\n      connection.release();\n    }\n  } catch (error) {\n    console.error('âŒ Migration failed:', error);\n    throw error;\n  } finally {\n    await pool.end();\n  }\n}\n\n// Run migration\nmigrateData();\n\n","path":null,"size_bytes":16212,"size_tokens":null},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","path":null,"size_bytes":565,"size_tokens":null},"client/src/components/ui/chart.tsx":{"content":"import * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload\n            .filter((item) => item.type !== \"none\")\n            .map((item, index) => {\n              const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n              const itemConfig = getPayloadConfigFromPayload(config, item, key)\n              const indicatorColor = color || item.payload.fill || item.color\n\n              return (\n                <div\n                  key={item.dataKey}\n                  className={cn(\n                    \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                    indicator === \"dot\" && \"items-center\"\n                  )}\n                >\n                  {formatter && item?.value !== undefined && item.name ? (\n                    formatter(item.value, item.name, item, index, item.payload)\n                  ) : (\n                    <>\n                      {itemConfig?.icon ? (\n                        <itemConfig.icon />\n                      ) : (\n                        !hideIndicator && (\n                          <div\n                            className={cn(\n                              \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                              {\n                                \"h-2.5 w-2.5\": indicator === \"dot\",\n                                \"w-1\": indicator === \"line\",\n                                \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                  indicator === \"dashed\",\n                                \"my-0.5\": nestLabel && indicator === \"dashed\",\n                              }\n                            )}\n                            style={\n                              {\n                                \"--color-bg\": indicatorColor,\n                                \"--color-border\": indicatorColor,\n                              } as React.CSSProperties\n                            }\n                          />\n                        )\n                      )}\n                      <div\n                        className={cn(\n                          \"flex flex-1 justify-between leading-none\",\n                          nestLabel ? \"items-end\" : \"items-center\"\n                        )}\n                      >\n                        <div className=\"grid gap-1.5\">\n                          {nestLabel ? tooltipLabel : null}\n                          <span className=\"text-muted-foreground\">\n                            {itemConfig?.label || item.name}\n                          </span>\n                        </div>\n                        {item.value && (\n                          <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                            {item.value.toLocaleString()}\n                          </span>\n                        )}\n                      </div>\n                    </>\n                  )}\n                </div>\n              )\n            })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload\n          .filter((item) => item.type !== \"none\")\n          .map((item) => {\n            const key = `${nameKey || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n            return (\n              <div\n                key={item.value}\n                className={cn(\n                  \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n                )}\n              >\n                {itemConfig?.icon && !hideIcon ? (\n                  <itemConfig.icon />\n                ) : (\n                  <div\n                    className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                    style={{\n                      backgroundColor: item.color,\n                    }}\n                  />\n                )}\n                {itemConfig?.label}\n              </div>\n            )\n          })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","path":null,"size_bytes":10763,"size_tokens":null},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","path":null,"size_bytes":4845,"size_tokens":null},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","path":null,"size_bytes":329,"size_tokens":null},"server/vite.ts":{"content":"import { type Express } from \"express\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport async function setupVite(server: Server, app: Express) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server, path: \"/vite-hmr\" },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n","path":null,"size_bytes":1534,"size_tokens":null},"client/src/lib/auth-context.tsx":{"content":"import { createContext, useContext, useState, ReactNode, useEffect } from \"react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ntype UserRole = \"admin\" | \"user\" | \"guest\";\n\ninterface User {\n  name: string;\n  email: string;\n  role: UserRole;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  login: (email: string, password: string) => { success: boolean; error?: string };\n  logout: () => void;\n}\n\n// Default credentials (in a real app, this would be validated against the database)\nconst VALID_CREDENTIALS = {\n  admin: {\n    email: \"admin@voyager.com\",\n    password: \"admin123\",\n    name: \"Administrator\",\n    role: \"admin\" as UserRole\n  },\n  user: {\n    email: \"user@voyager.com\", \n    password: \"user123\",\n    name: \"John Doe\",\n    role: \"user\" as UserRole\n  }\n};\n\nconst AUTH_STORAGE_KEY = \"voyager_auth_user\";\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(() => {\n    // Initialize from localStorage\n    if (typeof window !== 'undefined') {\n      const stored = localStorage.getItem(AUTH_STORAGE_KEY);\n      if (stored) {\n        try {\n          return JSON.parse(stored);\n        } catch {\n          return null;\n        }\n      }\n    }\n    return null;\n  });\n  const { toast } = useToast();\n\n  // Persist user to localStorage when it changes\n  useEffect(() => {\n    if (user) {\n      localStorage.setItem(AUTH_STORAGE_KEY, JSON.stringify(user));\n    } else {\n      localStorage.removeItem(AUTH_STORAGE_KEY);\n    }\n  }, [user]);\n\n  const login = (email: string, password: string): { success: boolean; error?: string } => {\n    // Validate credentials\n    const trimmedEmail = email.trim().toLowerCase();\n    const trimmedPassword = password.trim();\n\n    if (!trimmedEmail || !trimmedPassword) {\n      return { success: false, error: \"Please enter both email and password\" };\n    }\n\n    // Check admin credentials\n    if (trimmedEmail === VALID_CREDENTIALS.admin.email && trimmedPassword === VALID_CREDENTIALS.admin.password) {\n      const adminUser: User = {\n        name: VALID_CREDENTIALS.admin.name,\n        email: VALID_CREDENTIALS.admin.email,\n        role: VALID_CREDENTIALS.admin.role\n      };\n      setUser(adminUser);\n      toast({\n        title: `Welcome back, ${adminUser.name}`,\n        description: \"You are logged in as Administrator.\",\n      });\n      return { success: true };\n    }\n\n    // Check user credentials\n    if (trimmedEmail === VALID_CREDENTIALS.user.email && trimmedPassword === VALID_CREDENTIALS.user.password) {\n      const regularUser: User = {\n        name: VALID_CREDENTIALS.user.name,\n        email: VALID_CREDENTIALS.user.email,\n        role: VALID_CREDENTIALS.user.role\n      };\n      setUser(regularUser);\n      toast({\n        title: `Welcome back, ${regularUser.name}`,\n        description: \"You are logged in as User.\",\n      });\n      return { success: true };\n    }\n\n    // Invalid credentials\n    return { success: false, error: \"Invalid email or password\" };\n  };\n\n  const logout = () => {\n    setUser(null);\n    localStorage.removeItem(AUTH_STORAGE_KEY);\n    toast({\n      title: \"Logged out\",\n      description: \"See you soon!\",\n    });\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, login, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error(\"useAuth must be used within an AuthProvider\");\n  }\n  return context;\n}\n","path":null,"size_bytes":3566,"size_tokens":null},"client/src/components/ui/input-group.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\n\nfunction InputGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"input-group\"\n      role=\"group\"\n      className={cn(\n        \"group/input-group border-input dark:bg-input/30 shadow-xs relative flex w-full items-center rounded-md border outline-none transition-[color,box-shadow]\",\n        \"h-9 has-[>textarea]:h-auto\",\n\n        // Variants based on alignment.\n        \"has-[>[data-align=inline-start]]:[&>input]:pl-2\",\n        \"has-[>[data-align=inline-end]]:[&>input]:pr-2\",\n        \"has-[>[data-align=block-start]]:h-auto has-[>[data-align=block-start]]:flex-col has-[>[data-align=block-start]]:[&>input]:pb-3\",\n        \"has-[>[data-align=block-end]]:h-auto has-[>[data-align=block-end]]:flex-col has-[>[data-align=block-end]]:[&>input]:pt-3\",\n\n        // Focus state.\n        \"has-[[data-slot=input-group-control]:focus-visible]:ring-ring has-[[data-slot=input-group-control]:focus-visible]:ring-1\",\n\n        // Error state.\n        \"has-[[data-slot][aria-invalid=true]]:ring-destructive/20 has-[[data-slot][aria-invalid=true]]:border-destructive dark:has-[[data-slot][aria-invalid=true]]:ring-destructive/40\",\n\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nconst inputGroupAddonVariants = cva(\n  \"text-muted-foreground flex h-auto cursor-text select-none items-center justify-center gap-2 py-1.5 text-sm font-medium group-data-[disabled=true]/input-group:opacity-50 [&>kbd]:rounded-[calc(var(--radius)-5px)] [&>svg:not([class*='size-'])]:size-4\",\n  {\n    variants: {\n      align: {\n        \"inline-start\":\n          \"order-first pl-3 has-[>button]:ml-[-0.45rem] has-[>kbd]:ml-[-0.35rem]\",\n        \"inline-end\":\n          \"order-last pr-3 has-[>button]:mr-[-0.4rem] has-[>kbd]:mr-[-0.35rem]\",\n        \"block-start\":\n          \"[.border-b]:pb-3 order-first w-full justify-start px-3 pt-3 group-has-[>input]/input-group:pt-2.5\",\n        \"block-end\":\n          \"[.border-t]:pt-3 order-last w-full justify-start px-3 pb-3 group-has-[>input]/input-group:pb-2.5\",\n      },\n    },\n    defaultVariants: {\n      align: \"inline-start\",\n    },\n  }\n)\n\nfunction InputGroupAddon({\n  className,\n  align = \"inline-start\",\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof inputGroupAddonVariants>) {\n  return (\n    <div\n      role=\"group\"\n      data-slot=\"input-group-addon\"\n      data-align={align}\n      className={cn(inputGroupAddonVariants({ align }), className)}\n      onClick={(e) => {\n        if ((e.target as HTMLElement).closest(\"button\")) {\n          return\n        }\n        e.currentTarget.parentElement?.querySelector(\"input\")?.focus()\n      }}\n      {...props}\n    />\n  )\n}\n\nconst inputGroupButtonVariants = cva(\n  \"flex items-center gap-2 text-sm shadow-none\",\n  {\n    variants: {\n      size: {\n        xs: \"h-6 gap-1 rounded-[calc(var(--radius)-5px)] px-2 has-[>svg]:px-2 [&>svg:not([class*='size-'])]:size-3.5\",\n        sm: \"h-8 gap-1.5 rounded-md px-2.5 has-[>svg]:px-2.5\",\n        \"icon-xs\":\n          \"size-6 rounded-[calc(var(--radius)-5px)] p-0 has-[>svg]:p-0\",\n        \"icon-sm\": \"size-8 p-0 has-[>svg]:p-0\",\n      },\n    },\n    defaultVariants: {\n      size: \"xs\",\n    },\n  }\n)\n\nfunction InputGroupButton({\n  className,\n  type = \"button\",\n  variant = \"ghost\",\n  size = \"xs\",\n  ...props\n}: Omit<React.ComponentProps<typeof Button>, \"size\"> &\n  VariantProps<typeof inputGroupButtonVariants>) {\n  return (\n    <Button\n      type={type}\n      data-size={size}\n      variant={variant}\n      className={cn(inputGroupButtonVariants({ size }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupText({ className, ...props }: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      className={cn(\n        \"text-muted-foreground flex items-center gap-2 text-sm [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupInput({\n  className,\n  ...props\n}: React.ComponentProps<\"input\">) {\n  return (\n    <Input\n      data-slot=\"input-group-control\"\n      className={cn(\n        \"flex-1 rounded-none border-0 bg-transparent shadow-none focus-visible:ring-0 dark:bg-transparent\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction InputGroupTextarea({\n  className,\n  ...props\n}: React.ComponentProps<\"textarea\">) {\n  return (\n    <Textarea\n      data-slot=\"input-group-control\"\n      className={cn(\n        \"flex-1 resize-none rounded-none border-0 bg-transparent py-3 shadow-none focus-visible:ring-0 dark:bg-transparent\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  InputGroup,\n  InputGroupAddon,\n  InputGroupButton,\n  InputGroupText,\n  InputGroupInput,\n  InputGroupTextarea,\n}\n","path":null,"size_bytes":4971,"size_tokens":null},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { serveStatic } from \"./static\";\nimport { createServer } from \"http\";\n\nconst app = express();\nconst httpServer = createServer(app);\n\ndeclare module \"http\" {\n  interface IncomingMessage {\n    rawBody: unknown;\n  }\n}\n\napp.use(\n  express.json({\n    limit: '50mb',\n    verify: (req, _res, buf) => {\n      req.rawBody = buf;\n    },\n  }),\n);\n\napp.use(express.urlencoded({ extended: false, limit: '50mb' }));\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  await registerRoutes(httpServer, app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (process.env.NODE_ENV === \"production\") {\n    serveStatic(app);\n  } else {\n    const { setupVite } = await import(\"./vite\");\n    await setupVite(httpServer, app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || \"5000\", 10);\n  httpServer.listen(port, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","path":null,"size_bytes":2516,"size_tokens":null},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // @replit\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \",\n  {\n    variants: {\n      variant: {\n        default:\n          // @replit shadow-xs instead of shadow, no hover because we use hover-elevate\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary:\n          // @replit no hover because we use hover-elevate\n          \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          // @replit shadow-xs instead of shadow, no hover because we use hover-elevate\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n          // @replit shadow-xs\" - use badge outline variable\n        outline: \"text-foreground border [border-color:var(--badge-outline)]\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","path":null,"size_bytes":1522,"size_tokens":null},"client/src/pages/details.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useRoute, Link } from \"wouter\";\nimport Layout from \"@/components/layout\";\nimport { useStore, Review } from \"@/lib/store-context\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Label } from \"@/components/ui/label\";\nimport { MapPin, Star, Check, ArrowLeft, Share2, Heart, Clock, Shield, Globe, User, Loader2 } from \"lucide-react\";\nimport BookingModal from \"@/components/booking-modal\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { formatPrice } from \"@/lib/utils\";\n\nexport default function DetailsPage() {\n  const [match, params] = useRoute(\"/details/:type/:slug\");\n  const { getApprovedReviewsByItem, reviews, detectedCurrency } = useStore();\n  const { toast } = useToast();\n  const [isBookingOpen, setIsBookingOpen] = useState(false);\n  const [isFavorite, setIsFavorite] = useState(false);\n  const [itemReviews, setItemReviews] = useState<Review[]>([]);\n  const [fetchedItem, setFetchedItem] = useState<any>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const type = params?.type;\n  const slug = params?.slug;\n\n  // Fetch item from backend API by slug\n  useEffect(() => {\n    const fetchItemBySlug = async () => {\n      if (!type || !slug) {\n        setIsLoading(false);\n        setError(\"Invalid URL\");\n        return;\n      }\n\n      setIsLoading(true);\n      setError(null);\n\n      try {\n        const apiPath = type === \"offer\" ? \"last-minute-offers\" : `${type}s`;\n        const response = await fetch(`/api/${apiPath}/slug/${slug}`);\n        \n        if (response.ok) {\n          const data = await response.json();\n          setFetchedItem(data);\n          setError(null);\n        } else if (response.status === 404) {\n          setError(\"Item not found\");\n          setFetchedItem(null);\n        } else {\n          setError(\"Failed to load item\");\n          setFetchedItem(null);\n        }\n      } catch (err) {\n        setError(\"Failed to load item\");\n        setFetchedItem(null);\n      }\n      setIsLoading(false);\n    };\n\n    fetchItemBySlug();\n  }, [type, slug]);\n\n  const item = fetchedItem;\n\n  // Room Type Selection\n  const [selectedRoomTypeId, setSelectedRoomTypeId] = useState<string>(\"\");\n  \n  useEffect(() => {\n    if (item && item.roomTypes && item.roomTypes.length > 0 && !selectedRoomTypeId) {\n      setSelectedRoomTypeId(item.roomTypes[0].id);\n    }\n  }, [item, selectedRoomTypeId]);\n\n  // Fetch reviews for this item using its ID\n  useEffect(() => {\n    const fetchItemReviews = async () => {\n      if (type && item?.id) {\n        const fetchedReviews = await getApprovedReviewsByItem(item.id, type);\n        setItemReviews(fetchedReviews);\n      }\n    };\n    fetchItemReviews();\n  }, [type, item?.id, reviews]); // Re-fetch when global reviews change\n\n  // Calculate the average rating from reviews (don't show static rating when there are no reviews)\n  const avgRating = itemReviews.length > 0 \n    ? (itemReviews.reduce((sum, r) => sum + r.rating, 0) / itemReviews.length).toFixed(1)\n    : 0;\n\n  const selectedRoomType = item?.roomTypes?.find((r: any) => r.id === selectedRoomTypeId);\n  const currentPrice = selectedRoomType ? selectedRoomType.price : item?.price;\n\n  // Show loading state\n  if (isLoading) {\n    return (\n      <Layout>\n        <div className=\"min-h-[60vh] flex flex-col items-center justify-center\">\n          <Loader2 className=\"w-8 h-8 animate-spin text-primary mb-4\" />\n          <p className=\"text-muted-foreground\">Loading...</p>\n        </div>\n      </Layout>\n    );\n  }\n\n  // Show error or not found state\n  if (!item || error) {\n    return (\n      <Layout>\n        <div className=\"min-h-[60vh] flex flex-col items-center justify-center\">\n          <h1 className=\"text-2xl font-bold mb-4\">{error || \"Item not found\"}</h1>\n          <Link href=\"/\">\n            <Button>Go Home</Button>\n          </Link>\n        </div>\n      </Layout>\n    );\n  }\n\n  // Normalize data structure for display\n  const features = item.features || item.amenities || [];\n  const specs = item.specs; // for cars\n\n  const handleShare = () => {\n    navigator.clipboard.writeText(window.location.href);\n    toast({ title: \"Link Copied\", description: \"Page URL copied to clipboard.\" });\n  };\n\n  return (\n    <Layout>\n      {/* Hero Image with Overlay */}\n      <div className=\"relative h-[60vh] w-full\">\n        <img src={item.image} alt={item.title} className=\"w-full h-full object-cover\" />\n        <div className=\"absolute inset-0 bg-gradient-to-t from-background via-transparent to-transparent\" />\n        <div className=\"absolute top-4 left-0 right-0 container mx-auto px-6 flex justify-between items-start\">\n           <Link href={type === 'offer' ? '/last-minute' : `/${type}s`}>\n             <Button variant=\"secondary\" size=\"sm\" className=\"rounded-full backdrop-blur-md bg-white/20 hover:bg-white/40 border-none text-white\">\n               <ArrowLeft className=\"w-4 h-4 mr-2\" /> Back to {type}s\n             </Button>\n           </Link>\n           <div className=\"flex gap-2\">\n             <Button \n               variant=\"secondary\" \n               size=\"icon\" \n               className=\"rounded-full backdrop-blur-md bg-white/20 hover:bg-white/40 border-none text-white\"\n               onClick={handleShare}\n             >\n               <Share2 className=\"w-4 h-4\" />\n             </Button>\n             <Button \n               variant=\"secondary\" \n               size=\"icon\" \n               className={`rounded-full backdrop-blur-md bg-white/20 hover:bg-white/40 border-none ${isFavorite ? 'text-red-500' : 'text-white'}`}\n               onClick={() => setIsFavorite(!isFavorite)}\n             >\n               <Heart className={`w-4 h-4 ${isFavorite ? 'fill-current' : ''}`} />\n             </Button>\n           </div>\n        </div>\n      </div>\n\n      <div className=\"container mx-auto px-6 -mt-32 relative z-10 mb-20\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-10\">\n          {/* Main Content */}\n          <div className=\"lg:col-span-2 space-y-8\">\n            <div>\n               <div className=\"flex items-center gap-2 mb-2\">\n                 <Badge variant=\"secondary\" className=\"uppercase tracking-widest text-xs\">{type === 'offer' ? 'Last Minute Deal' : type}</Badge>\n                 {item.category && <Badge variant=\"outline\" className=\"bg-white/10 backdrop-blur border-white/20 text-white\">{item.category}</Badge>}\n               </div>\n               <h1 className=\"text-4xl md:text-5xl font-serif font-bold text-white mb-2 drop-shadow-sm\">{item.title}</h1>\n               <div className=\"flex items-center gap-4 text-white/80 text-sm\">\n                 <div className=\"flex items-center gap-1\">\n                   <MapPin className=\"w-4 h-4\" /> {item.location}\n                 </div>\n                 {itemReviews.length > 0 ? (\n                   <div className=\"flex items-center gap-1\">\n                     <Star className=\"w-4 h-4 fill-secondary text-secondary\" /> {avgRating} ({itemReviews.length} review{itemReviews.length !== 1 ? 's' : ''})\n                   </div>\n                 ) : (\n                   <div className=\"flex items-center gap-1 opacity-70\">\n                     <Star className=\"w-4 h-4\" /> No reviews yet\n                   </div>\n                 )}\n                 {item.duration && (\n                   <div className=\"flex items-center gap-1\">\n                     <Clock className=\"w-4 h-4\" /> {item.duration}\n                   </div>\n                 )}\n               </div>\n            </div>\n\n            <div className=\"bg-card rounded-xl p-8 shadow-sm border border-border/50\">\n              <h2 className=\"text-2xl font-serif font-bold mb-4\">Overview</h2>\n              <p className=\"text-muted-foreground leading-relaxed mb-6\">\n                Experience the epitome of luxury with our {item.title}. Meticulously curated to ensure an unforgettable journey, \n                this exclusive package offers unparalleled access to the finest amenities and personalized services. \n                Whether you seek relaxation, adventure, or cultural immersion, this is the perfect choice for the discerning traveler.\n              </p>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mt-8\">\n                 <div className=\"bg-muted/30 p-4 rounded-lg\">\n                    <h3 className=\"font-bold mb-2 flex items-center gap-2\"><Shield className=\"w-4 h-4 text-secondary\" /> Premium Inclusions</h3>\n                    <ul className=\"space-y-2\">\n                      {features.map((feature: string, i: number) => (\n                        <li key={i} className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                          <Check className=\"w-4 h-4 text-green-600 flex-shrink-0\" />\n                          {feature}\n                        </li>\n                      ))}\n                    </ul>\n                 </div>\n                 {specs && (\n                   <div className=\"bg-muted/30 p-4 rounded-lg\">\n                      <h3 className=\"font-bold mb-2 flex items-center gap-2\"><Globe className=\"w-4 h-4 text-secondary\" /> Specifications</h3>\n                      <p className=\"text-sm text-muted-foreground\">{specs}</p>\n                   </div>\n                 )}\n              </div>\n            </div>\n            \n            {/* Gallery (Mock) */}\n            <div>\n               <h2 className=\"text-2xl font-serif font-bold mb-4\">Gallery</h2>\n               <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                  {[1,2,3,4].map(i => (\n                    <div key={i} className=\"aspect-square rounded-lg bg-muted overflow-hidden\">\n                       <img src={`https://source.unsplash.com/random/400x400?luxury,travel,${i}`} alt=\"Gallery\" className=\"w-full h-full object-cover hover:scale-110 transition-transform duration-700\" />\n                    </div>\n                  ))}\n               </div>\n            </div>\n\n            {/* Reviews Section */}\n            <div className=\"bg-card rounded-xl p-8 shadow-sm border border-border/50\">\n               <div className=\"flex items-center justify-between mb-6\">\n                  <h2 className=\"text-2xl font-serif font-bold\">Guest Reviews</h2>\n                  {itemReviews.length > 0 && (\n                    <div className=\"flex items-center gap-2\">\n                       <Star className=\"w-5 h-5 fill-secondary text-secondary\" />\n                       <span className=\"text-xl font-bold\">{avgRating}</span>\n                       <span className=\"text-muted-foreground\">({itemReviews.length} review{itemReviews.length !== 1 ? 's' : ''})</span>\n                    </div>\n                  )}\n               </div>\n\n               {itemReviews.length > 0 ? (\n                  <div className=\"space-y-6\">\n                     {itemReviews.map((review) => (\n                        <div key={review.id} className=\"border-b border-border/50 pb-6 last:border-0 last:pb-0\">\n                           <div className=\"flex items-start gap-4\">\n                              <div className=\"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center\">\n                                 <User className=\"w-5 h-5 text-primary\" />\n                              </div>\n                              <div className=\"flex-1\">\n                                 <div className=\"flex items-center justify-between mb-2\">\n                                    <div>\n                                       <h4 className=\"font-semibold\">{review.userName}</h4>\n                                       {review.createdAt && (\n                                          <p className=\"text-xs text-muted-foreground\">\n                                             {new Date(review.createdAt).toLocaleDateString('en-US', { \n                                                year: 'numeric', \n                                                month: 'long', \n                                                day: 'numeric' \n                                             })}\n                                          </p>\n                                       )}\n                                    </div>\n                                    <div className=\"flex items-center gap-1\">\n                                       {[...Array(5)].map((_, i) => (\n                                          <Star \n                                             key={i} \n                                             className={`w-4 h-4 ${i < review.rating ? 'fill-secondary text-secondary' : 'text-muted'}`} \n                                          />\n                                       ))}\n                                    </div>\n                                 </div>\n                                 <p className=\"text-muted-foreground leading-relaxed\">{review.comment}</p>\n                              </div>\n                           </div>\n                        </div>\n                     ))}\n                  </div>\n               ) : (\n                  <div className=\"text-center py-8\">\n                     <p className=\"text-muted-foreground\">No reviews yet. Be the first to share your experience!</p>\n                  </div>\n               )}\n            </div>\n          </div>\n\n          {/* Sticky Sidebar */}\n          <div className=\"lg:col-span-1\">\n             <div className=\"bg-card rounded-xl p-6 shadow-lg border border-border/50 sticky top-24\">\n                <div className=\"mb-6\">\n                   <p className=\"text-sm text-muted-foreground mb-1\">Starting from</p>\n                   <div className=\"flex items-end gap-2\">\n                      <span className=\"text-3xl font-bold text-primary\">{formatPrice(currentPrice, detectedCurrency)}</span>\n                      {item.originalPrice && <span className=\"text-lg text-muted-foreground line-through mb-1\">{formatPrice(item.originalPrice, detectedCurrency)}</span>}\n                   </div>\n                   {type === 'hotel' && <span className=\"text-sm text-muted-foreground\">per night</span>}\n                </div>\n\n                {type === 'hotel' && item.roomTypes && item.roomTypes.length > 0 && (\n                  <div className=\"mb-6 space-y-3\">\n                    <Label>Select Room Type</Label>\n                    <RadioGroup value={selectedRoomTypeId} onValueChange={setSelectedRoomTypeId}>\n                      {item.roomTypes.map((room: any) => (\n                        <div key={room.id} className={`flex items-center justify-between p-3 rounded-md border cursor-pointer transition-all ${selectedRoomTypeId === room.id ? 'border-primary bg-primary/5' : 'border-border hover:bg-muted/50'}`}>\n                          <div className=\"flex items-center space-x-2\">\n                            <RadioGroupItem value={room.id} id={room.id} />\n                            <Label htmlFor={room.id} className=\"cursor-pointer font-medium\">\n                              {room.name}\n                              {room.description && <span className=\"block text-xs text-muted-foreground font-normal mt-0.5\">{room.description}</span>}\n                            </Label>\n                          </div>\n                          <span className=\"text-sm font-bold\">{formatPrice(room.price, detectedCurrency)}</span>\n                        </div>\n                      ))}\n                    </RadioGroup>\n                  </div>\n                )}\n\n                {selectedRoomType && selectedRoomType.facilities && selectedRoomType.facilities.length > 0 && (\n                   <div className=\"mb-6 p-4 bg-muted/30 rounded-lg border border-border/50 animate-in fade-in slide-in-from-top-2\">\n                      <h4 className=\"text-sm font-bold mb-2 flex items-center gap-2\">\n                         <Star className=\"w-3 h-3 text-secondary fill-secondary\" /> \n                         {selectedRoomType.name} Exclusives\n                      </h4>\n                      <div className=\"flex flex-wrap gap-2\">\n                         {selectedRoomType.facilities.map((facility: string, idx: number) => (\n                            <span key={idx} className=\"text-xs bg-background px-2 py-1 rounded border text-muted-foreground flex items-center gap-1\">\n                               <Check className=\"w-3 h-3 text-green-600\" /> {facility}\n                            </span>\n                         ))}\n                      </div>\n                   </div>\n                )}\n\n                <div className=\"space-y-4 mb-6\">\n                   <div className=\"flex justify-between text-sm py-2 border-b\">\n                      <span className=\"text-muted-foreground\">Duration</span>\n                      <span className=\"font-medium\">{item.duration || \"Flexible\"}</span>\n                   </div>\n                   <div className=\"flex justify-between text-sm py-2 border-b\">\n                      <span className=\"text-muted-foreground\">Max Guests</span>\n                      <span className=\"font-medium\">2 Adults, 1 Child</span>\n                   </div>\n                   <div className=\"flex justify-between text-sm py-2 border-b\">\n                      <span className=\"text-muted-foreground\">Cancellation</span>\n                      <span className=\"font-medium text-green-600\">Free up to 48h</span>\n                   </div>\n                </div>\n\n                <Button size=\"lg\" className=\"w-full mb-4\" onClick={() => setIsBookingOpen(true)}>\n                  Book Now\n                </Button>\n                <p className=\"text-xs text-center text-muted-foreground\">\n                   No payment charged yet. Availability is confirmed instantly.\n                </p>\n             </div>\n          </div>\n        </div>\n      </div>\n\n      <BookingModal \n        isOpen={isBookingOpen} \n        onClose={() => setIsBookingOpen(false)} \n        itemTitle={item.title}\n        itemPrice={currentPrice}\n        subTitle={selectedRoomType ? `Room Type: ${selectedRoomType.name}` : undefined}\n      />\n    </Layout>\n  );\n}\n","path":null,"size_bytes":18167,"size_tokens":null},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-9 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-300 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","path":null,"size_bytes":5124,"size_tokens":null},"shared/schema.ts":{"content":"import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, timestamp, decimal, boolean, date, integer, json, pgEnum } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema, createSelectSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\nimport { relations } from \"drizzle-orm\";\n\n// Users table\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).pick({\n  username: true,\n  password: true,\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n\n// Trips table\nexport const trips = pgTable(\"trips\", {\n  id: varchar(\"id\").primaryKey(),\n  title: varchar(\"title\", { length: 255 }).notNull(),\n  location: varchar(\"location\", { length: 255 }).notNull(),\n  image: text(\"image\").notNull(),\n  gallery: json(\"gallery\").$type<string[]>().default([]),\n  price: varchar(\"price\", { length: 50 }).notNull(),\n  rating: decimal(\"rating\", { precision: 2, scale: 1 }).notNull(),\n  duration: varchar(\"duration\", { length: 50 }).notNull(),\n  category: varchar(\"category\", { length: 100 }).notNull(),\n  features: json(\"features\").$type<string[]>().notNull(),\n  metaDescription: text(\"meta_description\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const insertTripSchema = createInsertSchema(trips).omit({ id: true, createdAt: true });\nexport type Trip = typeof trips.$inferSelect;\nexport type InsertTrip = z.infer<typeof insertTripSchema>;\n\n// Hotels table\nexport const hotels = pgTable(\"hotels\", {\n  id: varchar(\"id\").primaryKey(),\n  title: varchar(\"title\", { length: 255 }).notNull(),\n  location: varchar(\"location\", { length: 255 }).notNull(),\n  image: text(\"image\").notNull(),\n  gallery: json(\"gallery\").$type<string[]>().default([]),\n  price: varchar(\"price\", { length: 50 }).notNull(),\n  rating: decimal(\"rating\", { precision: 2, scale: 1 }).notNull(),\n  amenities: json(\"amenities\").$type<string[]>().notNull(),\n  alwaysAvailable: boolean(\"always_available\").default(true),\n  isActive: boolean(\"is_active\").default(true),\n  availableFrom: date(\"available_from\"),\n  availableTo: date(\"available_to\"),\n  stars: integer(\"stars\").default(5),\n  sortOrder: integer(\"sort_order\").default(0),\n  metaDescription: text(\"meta_description\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const insertHotelSchema = createInsertSchema(hotels).omit({ id: true, createdAt: true });\nexport type Hotel = typeof hotels.$inferSelect;\nexport type InsertHotel = z.infer<typeof insertHotelSchema>;\n\n// Room types table\nexport const roomTypes = pgTable(\"room_types\", {\n  id: varchar(\"id\").primaryKey(),\n  hotelId: varchar(\"hotel_id\").notNull().references(() => hotels.id, { onDelete: 'cascade' }),\n  name: varchar(\"name\", { length: 255 }).notNull(),\n  price: varchar(\"price\", { length: 50 }).notNull(),\n  description: text(\"description\"),\n  facilities: json(\"facilities\").$type<string[]>().notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const hotelsRelations = relations(hotels, ({ many }) => ({\n  roomTypes: many(roomTypes),\n}));\n\nexport const roomTypesRelations = relations(roomTypes, ({ one }) => ({\n  hotel: one(hotels, {\n    fields: [roomTypes.hotelId],\n    references: [hotels.id],\n  }),\n}));\n\nexport const insertRoomTypeSchema = createInsertSchema(roomTypes).omit({ id: true, createdAt: true });\nexport type RoomType = typeof roomTypes.$inferSelect;\nexport type InsertRoomType = z.infer<typeof insertRoomTypeSchema>;\n\n// Cars table\nexport const cars = pgTable(\"cars\", {\n  id: varchar(\"id\").primaryKey(),\n  title: varchar(\"title\", { length: 255 }).notNull(),\n  location: varchar(\"location\", { length: 255 }).notNull(),\n  image: text(\"image\").notNull(),\n  gallery: json(\"gallery\").$type<string[]>().default([]),\n  price: varchar(\"price\", { length: 50 }).notNull(),\n  rating: decimal(\"rating\", { precision: 2, scale: 1 }).notNull(),\n  specs: varchar(\"specs\", { length: 255 }).notNull(),\n  features: json(\"features\").$type<string[]>().notNull(),\n  metaDescription: text(\"meta_description\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const insertCarSchema = createInsertSchema(cars).omit({ id: true, createdAt: true });\nexport type Car = typeof cars.$inferSelect;\nexport type InsertCar = z.infer<typeof insertCarSchema>;\n\n// Last minute offers table\nexport const lastMinuteOffers = pgTable(\"last_minute_offers\", {\n  id: varchar(\"id\").primaryKey(),\n  title: varchar(\"title\", { length: 255 }).notNull(),\n  location: varchar(\"location\", { length: 255 }).notNull(),\n  image: text(\"image\").notNull(),\n  gallery: json(\"gallery\").$type<string[]>().default([]),\n  price: varchar(\"price\", { length: 50 }).notNull(),\n  originalPrice: varchar(\"original_price\", { length: 50 }).notNull(),\n  rating: decimal(\"rating\", { precision: 2, scale: 1 }).notNull(),\n  endsIn: varchar(\"ends_in\", { length: 50 }).notNull(),\n  discount: varchar(\"discount\", { length: 50 }).notNull(),\n  metaDescription: text(\"meta_description\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const insertLastMinuteOfferSchema = createInsertSchema(lastMinuteOffers).omit({ id: true, createdAt: true });\nexport type LastMinuteOffer = typeof lastMinuteOffers.$inferSelect;\nexport type InsertLastMinuteOffer = z.infer<typeof insertLastMinuteOfferSchema>;\n\n// Bookings enums and table\nexport const bookingStatusEnum = pgEnum('booking_status', ['Confirmed', 'Pending', 'Cancelled']);\n\nexport const bookings = pgTable(\"bookings\", {\n  id: varchar(\"id\").primaryKey(),\n  customer: varchar(\"customer\", { length: 255 }).notNull(),\n  item: varchar(\"item\", { length: 255 }).notNull(),\n  date: date(\"date\").notNull(),\n  status: bookingStatusEnum(\"status\").notNull(),\n  amount: varchar(\"amount\", { length: 50 }).notNull(),\n  paymentIntentId: varchar(\"payment_intent_id\", { length: 255 }),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const insertBookingSchema = createInsertSchema(bookings).omit({ id: true, createdAt: true });\nexport type Booking = typeof bookings.$inferSelect;\nexport type InsertBooking = z.infer<typeof insertBookingSchema>;\n\n// Reviews enums and table\nexport const reviewItemTypeEnum = pgEnum('review_item_type', ['trip', 'hotel', 'car', 'offer']);\nexport const reviewStatusEnum = pgEnum('review_status', ['pending', 'approved', 'rejected']);\n\nexport const reviews = pgTable(\"reviews\", {\n  id: varchar(\"id\").primaryKey(),\n  itemId: varchar(\"item_id\", { length: 255 }).notNull(),\n  itemType: reviewItemTypeEnum(\"item_type\").notNull(),\n  itemTitle: varchar(\"item_title\", { length: 255 }).notNull(),\n  userName: varchar(\"user_name\", { length: 255 }).notNull(),\n  userEmail: varchar(\"user_email\", { length: 255 }),\n  rating: integer(\"rating\").notNull(),\n  comment: text(\"comment\").notNull(),\n  status: reviewStatusEnum(\"status\").default('pending'),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const insertReviewSchema = createInsertSchema(reviews).omit({ id: true, createdAt: true });\nexport type Review = typeof reviews.$inferSelect;\nexport type InsertReview = z.infer<typeof insertReviewSchema>;\n\n// Support tickets enums and table\nexport const ticketStatusEnum = pgEnum('ticket_status', ['Open', 'In Progress', 'Closed']);\nexport const ticketPriorityEnum = pgEnum('ticket_priority', ['Low', 'Medium', 'High']);\nexport const ticketReplySenderEnum = pgEnum('ticket_reply_sender', ['user', 'support']);\n\nexport const supportTickets = pgTable(\"support_tickets\", {\n  id: varchar(\"id\").primaryKey(),\n  userEmail: varchar(\"user_email\", { length: 255 }).notNull(),\n  subject: varchar(\"subject\", { length: 255 }).notNull(),\n  status: ticketStatusEnum(\"status\").default('Open'),\n  priority: ticketPriorityEnum(\"priority\").default('Medium'),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const ticketReplies = pgTable(\"ticket_replies\", {\n  id: varchar(\"id\").primaryKey(),\n  ticketId: varchar(\"ticket_id\").notNull().references(() => supportTickets.id, { onDelete: 'cascade' }),\n  sender: ticketReplySenderEnum(\"sender\").notNull(),\n  message: text(\"message\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n});\n\nexport const supportTicketsRelations = relations(supportTickets, ({ many }) => ({\n  replies: many(ticketReplies),\n}));\n\nexport const ticketRepliesRelations = relations(ticketReplies, ({ one }) => ({\n  ticket: one(supportTickets, {\n    fields: [ticketReplies.ticketId],\n    references: [supportTickets.id],\n  }),\n}));\n\nexport const insertSupportTicketSchema = createInsertSchema(supportTickets).omit({ id: true, createdAt: true });\nexport const insertTicketReplySchema = createInsertSchema(ticketReplies).omit({ id: true, createdAt: true });\nexport type SupportTicket = typeof supportTickets.$inferSelect;\nexport type TicketReply = typeof ticketReplies.$inferSelect;\nexport type InsertSupportTicket = z.infer<typeof insertSupportTicketSchema>;\nexport type InsertTicketReply = z.infer<typeof insertTicketReplySchema>;\n\n// Payment settings table\nexport const paymentSettings = pgTable(\"payment_settings\", {\n  id: varchar(\"id\").primaryKey(),\n  provider: varchar(\"provider\", { length: 50 }).notNull().unique(),\n  enabled: boolean(\"enabled\").default(false),\n  secretKey: text(\"secret_key\"),\n  publishableKey: text(\"publishable_key\"),\n  webhookSecret: text(\"webhook_secret\"),\n  additionalConfig: json(\"additional_config\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport type PaymentSettings = typeof paymentSettings.$inferSelect;\n\n// Subscribers table\nexport const subscriberStatusEnum = pgEnum('subscriber_status', ['active', 'unsubscribed']);\n\nexport const subscribers = pgTable(\"subscribers\", {\n  id: varchar(\"id\").primaryKey(),\n  email: varchar(\"email\", { length: 255 }).notNull().unique(),\n  name: varchar(\"name\", { length: 255 }),\n  subscribedAt: timestamp(\"subscribed_at\").defaultNow(),\n  status: subscriberStatusEnum(\"status\").default('active'),\n});\n\nexport const insertSubscriberSchema = createInsertSchema(subscribers).omit({ id: true, subscribedAt: true });\nexport type Subscriber = typeof subscribers.$inferSelect;\nexport type InsertSubscriber = z.infer<typeof insertSubscriberSchema>;\n\n// Email templates table\nexport const emailTemplates = pgTable(\"email_templates\", {\n  id: varchar(\"id\").primaryKey(),\n  name: varchar(\"name\", { length: 255 }).notNull(),\n  subject: varchar(\"subject\", { length: 500 }).notNull(),\n  body: text(\"body\").notNull(),\n  variables: json(\"variables\").$type<string[]>(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport type EmailTemplate = typeof emailTemplates.$inferSelect;\n\n// Email settings table\nexport const emailSettings = pgTable(\"email_settings\", {\n  id: varchar(\"id\").primaryKey(),\n  enabled: boolean(\"enabled\").default(false),\n  host: varchar(\"host\", { length: 255 }),\n  port: integer(\"port\"),\n  secure: boolean(\"secure\").default(false),\n  username: varchar(\"username\", { length: 255 }),\n  password: text(\"password\"),\n  fromEmail: varchar(\"from_email\", { length: 255 }),\n  fromName: varchar(\"from_name\", { length: 255 }),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\nexport type EmailSettings = typeof emailSettings.$inferSelect;\n","path":null,"size_bytes":11486,"size_tokens":null},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","path":null,"size_bytes":80,"size_tokens":null},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","path":null,"size_bytes":649,"size_tokens":null},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"grid place-content-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","path":null,"size_bytes":1031,"size_tokens":null},"STRIPE_SETUP.md":{"content":"# Stripe Payment Integration Setup Guide\n\nThis guide will help you set up Stripe payment processing for the VoyagerLuxury booking system.\n\n## Prerequisites\n\n1. A Stripe account (sign up at https://stripe.com)\n2. Access to your Stripe Dashboard\n\n## Step 1: Get Your Stripe API Keys\n\n1. Log in to your [Stripe Dashboard](https://dashboard.stripe.com)\n2. Make sure you're in **Test Mode** (toggle in the top right)\n3. Navigate to **Developers** â†’ **API keys**\n4. Copy your keys:\n   - **Publishable key** (starts with `pk_test_...`)\n   - **Secret key** (starts with `sk_test_...`)\n\n## Step 2: Configure Environment Variables\n\n### For Server (Backend)\n\nCreate a `.env` file in the root directory or set environment variables:\n\n```env\nSTRIPE_SECRET_KEY=sk_test_your_secret_key_here\n```\n\n### For Client (Frontend)\n\nCreate a `.env` file in the root directory:\n\n```env\nVITE_STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here\n```\n\n**Important:** The `VITE_` prefix is required for Vite to expose the variable to the client-side code.\n\n## Step 3: Update Code with Your Keys\n\n### Option 1: Use Environment Variables (Recommended)\n\n1. Create `.env` file in the project root:\n   ```env\n   STRIPE_SECRET_KEY=sk_test_your_actual_key\n   VITE_STRIPE_PUBLISHABLE_KEY=pk_test_your_actual_key\n   ```\n\n2. The code will automatically use these values.\n\n### Option 2: Hardcode for Testing (Not Recommended for Production)\n\nIf you want to test quickly, you can temporarily hardcode the keys:\n\n**In `server/stripe.ts`:**\n```typescript\nconst stripeSecretKey = process.env.STRIPE_SECRET_KEY || 'sk_test_your_key_here';\n```\n\n**In `client/src/components/booking-modal.tsx`:**\n```typescript\nconst stripePromise = loadStripe('pk_test_your_key_here');\n```\n\n## Step 4: Test the Integration\n\n1. Start your development server:\n   ```bash\n   npm run dev\n   ```\n\n2. Navigate to a booking page and try to make a booking\n\n3. Use Stripe test card numbers:\n   - **Success:** `4242 4242 4242 4242`\n   - **Decline:** `4000 0000 0000 0002`\n   - **Requires Authentication:** `4000 0025 0000 3155`\n   - Use any future expiry date (e.g., 12/34)\n   - Use any 3-digit CVC\n\n## Step 5: Database Migration\n\nThe database schema has been updated to include `payment_intent_id` in the bookings table. If you need to update an existing database:\n\n```sql\nALTER TABLE bookings ADD COLUMN payment_intent_id VARCHAR(255);\n```\n\n## How It Works\n\n1. **User initiates booking** â†’ Booking form is displayed\n2. **User selects payment method** â†’ If \"new card\" is selected, a payment intent is created\n3. **Stripe Elements form** â†’ Secure card input form is displayed\n4. **Payment processing** â†’ Stripe processes the payment securely\n5. **Booking confirmation** â†’ On successful payment, booking is saved with payment intent ID\n\n## Production Setup\n\nWhen ready for production:\n\n1. Switch to **Live Mode** in Stripe Dashboard\n2. Get your **live** API keys (starts with `pk_live_...` and `sk_live_...`)\n3. Update environment variables with live keys\n4. Update `server/stripe.ts` to use live keys\n5. Test thoroughly before going live\n\n## Security Notes\n\n- **Never commit** your secret keys to version control\n- Always use environment variables for sensitive data\n- The secret key should only be used on the server\n- The publishable key is safe to use in client-side code\n\n## Support\n\nFor Stripe-related issues:\n- [Stripe Documentation](https://stripe.com/docs)\n- [Stripe Support](https://support.stripe.com)\n\nFor application issues, check the server logs and browser console for error messages.\n\n","path":null,"size_bytes":3541,"size_tokens":null},"client/src/lib/data.ts":{"content":"\nexport const trips = [\n  {\n    id: \"t1\",\n    title: \"Santorini Sunset Escape\",\n    location: \"Santorini, Greece\",\n    image: \"https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?q=80&w=2938&auto=format&fit=crop\",\n    price: \"$2,499\",\n    rating: 4.9,\n    duration: \"7 Days\",\n    category: \"Relaxation\",\n    features: [\"Private Villa\", \"Sunset Cruise\", \"Wine Tasting\"]\n  },\n  {\n    id: \"t2\",\n    title: \"Kyoto Cultural Journey\",\n    location: \"Kyoto, Japan\",\n    image: \"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=2940&auto=format&fit=crop\",\n    price: \"$3,299\",\n    rating: 5.0,\n    duration: \"10 Days\",\n    category: \"Culture\",\n    features: [\"Tea Ceremony\", \"Temple Tours\", \"Ryokan Stay\"]\n  },\n  {\n    id: \"t3\",\n    title: \"Safari Adventure\",\n    location: \"Serengeti, Tanzania\",\n    image: \"https://images.unsplash.com/photo-1516426122078-c23e76319801?q=80&w=2936&auto=format&fit=crop\",\n    price: \"$4,899\",\n    rating: 4.8,\n    duration: \"8 Days\",\n    category: \"Adventure\",\n    features: [\"Game Drives\", \"Luxury Tents\", \"Balloon Safari\"]\n  },\n  {\n    id: \"t4\",\n    title: \"Amalfi Coast Drive\",\n    location: \"Amalfi, Italy\",\n    image: \"https://images.unsplash.com/photo-1533105079780-92b9be482077?q=80&w=2787&auto=format&fit=crop\",\n    price: \"$3,500\",\n    rating: 4.7,\n    duration: \"5 Days\",\n    category: \"Romantic\",\n    features: [\"Convertible Rental\", \"Coastal Dining\", \"Boat Tour\"]\n  },\n  {\n    id: \"t5\",\n    title: \"Swiss Alps Skiing\",\n    location: \"Zermatt, Switzerland\",\n    image: \"https://images.unsplash.com/photo-1551524559-8af4e6624178?q=80&w=2826&auto=format&fit=crop\",\n    price: \"$4,200\",\n    rating: 4.9,\n    duration: \"6 Days\",\n    category: \"Adventure\",\n    features: [\"Ski Pass\", \"Chalet Stay\", \"Spa Access\"]\n  }\n];\n\nexport const hotels = [\n  {\n    id: \"h1\",\n    title: \"The Plaza Hotel\",\n    location: \"New York, USA\",\n    image: \"https://images.unsplash.com/photo-1582719508461-905c673771fd?q=80&w=2825&auto=format&fit=crop\",\n    price: \"$899/night\",\n    rating: 4.7,\n    amenities: [\"Spa\", \"Fine Dining\", \"Central Park View\"],\n    alwaysAvailable: true,\n    isActive: true\n  },\n  {\n    id: \"h2\",\n    title: \"Burj Al Arab\",\n    location: \"Dubai, UAE\",\n    image: \"https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?q=80&w=2940&auto=format&fit=crop\",\n    price: \"$1,500/night\",\n    rating: 5.0,\n    amenities: [\"Private Beach\", \"Butler Service\", \"Helipad\"],\n    alwaysAvailable: true,\n    isActive: true\n  },\n  {\n    id: \"h3\",\n    title: \"Ritz Paris\",\n    location: \"Paris, France\",\n    image: \"https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=2940&auto=format&fit=crop\",\n    price: \"$1,200/night\",\n    rating: 4.9,\n    amenities: [\"Michelin Dining\", \"Historic\", \"Pool\"],\n    alwaysAvailable: true,\n    isActive: true\n  }\n];\n\nexport const cars = [\n  {\n    id: \"c1\",\n    title: \"Porsche 911 Carrera\",\n    location: \"Los Angeles, CA\",\n    image: \"https://images.unsplash.com/photo-1503376763036-066120622c74?q=80&w=2940&auto=format&fit=crop\",\n    price: \"$350/day\",\n    rating: 4.9,\n    specs: \"Automatic â€¢ 2 Seats\",\n    features: [\"Convertible\", \"GPS\", \"Premium Audio\"]\n  },\n  {\n    id: \"c2\",\n    title: \"Range Rover Autobiography\",\n    location: \"London, UK\",\n    image: \"https://images.unsplash.com/photo-1606220838315-056192d5e927?q=80&w=2874&auto=format&fit=crop\",\n    price: \"$400/day\",\n    rating: 4.8,\n    specs: \"Automatic â€¢ 5 Seats\",\n    features: [\"4WD\", \"Massage Seats\", \"Panoramic Roof\"]\n  },\n  {\n    id: \"c3\",\n    title: \"Ferrari 488 Spider\",\n    location: \"Monaco\",\n    image: \"https://images.unsplash.com/photo-1592198084033-aade902d1aae?q=80&w=2940&auto=format&fit=crop\",\n    price: \"$900/day\",\n    rating: 5.0,\n    specs: \"Automatic â€¢ 2 Seats\",\n    features: [\"Convertible\", \"V8 Engine\", \"Sport Mode\"]\n  }\n];\n\nexport const lastMinuteOffers = [\n  {\n    id: \"o1\",\n    title: \"Maldives Overwater Villa\",\n    location: \"Maldives\",\n    image: \"https://images.unsplash.com/photo-1514282401047-d79a71a590e8?q=80&w=2865&auto=format&fit=crop\",\n    price: \"$1,299\",\n    originalPrice: \"$2,500\",\n    rating: 5.0,\n    endsIn: \"2 days\",\n    discount: \"48% OFF\"\n  },\n  {\n    id: \"o2\",\n    title: \"Paris Weekend Getaway\",\n    location: \"Paris, France\",\n    image: \"https://images.unsplash.com/photo-1502602898657-3e91760cbb34?q=80&w=2946&auto=format&fit=crop\",\n    price: \"$899\",\n    originalPrice: \"$1,200\",\n    rating: 4.6,\n    endsIn: \"5 hours\",\n    discount: \"25% OFF\"\n  },\n  {\n     id: \"o3\",\n     title: \"Bali Jungle Retreat\",\n     location: \"Ubud, Bali\",\n     image: \"https://images.unsplash.com/photo-1537996194471-e657df975ab4?q=80&w=2838&auto=format&fit=crop\",\n     price: \"$699\",\n     originalPrice: \"$1,100\",\n     rating: 4.8,\n     endsIn: \"1 day\",\n     discount: \"36% OFF\"\n  }\n];\n\nexport const bookings = [];\nexport const reviews = [];\n","path":null,"size_bytes":4848,"size_tokens":null},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","path":null,"size_bytes":157,"size_tokens":null},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-4 w-4 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","path":null,"size_bytes":7406,"size_tokens":null},"server/seed.ts":{"content":"import { db } from \"./db\";\nimport { trips, hotels, roomTypes, cars, lastMinuteOffers, bookings, reviews } from \"@shared/schema\";\n\nasync function seed() {\n  try {\n    console.log(\"ðŸŒ± Seeding database...\");\n\n    // Seed trips\n    await db.insert(trips).values([\n      {\n        id: \"t1\",\n        title: \"Santorini Sunset Escape\",\n        location: \"Santorini, Greece\",\n        image: \"https://images.unsplash.com/photo-1613395877344-13d4a8e0d49e?q=80&w=1000&auto=format&fit=crop\",\n        price: \"$3,200\",\n        rating: \"4.9\",\n        duration: \"7 Days\",\n        category: \"Romantic\",\n        features: [\"All Inclusive\", \"Private Transfers\", \"Sunset Cruise\"]\n      },\n      {\n        id: \"t2\",\n        title: \"Kyoto Autumn Retreat\",\n        location: \"Kyoto, Japan\",\n        image: \"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=1000&auto=format&fit=crop\",\n        price: \"$4,500\",\n        rating: \"5.0\",\n        duration: \"10 Days\",\n        category: \"Cultural\",\n        features: [\"Guided Tours\", \"Tea Ceremony\", \"Meals Included\"]\n      },\n      {\n        id: \"t3\",\n        title: \"Amalfi Coast Drive\",\n        location: \"Amalfi, Italy\",\n        image: \"https://images.unsplash.com/photo-1533105079780-92b9be482077?q=80&w=1000&auto=format&fit=crop\",\n        price: \"$5,100\",\n        rating: \"4.8\",\n        duration: \"8 Days\",\n        category: \"Luxury\",\n        features: [\"Luxury Car Rental\", \"5-Star Hotels\", \"Breakfast Daily\"]\n      },\n      {\n        id: \"t4\",\n        title: \"Safari in Serengeti\",\n        location: \"Tanzania\",\n        image: \"https://images.unsplash.com/photo-1516426122078-c23e76319801?q=80&w=1000&auto=format&fit=crop\",\n        price: \"$6,800\",\n        rating: \"4.9\",\n        duration: \"9 Days\",\n        category: \"Adventure\",\n        features: [\"Game Drives\", \"Park Fees\", \"Full Board\"]\n      }\n    ]).onConflictDoNothing();\n\n    // Seed hotels\n    await db.insert(hotels).values([\n      {\n        id: \"h1\",\n        title: \"The Grand Palace\",\n        location: \"Paris, France\",\n        image: \"https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=1000&auto=format&fit=crop\",\n        price: \"$850/night\",\n        rating: \"4.9\",\n        amenities: [\"Spa\", \"Michelin Dining\", \"City View\", \"WiFi\", \"Concierge\"],\n        alwaysAvailable: true,\n        isActive: true\n      },\n      {\n        id: \"h2\",\n        title: \"Azure Resort & Spa\",\n        location: \"Maldives\",\n        image: \"https://images.unsplash.com/photo-1573843981267-be1999ff37cd?q=80&w=1000&auto=format&fit=crop\",\n        price: \"$1,200/night\",\n        rating: \"5.0\",\n        amenities: [\"Overwater Villa\", \"Private Pool\", \"Butler\", \"Spa\", \"Gym\"],\n        alwaysAvailable: true,\n        isActive: true\n      },\n      {\n        id: \"h3\",\n        title: \"Alpine Lodge\",\n        location: \"Zermatt, Switzerland\",\n        image: \"https://images.unsplash.com/photo-1582719508461-905c673771fd?q=80&w=1000&auto=format&fit=crop\",\n        price: \"$950/night\",\n        rating: \"4.8\",\n        amenities: [\"Ski-in/Ski-out\", \"Fireplace\", \"Spa\", \"Restaurant\"],\n        alwaysAvailable: false,\n        isActive: true,\n        availableFrom: \"2024-12-01\",\n        availableTo: \"2025-04-30\"\n      }\n    ]).onConflictDoNothing();\n\n    // Seed room types for hotels\n    await db.insert(roomTypes).values([\n      {\n        id: \"rt1\",\n        hotelId: \"h1\",\n        name: \"Deluxe Room\",\n        price: \"$850\",\n        description: \"Spacious room with city view\",\n        facilities: [\"City View\", \"Mini Bar\", \"Rain Shower\"]\n      },\n      {\n        id: \"rt2\",\n        hotelId: \"h1\",\n        name: \"Executive Suite\",\n        price: \"$1,250\",\n        description: \"Separate living area and premium amenities\",\n        facilities: [\"Lounge Access\", \"Jacuzzi\", \"Work Desk\", \"City View\"]\n      },\n      {\n        id: \"rt3\",\n        hotelId: \"h1\",\n        name: \"Presidential Suite\",\n        price: \"$3,500\",\n        description: \"Ultimate luxury with panoramic views\",\n        facilities: [\"Private Butler\", \"Grand Piano\", \"Sauna\", \"Panoramic Terrace\"]\n      }\n    ]).onConflictDoNothing();\n\n    // Seed cars\n    await db.insert(cars).values([\n      {\n        id: \"c1\",\n        title: \"Convertible GT\",\n        location: \"Monaco\",\n        image: \"https://images.unsplash.com/photo-1544636331-e26879cd4d9b?q=80&w=1000&auto=format&fit=crop\",\n        price: \"$1,500/day\",\n        rating: \"5.0\",\n        specs: \"Automatic â€¢ 2 Seats\",\n        features: [\"GPS\", \"Bluetooth\", \"Sport Mode\", \"Convertible Top\"]\n      },\n      {\n        id: \"c2\",\n        title: \"Luxury SUV\",\n        location: \"Dubai, UAE\",\n        image: \"https://images.unsplash.com/photo-1617788138017-80ad40651399?q=80&w=1000&auto=format&fit=crop\",\n        price: \"$900/day\",\n        rating: \"4.7\",\n        specs: \"Automatic â€¢ 5 Seats\",\n        features: [\"GPS\", \"Leather Seats\", \"Sunroof\", \"All-Wheel Drive\"]\n      },\n      {\n        id: \"c3\",\n        title: \"Classic Vintage\",\n        location: \"Tuscany, Italy\",\n        image: \"https://images.unsplash.com/photo-1552519507-da3b142c6e3d?q=80&w=1000&auto=format&fit=crop\",\n        price: \"$1,100/day\",\n        rating: \"4.9\",\n        specs: \"Manual â€¢ 2 Seats\",\n        features: [\"Vintage Style\", \"Convertible\", \"Manual Transmission\"]\n      }\n    ]).onConflictDoNothing();\n\n    // Seed last minute offers\n    await db.insert(lastMinuteOffers).values([\n      {\n        id: \"lm1\",\n        title: \"Bali Beach Villa - 48h Sale\",\n        location: \"Bali, Indonesia\",\n        image: \"https://images.unsplash.com/photo-1537996194471-e657df975ab4?q=80&w=1000&auto=format&fit=crop\",\n        price: \"$1,800\",\n        originalPrice: \"$3,200\",\n        rating: \"4.8\",\n        endsIn: \"12h 30m\",\n        discount: \"45% OFF\"\n      },\n      {\n        id: \"lm2\",\n        title: \"New York Weekend\",\n        location: \"New York, USA\",\n        image: \"https://images.unsplash.com/photo-1496442226666-8d4d0e62e6e9?q=80&w=1000&auto=format&fit=crop\",\n        price: \"$1,200\",\n        originalPrice: \"$1,800\",\n        rating: \"4.7\",\n        endsIn: \"08h 15m\",\n        discount: \"33% OFF\"\n      },\n      {\n        id: \"lm3\",\n        title: \"Swiss Alps Chalet\",\n        location: \"Interlaken, Switzerland\",\n        image: \"https://images.unsplash.com/photo-1502784444187-359ac186c5bb?q=80&w=1000&auto=format&fit=crop\",\n        price: \"$2,100\",\n        originalPrice: \"$2,800\",\n        rating: \"4.9\",\n        endsIn: \"24h 00m\",\n        discount: \"25% OFF\"\n      }\n    ]).onConflictDoNothing();\n\n    // Seed bookings\n    await db.insert(bookings).values([\n      {\n        id: \"BKG-001\",\n        customer: \"Alice Freeman\",\n        item: \"Santorini Sunset Escape\",\n        date: \"2024-05-12\",\n        status: \"Confirmed\",\n        amount: \"$3,200\"\n      },\n      {\n        id: \"BKG-002\",\n        customer: \"Robert Chen\",\n        item: \"The Grand Palace\",\n        date: \"2024-06-01\",\n        status: \"Pending\",\n        amount: \"$2,550\"\n      },\n      {\n        id: \"BKG-003\",\n        customer: \"Elena Rodriguez\",\n        item: \"Convertible GT\",\n        date: \"2024-06-15\",\n        status: \"Cancelled\",\n        amount: \"$4,500\"\n      },\n      {\n        id: \"BKG-004\",\n        customer: \"David Smith\",\n        item: \"Kyoto Autumn Retreat\",\n        date: \"2024-10-20\",\n        status: \"Cancelled\",\n        amount: \"$4,500\"\n      },\n      {\n        id: \"BKG-005\",\n        customer: \"Sarah Johnson\",\n        item: \"Azure Resort & Spa\",\n        date: \"2024-07-08\",\n        status: \"Confirmed\",\n        amount: \"$6,000\"\n      }\n    ]).onConflictDoNothing();\n\n    // Seed reviews\n    await db.insert(reviews).values([\n      {\n        id: \"rev-1\",\n        itemId: \"t1\",\n        itemType: \"trip\",\n        itemTitle: \"Santorini Sunset Escape\",\n        userName: \"Alice Freeman\",\n        userEmail: \"alice@example.com\",\n        rating: 5,\n        comment: \"Absolutely breathtaking views! The sunset cruise was the highlight of our trip. The private transfers were seamless and the whole experience exceeded our expectations.\",\n        status: \"approved\"\n      },\n      {\n        id: \"rev-2\",\n        itemId: \"t1\",\n        itemType: \"trip\",\n        itemTitle: \"Santorini Sunset Escape\",\n        userName: \"Michael Davis\",\n        userEmail: \"michael@example.com\",\n        rating: 5,\n        comment: \"An unforgettable romantic getaway. Every detail was perfectly planned. Highly recommend for couples!\",\n        status: \"approved\"\n      },\n      {\n        id: \"rev-3\",\n        itemId: \"h1\",\n        itemType: \"hotel\",\n        itemTitle: \"The Grand Palace\",\n        userName: \"Robert Chen\",\n        userEmail: \"robert@example.com\",\n        rating: 5,\n        comment: \"Exceptional service and stunning location. The Presidential Suite was worth every penny. The staff went above and beyond.\",\n        status: \"approved\"\n      },\n      {\n        id: \"rev-4\",\n        itemId: \"h1\",\n        itemType: \"hotel\",\n        itemTitle: \"The Grand Palace\",\n        userName: \"Emma Wilson\",\n        userEmail: \"emma@example.com\",\n        rating: 4,\n        comment: \"Beautiful hotel with amazing amenities. The spa was incredible. Only minor issue was the slow room service on one occasion.\",\n        status: \"approved\"\n      },\n      {\n        id: \"rev-5\",\n        itemId: \"h2\",\n        itemType: \"hotel\",\n        itemTitle: \"Azure Resort & Spa\",\n        userName: \"Sarah Johnson\",\n        userEmail: \"sarah@example.com\",\n        rating: 5,\n        comment: \"Paradise on Earth! The overwater villa was a dream come true. Private pool, personal butler - pure luxury.\",\n        status: \"approved\"\n      },\n      {\n        id: \"rev-6\",\n        itemId: \"c1\",\n        itemType: \"car\",\n        itemTitle: \"Convertible GT\",\n        userName: \"Elena Rodriguez\",\n        userEmail: \"elena@example.com\",\n        rating: 4,\n        comment: \"Driving the Convertible GT through Monaco was an amazing experience! Car was in pristine condition. Pick up was slightly delayed.\",\n        status: \"approved\"\n      },\n      {\n        id: \"rev-7\",\n        itemId: \"t2\",\n        itemType: \"trip\",\n        itemTitle: \"Kyoto Autumn Retreat\",\n        userName: \"Jennifer Lee\",\n        userEmail: \"jennifer@example.com\",\n        rating: 5,\n        comment: \"The tea ceremony was a magical experience. Our guide was extremely knowledgeable about Japanese culture.\",\n        status: \"approved\"\n      },\n      {\n        id: \"rev-8\",\n        itemId: \"lm1\",\n        itemType: \"offer\",\n        itemTitle: \"Bali Beach Villa - 48h Sale\",\n        userName: \"Chris Martin\",\n        userEmail: \"chris@example.com\",\n        rating: 5,\n        comment: \"Incredible value! Got this deal last minute and it was absolutely worth it. The villa was stunning.\",\n        status: \"approved\"\n      },\n      {\n        id: \"rev-9\",\n        itemId: \"t3\",\n        itemType: \"trip\",\n        itemTitle: \"Amalfi Coast Drive\",\n        userName: \"Sophie Taylor\",\n        userEmail: \"sophie@example.com\",\n        rating: 5,\n        comment: \"The views along the Amalfi Coast were spectacular. Luxury accommodations and amazing food!\",\n        status: \"approved\"\n      },\n      {\n        id: \"rev-10\",\n        itemId: \"h3\",\n        itemType: \"hotel\",\n        itemTitle: \"Alpine Lodge\",\n        userName: \"James Brown\",\n        userEmail: \"james@example.com\",\n        rating: 5,\n        comment: \"Perfect ski vacation! Ski-in/ski-out convenience was amazing. Cozy fireplace and excellent restaurant.\",\n        status: \"approved\"\n      }\n    ]).onConflictDoNothing();\n\n    console.log(\"âœ… Database seeded successfully!\");\n  } catch (error) {\n    console.error(\"âŒ Error seeding database:\", error);\n    process.exit(1);\n  } finally {\n    process.exit(0);\n  }\n}\n\nseed();\n","path":null,"size_bytes":11674,"size_tokens":null},"start.sh":{"content":"#!/bin/bash\n# VoyagerLuxury - Linux/Mac Startup Script\n\necho \"\"\necho \"============================================================\"\necho \"  VoyagerLuxury - Automated Startup Script (Linux/Mac)\"\necho \"============================================================\"\necho \"\"\n\nnode start.js\n\nEXIT_CODE=$?\n\nif [ $EXIT_CODE -ne 0 ]; then\n    echo \"\"\n    echo \"Script failed with error code $EXIT_CODE\"\n    exit $EXIT_CODE\nfi\n\n","path":null,"size_bytes":418,"size_tokens":null},"client/src/pages/admin.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Link, useLocation } from \"wouter\";\nimport { \n  LayoutDashboard, \n  Calendar, \n  Users, \n  Settings, \n  LogOut, \n  Plane, \n  TrendingUp, \n  DollarSign, \n  Briefcase,\n  Plus,\n  Edit,\n  Trash,\n  User,\n  Map,\n  Building,\n  Car,\n  MessageSquare,\n  CheckCircle,\n  XCircle,\n  AlertCircle,\n  LayoutTemplate,\n  Star,\n  Check,\n  X,\n  Upload,\n  ExternalLink,\n  Mail,\n  FileText,\n  Send,\n  Clock,\n  ChevronUp,\n  ChevronDown\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger, DialogFooter } from \"@/components/ui/dialog\";\nimport { useStore } from \"@/lib/store-context\";\nimport { useAuth } from \"@/lib/auth-context\";\nimport { \n  BarChart, \n  Bar, \n  XAxis, \n  YAxis, \n  CartesianGrid, \n  Tooltip, \n  ResponsiveContainer,\n  AreaChart,\n  Area\n} from \"recharts\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { format } from \"date-fns\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { Calendar as CalendarComponent } from \"@/components/ui/calendar\";\nimport { cn } from \"@/lib/utils\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport GalleryEditor from \"@/components/gallery-editor\";\n\n// Email Template Form Component\nfunction EmailTemplateForm({ template, onSuccess, onClose }: { template?: any; onSuccess: () => void; onClose?: () => void }) {\n  const [name, setName] = useState(template?.name || \"\");\n  const [subject, setSubject] = useState(template?.subject || \"\");\n  const [body, setBody] = useState(template?.body || \"\");\n  const [variables, setVariables] = useState<string[]>(template?.variables || []);\n  const [newVariable, setNewVariable] = useState(\"\");\n  const { toast } = useToast();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      const url = template ? `/api/email-templates/${template.id}` : '/api/email-templates';\n      const method = template ? 'PUT' : 'POST';\n      const res = await fetch(url, {\n        method,\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name, subject, body, variables })\n      });\n\n      if (res.ok) {\n        toast({ title: template ? \"Template updated\" : \"Template created\", description: \"Email template has been saved.\" });\n        onSuccess();\n        if (onClose) {\n          onClose();\n        }\n      } else {\n        throw new Error('Failed to save template');\n      }\n    } catch (error) {\n      toast({ title: \"Error\", description: \"Failed to save template.\", variant: \"destructive\" });\n    }\n  };\n\n  const addVariable = () => {\n    if (newVariable && !variables.includes(newVariable)) {\n      setVariables([...variables, newVariable]);\n      setNewVariable(\"\");\n    }\n  };\n\n  const removeVariable = (varName: string) => {\n    setVariables(variables.filter(v => v !== varName));\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div>\n        <Label>Template Name *</Label>\n        <Input\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          placeholder=\"e.g., Welcome Email\"\n          required\n        />\n      </div>\n      <div>\n        <Label>Subject *</Label>\n        <Input\n          value={subject}\n          onChange={(e) => setSubject(e.target.value)}\n          placeholder=\"Email subject (use {{variableName}} for variables)\"\n          required\n        />\n      </div>\n      <div>\n        <Label>Body *</Label>\n        <Textarea\n          value={body}\n          onChange={(e) => setBody(e.target.value)}\n          placeholder=\"Email body (use {{variableName}} for variables)\"\n          className=\"min-h-[200px]\"\n          required\n        />\n      </div>\n      <div>\n        <Label>Variables</Label>\n        <div className=\"flex gap-2 mb-2\">\n          <Input\n            value={newVariable}\n            onChange={(e) => setNewVariable(e.target.value)}\n            placeholder=\"Variable name (e.g., name)\"\n            onKeyPress={(e) => {\n              if (e.key === 'Enter') {\n                e.preventDefault();\n                addVariable();\n              }\n            }}\n          />\n          <Button type=\"button\" onClick={addVariable}>\n            <Plus className=\"w-4 h-4\" />\n          </Button>\n        </div>\n        <div className=\"flex flex-wrap gap-2\">\n          {variables.map(v => (\n            <Badge key={v} variant=\"secondary\" className=\"flex items-center gap-1\">\n              {`{{${v}}}`}\n              <button\n                type=\"button\"\n                onClick={() => removeVariable(v)}\n                className=\"ml-1 hover:text-destructive\"\n              >\n                <X className=\"w-3 h-3\" />\n              </button>\n            </Badge>\n          ))}\n        </div>\n        <p className=\"text-xs text-muted-foreground mt-2\">\n          Use variables in your subject and body like: {`{{name}}`}, {`{{email}}`}, etc.\n        </p>\n      </div>\n      <DialogFooter>\n        <Button type=\"submit\">\n          {template ? \"Update Template\" : \"Create Template\"}\n        </Button>\n      </DialogFooter>\n    </form>\n  );\n}\n\nexport default function AdminDashboard() {\n  const [activeTab, setActiveTab] = useState(\"overview\");\n  const { \n    trips, hotels, cars, offers, footer, updateFooter, updateFooterLink, \n    addTrip, updateTrip, deleteTrip, addHotel, updateHotel, deleteHotel, addCar, updateCar, deleteCar,\n    addOffer, updateOffer, deleteOffer,\n    reviews, updateReviewStatus, deleteReview,\n    websiteSettings, updateWebsiteSettings,\n    bookings, updateBooking, updatePaymentStatus, deleteBooking,\n    allTickets, fetchAllTickets, replyToTicketAsAdmin, updateTicketStatus,\n    refetchData\n  } = useStore();\n  const { user, logout } = useAuth();\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n\n  // Local state for settings form\n  const [localSettings, setLocalSettings] = useState(websiteSettings);\n  \n  // Support ticket state\n  const [selectedTicketId, setSelectedTicketId] = useState<string | null>(null);\n  const [replyMessage, setReplyMessage] = useState(\"\");\n  const [isUserDialogOpen, setIsUserDialogOpen] = useState(false);\n  const [editingUser, setEditingUser] = useState<{ name: string; email: string; role: string; status: string } | null>(null);\n  const [paymentSettings, setPaymentSettings] = useState<any[]>([]);\n  const [settingsSubTab, setSettingsSubTab] = useState<\"general\" | \"payments\" | \"email\">(\"general\");\n  const [loadingPaymentSettings, setLoadingPaymentSettings] = useState(false);\n  const [subscribers, setSubscribers] = useState<any[]>([]);\n  const [emailTemplates, setEmailTemplates] = useState<any[]>([]);\n  const [selectedSubscribers, setSelectedSubscribers] = useState<string[]>([]);\n  const [sendEmailDialogOpen, setSendEmailDialogOpen] = useState(false);\n  const [emailSubject, setEmailSubject] = useState(\"\");\n  const [emailBody, setEmailBody] = useState(\"\");\n  const [selectedTemplateId, setSelectedTemplateId] = useState<string>(\"\");\n  const [emailVariables, setEmailVariables] = useState<Record<string, string>>({});\n  const [createTemplateDialogOpen, setCreateTemplateDialogOpen] = useState(false);\n  const [editTemplateDialogOpen, setEditTemplateDialogOpen] = useState<string | null>(null);\n  const [emailSettings, setEmailSettings] = useState<any>(null);\n  const [loadingEmailSettings, setLoadingEmailSettings] = useState(false);\n  const [templatesDialogOpen, setTemplatesDialogOpen] = useState(false);\n  const [siteSettings, setSiteSettings] = useState<any>({\n    siteName: \"Voyager Hub\",\n    logoUrl: \"\",\n    tagline: \"\",\n    seoTitle: \"\",\n    seoDescription: \"\",\n    seoKeywords: \"\",\n    contactEmail: \"\",\n    contactPhone: \"\",\n    contactAddress: \"\",\n    facebookUrl: \"\",\n    instagramUrl: \"\",\n    twitterUrl: \"\",\n    linkedinUrl: \"\",\n    youtubeUrl: \"\",\n    whatsappNumber: \"\",\n    defaultCurrency: \"EUR\",\n  });\n  const [loadingSiteSettings, setLoadingSiteSettings] = useState(false);\n  const [savingSiteSettings, setSavingSiteSettings] = useState(false);\n\n  // Fetch tickets when support tab is active\n  useEffect(() => {\n    if (activeTab === \"support\") {\n      fetchAllTickets();\n    }\n  }, [activeTab]);\n\n  // Fetch data when overview tab is active to ensure live stats\n  useEffect(() => {\n    if (activeTab === \"overview\") {\n      fetchAllTickets();\n      refetchData();\n    }\n  }, [activeTab]);\n\n  // Fetch payment settings when settings tab is active or when switching to payments sub-tab\n  useEffect(() => {\n    if (activeTab === \"settings\") {\n      if (settingsSubTab === \"general\") {\n        fetchSiteSettings();\n      } else if (settingsSubTab === \"payments\") {\n        fetchPaymentSettings();\n      } else if (settingsSubTab === \"email\") {\n        fetchEmailSettings();\n      }\n    }\n  }, [activeTab, settingsSubTab]);\n\n  const fetchSiteSettings = async () => {\n    setLoadingSiteSettings(true);\n    try {\n      const res = await fetch('/api/site-settings');\n      if (res.ok) {\n        const settings = await res.json();\n        setSiteSettings(settings);\n      } else {\n        console.error('Failed to fetch site settings:', res.statusText);\n      }\n    } catch (error) {\n      console.error('Error fetching site settings:', error);\n    } finally {\n      setLoadingSiteSettings(false);\n    }\n  };\n\n  const saveSiteSettings = async () => {\n    setSavingSiteSettings(true);\n    try {\n      const res = await fetch('/api/site-settings', {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(siteSettings)\n      });\n      if (res.ok) {\n        toast({ title: \"Settings Saved\", description: \"Website settings have been updated successfully.\" });\n        // Also update the store context so changes reflect immediately on the website\n        updateWebsiteSettings({\n          name: siteSettings.siteName,\n          logo: siteSettings.logoUrl,\n          seoTitle: siteSettings.seoTitle,\n          seoDescription: siteSettings.seoDescription,\n          seoKeywords: siteSettings.seoKeywords,\n          defaultCurrency: siteSettings.defaultCurrency,\n        });\n      } else {\n        toast({ title: \"Error\", description: \"Failed to save settings.\", variant: \"destructive\" });\n      }\n    } catch (error) {\n      console.error('Error saving site settings:', error);\n      toast({ title: \"Error\", description: \"Failed to save settings.\", variant: \"destructive\" });\n    } finally {\n      setSavingSiteSettings(false);\n    }\n  };\n\n  const fetchPaymentSettings = async () => {\n    setLoadingPaymentSettings(true);\n    try {\n      const res = await fetch('/api/payment-settings');\n      if (res.ok) {\n        const settings = await res.json();\n        setPaymentSettings(settings);\n      } else {\n        console.error('Failed to fetch payment settings:', res.statusText);\n        toast({ title: \"Error\", description: \"Failed to load payment settings.\", variant: \"destructive\" });\n      }\n    } catch (error) {\n      console.error('Error fetching payment settings:', error);\n      toast({ title: \"Error\", description: \"Failed to load payment settings.\", variant: \"destructive\" });\n    } finally {\n      setLoadingPaymentSettings(false);\n    }\n  };\n\n  const updatePaymentSetting = async (provider: string, updates: any) => {\n    if (!provider) {\n      console.error('Provider is undefined, cannot update payment settings');\n      return false;\n    }\n    try {\n      const res = await fetch(`/api/payment-settings/${provider}`, {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(updates)\n      });\n      if (res.ok) {\n        const updatedFields = await res.json();\n        setPaymentSettings(prev => prev.map(s => \n          s.provider === provider ? { ...s, ...updatedFields } : s\n        ));\n        toast({ title: \"Payment Settings Updated\", description: `${provider} settings have been saved.` });\n        return true;\n      }\n    } catch (error) {\n      console.error('Error updating payment settings:', error);\n      toast({ title: \"Error\", description: \"Failed to update payment settings.\", variant: \"destructive\" });\n    }\n    return false;\n  };\n\n  // Fetch subscribers\n  const fetchSubscribers = async () => {\n    try {\n      const res = await fetch('/api/subscribers');\n      if (res.ok) {\n        const data = await res.json();\n        setSubscribers(data);\n      }\n    } catch (error) {\n      console.error('Error fetching subscribers:', error);\n      toast({ title: \"Error\", description: \"Failed to load subscribers.\", variant: \"destructive\" });\n    }\n  };\n\n  // Fetch email templates\n  const fetchEmailTemplates = async () => {\n    try {\n      const res = await fetch('/api/email-templates');\n      if (res.ok) {\n        const data = await res.json();\n        setEmailTemplates(data);\n      }\n    } catch (error) {\n      console.error('Error fetching email templates:', error);\n      toast({ title: \"Error\", description: \"Failed to load email templates.\", variant: \"destructive\" });\n    }\n  };\n\n  // Delete subscriber\n  const handleDeleteSubscriber = async (id: string) => {\n    if (!confirm('Are you sure you want to delete this subscriber?')) return;\n    try {\n      const res = await fetch(`/api/subscribers/${id}`, { method: 'DELETE' });\n      if (res.ok) {\n        toast({ title: \"Subscriber deleted\", description: \"Subscriber has been removed.\" });\n        fetchSubscribers();\n      }\n    } catch (error) {\n      toast({ title: \"Error\", description: \"Failed to delete subscriber.\", variant: \"destructive\" });\n    }\n  };\n\n  // Send emails\n  const handleSendEmails = async () => {\n    if (selectedSubscribers.length === 0) {\n      toast({ title: \"No subscribers selected\", description: \"Please select at least one subscriber.\", variant: \"destructive\" });\n      return;\n    }\n    if (!emailSubject || !emailBody) {\n      toast({ title: \"Missing information\", description: \"Please provide both subject and body.\", variant: \"destructive\" });\n      return;\n    }\n\n    try {\n      // Check if all active subscribers are selected - if so, send \"all\"\n      const activeSubscribers = subscribers.filter(s => s.status === 'active');\n      const subscriberIds = selectedSubscribers.length === activeSubscribers.length && activeSubscribers.length > 0\n        ? ['all']\n        : selectedSubscribers;\n\n      const res = await fetch('/api/send-emails', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          subscriberIds: subscriberIds,\n          templateId: selectedTemplateId || undefined,\n          subject: emailSubject,\n          body: emailBody,\n          variables: emailVariables\n        })\n      });\n\n      if (res.ok) {\n        const data = await res.json();\n        toast({ title: \"Emails sent\", description: data.message });\n        setSendEmailDialogOpen(false);\n        setSelectedSubscribers([]);\n        setEmailSubject(\"\");\n        setEmailBody(\"\");\n        setSelectedTemplateId(\"\");\n        setEmailVariables({});\n      } else {\n        throw new Error('Failed to send emails');\n      }\n    } catch (error) {\n      toast({ title: \"Error\", description: \"Failed to send emails.\", variant: \"destructive\" });\n    }\n  };\n\n  // Load template\n  const handleLoadTemplate = (templateId: string) => {\n    const template = emailTemplates.find(t => t.id === templateId);\n    if (template) {\n      setSelectedTemplateId(templateId);\n      setEmailSubject(template.subject);\n      setEmailBody(template.body);\n      // Extract variables from template\n      const vars: Record<string, string> = {};\n      (template.variables || []).forEach((v: string) => {\n        vars[v] = '';\n      });\n      setEmailVariables(vars);\n    }\n  };\n\n  // Fetch email settings\n  const fetchEmailSettings = async () => {\n    setLoadingEmailSettings(true);\n    try {\n      const res = await fetch('/api/email-settings');\n      if (res.ok) {\n        const settings = await res.json();\n        setEmailSettings(settings);\n      } else if (res.status === 404) {\n        // Settings don't exist yet, create default\n        setEmailSettings({\n          enabled: false,\n          host: '',\n          port: 587,\n          secure: false,\n          username: '',\n          password: '',\n          fromEmail: '',\n          fromName: ''\n        });\n      }\n    } catch (error) {\n      console.error('Error fetching email settings:', error);\n      toast({ title: \"Error\", description: \"Failed to load email settings.\", variant: \"destructive\" });\n    } finally {\n      setLoadingEmailSettings(false);\n    }\n  };\n\n  // Update email settings\n  const updateEmailSettings = async (updates: any) => {\n    try {\n      const res = await fetch('/api/email-settings', {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(updates)\n      });\n      if (res.ok) {\n        const updated = await res.json();\n        setEmailSettings(updated);\n        toast({ title: \"Email Settings Updated\", description: \"Email settings have been saved.\" });\n        return true;\n      }\n    } catch (error) {\n      console.error('Error updating email settings:', error);\n      toast({ title: \"Error\", description: \"Failed to update email settings.\", variant: \"destructive\" });\n    }\n    return false;\n  };\n\n  // Update local settings when store changes (initial load)\n  if (localSettings.name === \"\" && websiteSettings.name !== \"\") {\n     setLocalSettings(websiteSettings);\n  }\n  \n  const handleAdminReply = async (ticketId: string) => {\n    if (replyMessage.trim()) {\n      const success = await replyToTicketAsAdmin(ticketId, replyMessage);\n      if (success) {\n        setReplyMessage(\"\");\n        toast({ title: \"Reply Sent\", description: \"Your reply has been added to the ticket.\" });\n      } else {\n        toast({ title: \"Error\", description: \"Failed to send reply. Please try again.\", variant: \"destructive\" });\n      }\n    }\n  };\n\n  // Dialog States\n  const [isHotelDialogOpen, setIsHotelDialogOpen] = useState(false);\n  const [editingHotelId, setEditingHotelId] = useState<string | null>(null);\n  const [isTripDialogOpen, setIsTripDialogOpen] = useState(false);\n  const [editingTripId, setEditingTripId] = useState<string | null>(null);\n  const [isCarDialogOpen, setIsCarDialogOpen] = useState(false);\n  const [editingCarId, setEditingCarId] = useState<string | null>(null);\n  const [newTrip, setNewTrip] = useState({ title: \"\", price: \"\", location: \"\", image: \"\", gallery: [] as string[], rating: 5.0, duration: \"\", category: \"\", features: [] as string[], metaDescription: \"\" });\n  const [tripImageFile, setTripImageFile] = useState<File | null>(null);\n  const [newHotel, setNewHotel] = useState({ \n    title: \"\", \n    price: \"\", \n    location: \"\",\n    image: \"\",\n    gallery: [] as string[],\n    amenities: [] as string[],\n    alwaysAvailable: true,\n    isActive: true,\n    availableFrom: undefined as Date | undefined,\n    availableTo: undefined as Date | undefined,\n    roomTypes: [] as { id: string; name: string; price: string; description?: string; facilities: string[] }[],\n    stars: 5,\n    sortOrder: 0,\n    metaDescription: \"\"\n  });\n  const [hotelImageFile, setHotelImageFile] = useState<File | null>(null);\n  const [newRoomType, setNewRoomType] = useState({ name: \"\", price: \"\", facilities: [] as string[] });\n  const [newFacility, setNewFacility] = useState(\"\");\n  const [newCar, setNewCar] = useState({ title: \"\", price: \"\", location: \"\", image: \"\", gallery: [] as string[], rating: 5.0, specs: \"\", features: [] as string[], metaDescription: \"\" });\n  const [carImageFile, setCarImageFile] = useState<File | null>(null);\n  const [isOfferDialogOpen, setIsOfferDialogOpen] = useState(false);\n  const [editingOfferId, setEditingOfferId] = useState<string | null>(null);\n  const [newOffer, setNewOffer] = useState({ title: \"\", price: \"\", originalPrice: \"\", location: \"\", image: \"\", gallery: [] as string[], rating: 5.0, endsIn: \"\", discount: \"\", metaDescription: \"\" });\n  const [offerImageFile, setOfferImageFile] = useState<File | null>(null);\n\n  const availableTripFeatures = [\"All Inclusive\", \"Flights Included\", \"Transfers\", \"Guided Tours\", \"Meals\", \"Insurance\", \"Luxury Car Rental\", \"5-Star Hotels\"];\n  const availableHotelAmenities = [\"WiFi\", \"Pool\", \"Spa\", \"Gym\", \"Restaurant\", \"Bar\", \"Parking\", \"Room Service\", \"Concierge\", \"Ocean View\", \"Butler\"];\n  const availableCarFeatures = [\"GPS\", \"Bluetooth\", \"Automatic\", \"Leather Seats\", \"Sunroof\", \"Backup Camera\", \"Apple CarPlay\", \"Unlimited Mileage\", \"Chauffeur\"];\n\n  // Helper function to convert file to base64\n  const handleImageFileChange = async (file: File | null, setImage: (url: string) => void) => {\n    if (file) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImage(reader.result as string);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleEditTrip = (trip: any) => {\n    setEditingTripId(trip.id);\n    setNewTrip({\n      title: trip.title || \"\",\n      price: trip.price || \"\",\n      location: trip.location || \"\",\n      image: trip.image || \"\",\n      gallery: trip.gallery || [],\n      rating: trip.rating || 5.0,\n      duration: trip.duration || \"\",\n      category: trip.category || \"\",\n      features: trip.features || [],\n      metaDescription: trip.metaDescription || trip.meta_description || \"\"\n    });\n    setTripImageFile(null);\n    setIsTripDialogOpen(true);\n  };\n\n  const handleEditCar = (car: any) => {\n    setEditingCarId(car.id);\n    setNewCar({\n      title: car.title || \"\",\n      price: car.price || \"\",\n      location: car.location || \"\",\n      image: car.image || \"\",\n      gallery: car.gallery || [],\n      rating: car.rating || 5.0,\n      specs: car.specs || \"\",\n      features: car.features || [],\n      metaDescription: car.metaDescription || car.meta_description || \"\"\n    });\n    setCarImageFile(null);\n    setIsCarDialogOpen(true);\n  };\n\n  const handleEditOffer = (offer: any) => {\n    setEditingOfferId(offer.id);\n    setNewOffer({\n      title: offer.title || \"\",\n      price: offer.price || \"\",\n      originalPrice: offer.originalPrice || \"\",\n      location: offer.location || \"\",\n      image: offer.image || \"\",\n      gallery: offer.gallery || [],\n      rating: offer.rating || 5.0,\n      endsIn: offer.endsIn || \"\",\n      discount: offer.discount || \"\",\n      metaDescription: offer.metaDescription || offer.meta_description || \"\"\n    });\n    setOfferImageFile(null);\n    setIsOfferDialogOpen(true);\n  };\n\n  const handleEditHotel = (hotel: any) => {\n    setNewHotel({\n      title: hotel.title,\n      price: hotel.price,\n      location: hotel.location,\n      image: hotel.image || \"\",\n      gallery: hotel.gallery || [],\n      amenities: hotel.amenities || [],\n      alwaysAvailable: hotel.alwaysAvailable ?? true,\n      isActive: hotel.isActive ?? true,\n      availableFrom: hotel.availableFrom ? new Date(hotel.availableFrom) : undefined,\n      availableTo: hotel.availableTo ? new Date(hotel.availableTo) : undefined,\n      roomTypes: hotel.roomTypes || [],\n      stars: hotel.stars || 5,\n      sortOrder: hotel.sortOrder || 0,\n      metaDescription: hotel.metaDescription || hotel.meta_description || \"\"\n    });\n    setHotelImageFile(null);\n    setEditingHotelId(hotel.id);\n    setIsHotelDialogOpen(true);\n  };\n\n  const handleAddHotel = () => {\n    setNewHotel({ \n      title: \"\", \n      price: \"\", \n      location: \"\",\n      image: \"\",\n      gallery: [],\n      amenities: [],\n      alwaysAvailable: true,\n      isActive: true,\n      availableFrom: undefined,\n      availableTo: undefined,\n      roomTypes: [],\n      stars: 5,\n      sortOrder: 0,\n      metaDescription: \"\"\n    });\n    setHotelImageFile(null);\n    setEditingHotelId(null);\n    setIsHotelDialogOpen(true);\n  };\n\n  // Redirect if not admin\n  if (!user || user.role !== \"admin\") {\n     return (\n       <div className=\"min-h-screen flex items-center justify-center flex-col gap-4\">\n         <h1 className=\"text-2xl font-bold\">Access Denied</h1>\n         <p>You must be an administrator to view this page.</p>\n         <Link href=\"/login\"><Button>Login as Admin</Button></Link>\n       </div>\n     );\n  }\n\n  const handleLogout = () => {\n    logout();\n    setLocation(\"/\");\n  };\n\n  return (\n    <div className=\"min-h-screen bg-muted/20 flex font-sans\">\n      {/* Sidebar */}\n      <aside className=\"w-64 bg-primary text-white hidden md:flex flex-col sticky top-0 h-screen\">\n        <div className=\"p-6 flex items-center gap-2\">\n           <div className=\"w-8 h-8 rounded-full border border-white/20 flex items-center justify-center\">\n             <Plane className=\"w-4 h-4\" />\n           </div>\n           <span className=\"font-serif text-xl font-bold\">Voyager Admin</span>\n        </div>\n\n        <nav className=\"flex-1 px-4 py-6 space-y-2 overflow-y-auto\">\n          <Button \n            variant={activeTab === \"overview\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-white hover:text-white hover:bg-white/10\"\n            onClick={() => setActiveTab(\"overview\")}\n          >\n            <LayoutDashboard className=\"mr-2 h-4 w-4\" />\n            Overview\n          </Button>\n          <Button \n            variant={activeTab === \"bookings\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-white hover:text-white hover:bg-white/10\"\n            onClick={() => setActiveTab(\"bookings\")}\n          >\n            <Calendar className=\"mr-2 h-4 w-4\" />\n            Bookings\n          </Button>\n          \n          <div className=\"pt-4 pb-2 px-4 text-xs font-semibold text-white/50 uppercase tracking-wider\">Inventory</div>\n          \n          <Button \n            variant={activeTab === \"trips\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-white hover:text-white hover:bg-white/10\"\n            onClick={() => setActiveTab(\"trips\")}\n          >\n            <Map className=\"mr-2 h-4 w-4\" />\n            Trips\n          </Button>\n          <Button \n            variant={activeTab === \"hotels\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-white hover:text-white hover:bg-white/10\"\n            onClick={() => setActiveTab(\"hotels\")}\n          >\n            <Building className=\"mr-2 h-4 w-4\" />\n            Hotels\n          </Button>\n          <Button \n            variant={activeTab === \"cars\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-white hover:text-white hover:bg-white/10\"\n            onClick={() => setActiveTab(\"cars\")}\n          >\n            <Car className=\"mr-2 h-4 w-4\" />\n            Cars\n          </Button>\n          <Button \n            variant={activeTab === \"offers\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-white hover:text-white hover:bg-white/10\"\n            onClick={() => setActiveTab(\"offers\")}\n          >\n            <Clock className=\"mr-2 h-4 w-4\" />\n            Last Minute Offers\n          </Button>\n\n          <div className=\"pt-4 pb-2 px-4 text-xs font-semibold text-white/50 uppercase tracking-wider\">Management</div>\n\n          <Button \n            variant={activeTab === \"users\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-white hover:text-white hover:bg-white/10\"\n            onClick={() => setActiveTab(\"users\")}\n          >\n            <Users className=\"mr-2 h-4 w-4\" />\n            Users\n          </Button>\n          <Button \n            variant={activeTab === \"support\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-white hover:text-white hover:bg-white/10\"\n            onClick={() => setActiveTab(\"support\")}\n          >\n            <MessageSquare className=\"mr-2 h-4 w-4\" />\n            Support\n          </Button>\n          <Button \n            variant={activeTab === \"reviews\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-white hover:text-white hover:bg-white/10\"\n            onClick={() => setActiveTab(\"reviews\")}\n          >\n            <Star className=\"mr-2 h-4 w-4\" />\n            Reviews\n          </Button>\n          <Button \n            variant={activeTab === \"subscribers\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-white hover:text-white hover:bg-white/10\"\n            onClick={() => {\n              setActiveTab(\"subscribers\");\n              fetchSubscribers();\n            }}\n          >\n            <Mail className=\"mr-2 h-4 w-4\" />\n            Subscribers\n          </Button>\n          <Button \n            variant={activeTab === \"footer\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-white hover:text-white hover:bg-white/10\"\n            onClick={() => setActiveTab(\"footer\")}\n          >\n            <LayoutTemplate className=\"mr-2 h-4 w-4\" />\n            Footer\n          </Button>\n          <Button \n            variant={activeTab === \"settings\" ? \"secondary\" : \"ghost\"} \n            className=\"w-full justify-start text-white hover:text-white hover:bg-white/10\"\n            onClick={() => {\n              setLocalSettings(websiteSettings); // Sync state on tab switch\n              setActiveTab(\"settings\");\n            }}\n          >\n            <Settings className=\"mr-2 h-4 w-4\" />\n            Settings\n          </Button>\n        </nav>\n\n        <div className=\"p-4 border-t border-white/10 space-y-2\">\n          <Link href=\"/\">\n            <Button variant=\"ghost\" className=\"w-full justify-start text-white hover:text-white hover:bg-secondary/80 bg-secondary/50\">\n              <ExternalLink className=\"mr-2 h-4 w-4\" />\n              View Website\n            </Button>\n          </Link>\n          <Button variant=\"ghost\" onClick={handleLogout} className=\"w-full justify-start text-white/70 hover:text-white hover:bg-white/10\">\n            <LogOut className=\"mr-2 h-4 w-4\" />\n            Sign Out\n          </Button>\n        </div>\n      </aside>\n\n      {/* Main Content */}\n      <main className=\"flex-1 p-8 overflow-auto\">\n        <div className=\"max-w-7xl mx-auto space-y-8\">\n          <div className=\"flex justify-between items-center\">\n            <h1 className=\"font-serif text-3xl font-bold text-primary\">\n               {activeTab.charAt(0).toUpperCase() + activeTab.slice(1)}\n            </h1>\n            <div className=\"flex items-center gap-4\">\n              <span className=\"text-sm text-muted-foreground\">Welcome, {user.name}</span>\n              <div className=\"w-10 h-10 bg-secondary rounded-full flex items-center justify-center text-white font-bold\">\n                {user.name.charAt(0)}\n              </div>\n            </div>\n          </div>\n\n          {activeTab === \"overview\" && (() => {\n            // Calculate live statistics\n            const totalRevenue = bookings\n              .filter(b => b.status === \"Confirmed\")\n              .reduce((sum, b) => {\n                const amount = parseFloat(b.amount.replace(/[^0-9.]/g, '')) || 0;\n                return sum + amount;\n              }, 0);\n            \n            const activeBookings = bookings.filter(b => b.status === \"Confirmed\" || b.status === \"Pending\").length;\n            const todayBookings = bookings.filter(b => {\n              const bookingDate = new Date(b.date);\n              const today = new Date();\n              return bookingDate.toDateString() === today.toDateString();\n            }).length;\n            \n            const uniqueUsers = new Set([\n              ...bookings.map(b => b.customer),\n              ...allTickets.map(t => t.userEmail)\n            ]).size;\n            \n            const openTickets = allTickets.filter(t => t.status === \"Open\").length;\n            const highPriorityTickets = allTickets.filter(t => t.status === \"Open\" && t.priority === \"High\").length;\n            \n            const confirmedBookingsThisMonth = bookings.filter(b => {\n              if (b.status !== \"Confirmed\") return false;\n              const bookingDate = new Date(b.date);\n              const now = new Date();\n              return bookingDate.getMonth() === now.getMonth() && bookingDate.getFullYear() === now.getFullYear();\n            }).length;\n            \n            return (\n            <>\n              {/* Stats Cards */}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n                <Card>\n                  <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n                    <CardTitle className=\"text-sm font-medium text-muted-foreground\">Total Revenue</CardTitle>\n                    <DollarSign className=\"h-4 w-4 text-secondary\" />\n                  </CardHeader>\n                  <CardContent>\n                      <div className=\"text-2xl font-bold text-primary\">${totalRevenue.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}</div>\n                    <p className=\"text-xs text-green-600 flex items-center mt-1\">\n                        <TrendingUp className=\"w-3 h-3 mr-1\" /> {confirmedBookingsThisMonth} confirmed this month\n                    </p>\n                  </CardContent>\n                </Card>\n                <Card>\n                  <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n                    <CardTitle className=\"text-sm font-medium text-muted-foreground\">Active Bookings</CardTitle>\n                    <Calendar className=\"h-4 w-4 text-secondary\" />\n                  </CardHeader>\n                  <CardContent>\n                      <div className=\"text-2xl font-bold text-primary\">{activeBookings}</div>\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                        {todayBookings} {todayBookings === 1 ? 'booking' : 'bookings'} today\n                    </p>\n                  </CardContent>\n                </Card>\n                <Card>\n                  <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n                    <CardTitle className=\"text-sm font-medium text-muted-foreground\">Active Users</CardTitle>\n                    <Users className=\"h-4 w-4 text-secondary\" />\n                  </CardHeader>\n                  <CardContent>\n                      <div className=\"text-2xl font-bold text-primary\">{uniqueUsers.toLocaleString()}</div>\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                        {bookings.length} total bookings\n                    </p>\n                  </CardContent>\n                </Card>\n                <Card>\n                  <CardHeader className=\"flex flex-row items-center justify-between pb-2\">\n                    <CardTitle className=\"text-sm font-medium text-muted-foreground\">Open Support Tickets</CardTitle>\n                    <MessageSquare className=\"h-4 w-4 text-secondary\" />\n                  </CardHeader>\n                  <CardContent>\n                      <div className=\"text-2xl font-bold text-primary\">{openTickets}</div>\n                    <p className=\"text-xs text-red-500 flex items-center mt-1\">\n                        {highPriorityTickets} {highPriorityTickets === 1 ? 'High Priority' : 'High Priority'}\n                    </p>\n                  </CardContent>\n                </Card>\n              </div>\n\n              <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                <Card className=\"col-span-1\">\n                  <CardHeader>\n                    <CardTitle>Revenue Overview</CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"pl-2\">\n                    {(() => {\n                      // Calculate monthly revenue from bookings\n                      const monthlyData = Array.from({ length: 6 }, (_, i) => {\n                        const date = new Date();\n                        date.setMonth(date.getMonth() - (5 - i));\n                        const monthName = date.toLocaleString('default', { month: 'short' });\n                        const monthRevenue = bookings\n                          .filter(b => {\n                            if (b.status !== \"Confirmed\") return false;\n                            const bookingDate = new Date(b.date);\n                            return bookingDate.getMonth() === date.getMonth() && \n                                   bookingDate.getFullYear() === date.getFullYear();\n                          })\n                          .reduce((sum, b) => {\n                            const amount = parseFloat(b.amount.replace(/[^0-9.]/g, '')) || 0;\n                            return sum + amount;\n                          }, 0);\n                        return { name: monthName, total: monthRevenue };\n                      });\n                      \n                      return (\n                    <ResponsiveContainer width=\"100%\" height={300}>\n                          <AreaChart data={monthlyData}>\n                        <defs>\n                          <linearGradient id=\"colorTotal\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                            <stop offset=\"5%\" stopColor=\"hsl(220 40% 20%)\" stopOpacity={0.8}/>\n                            <stop offset=\"95%\" stopColor=\"hsl(220 40% 20%)\" stopOpacity={0}/>\n                          </linearGradient>\n                        </defs>\n                        <XAxis dataKey=\"name\" stroke=\"#888888\" fontSize={12} tickLine={false} axisLine={false} />\n                        <YAxis stroke=\"#888888\" fontSize={12} tickLine={false} axisLine={false} tickFormatter={(value) => `$${value}`} />\n                            <Tooltip formatter={(value: number) => `$${value.toLocaleString()}`} />\n                        <Area type=\"monotone\" dataKey=\"total\" stroke=\"hsl(220 40% 20%)\" fillOpacity={1} fill=\"url(#colorTotal)\" />\n                      </AreaChart>\n                    </ResponsiveContainer>\n                      );\n                    })()}\n                  </CardContent>\n                </Card>\n                <Card className=\"col-span-1\">\n                    <CardHeader>\n                       <CardTitle>Recent Activity</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                       <div className=\"space-y-4\">\n                          {bookings.slice(0, 5).length === 0 ? (\n                            <p className=\"text-sm text-muted-foreground text-center py-4\">No recent bookings</p>\n                          ) : bookings.slice(0, 5).map((booking) => {\n                            const bookingDate = new Date(booking.date);\n                            const now = new Date();\n                            const diffMs = now.getTime() - bookingDate.getTime();\n                            const diffMins = Math.floor(diffMs / 60000);\n                            const diffHours = Math.floor(diffMins / 60);\n                            const diffDays = Math.floor(diffHours / 24);\n                            \n                            let timeAgo = \"\";\n                            if (diffMins < 1) timeAgo = \"Just now\";\n                            else if (diffMins < 60) timeAgo = `${diffMins} ${diffMins === 1 ? 'minute' : 'minutes'} ago`;\n                            else if (diffHours < 24) timeAgo = `${diffHours} ${diffHours === 1 ? 'hour' : 'hours'} ago`;\n                            else if (diffDays < 7) timeAgo = `${diffDays} ${diffDays === 1 ? 'day' : 'days'} ago`;\n                            else timeAgo = bookingDate.toLocaleDateString();\n                            \n                            return (\n                              <div key={booking.id} className=\"flex items-center gap-4 pb-4 border-b border-border/50 last:border-0\">\n                                <div className=\"w-10 h-10 rounded-full bg-muted flex items-center justify-center\">\n                                  <Calendar className=\"w-5 h-5 text-muted-foreground\" />\n                                </div>\n                                <div className=\"flex-1\">\n                                  <p className=\"text-sm font-medium\">New booking from {booking.customer}</p>\n                                  <p className=\"text-xs text-muted-foreground\">{booking.item} â€¢ {timeAgo}</p>\n                                </div>\n                                <Badge variant={\n                                  booking.status === 'Confirmed' ? 'default' :\n                                  booking.status === 'Pending' ? 'secondary' : 'destructive'\n                                } className=\"text-xs\">\n                                  {booking.status}\n                                </Badge>\n                             </div>\n                            );\n                          })}\n                       </div>\n                    </CardContent>\n                </Card>\n              </div>\n            </>\n            );\n          })()}\n\n          {activeTab === \"trips\" && (\n            <div className=\"space-y-6\">\n               <div className=\"flex justify-between items-center\">\n                  <h2 className=\"text-xl font-bold font-serif\">Trips Management</h2>\n                  <Dialog open={isTripDialogOpen} onOpenChange={(open) => {\n                    setIsTripDialogOpen(open);\n                    if (!open) {\n                      setEditingTripId(null);\n                      setNewTrip({ title: \"\", price: \"\", location: \"\", image: \"\", gallery: [], rating: 5.0, duration: \"\", category: \"\", features: [], metaDescription: \"\" });\n                      setTripImageFile(null);\n                    }\n                  }}>\n                     <DialogTrigger asChild>\n                        <Button className=\"bg-primary text-white\" onClick={() => {\n                          setEditingTripId(null);\n                          setNewTrip({ title: \"\", price: \"\", location: \"\", image: \"\", gallery: [], rating: 5.0, duration: \"\", category: \"\", features: [], metaDescription: \"\" });\n                          setTripImageFile(null);\n                        }}><Plus className=\"w-4 h-4 mr-2\" /> Add Trip</Button>\n                     </DialogTrigger>\n                     <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n                        <DialogHeader>\n                           <DialogTitle>{editingTripId ? \"Edit Trip\" : \"Add New Trip\"}</DialogTitle>\n                        </DialogHeader>\n                        <div className=\"grid gap-4 py-4\">\n                           <div className=\"grid grid-cols-2 gap-4\">\n                              <div className=\"grid gap-2\">\n                                 <Label>Title</Label>\n                                 <Input \n                                    placeholder=\"Ex: Bali Escape\" \n                                    value={newTrip.title}\n                                    onChange={(e) => setNewTrip({...newTrip, title: e.target.value})}\n                                 />\n                              </div>\n                              <div className=\"grid gap-2\">\n                                 <Label>Price</Label>\n                                 <Input \n                                    placeholder=\"Ex: $2,500\" \n                                    value={newTrip.price}\n                                    onChange={(e) => setNewTrip({...newTrip, price: e.target.value})}\n                                 />\n                              </div>\n                           </div>\n                           <div className=\"grid gap-2\">\n                              <Label>Location</Label>\n                              <Input \n                                 placeholder=\"Ex: Bali, Indonesia\" \n                                 value={newTrip.location}\n                                 onChange={(e) => setNewTrip({...newTrip, location: e.target.value})}\n                              />\n                           </div>\n                           <div className=\"grid grid-cols-2 gap-4\">\n                              <div className=\"grid gap-2\">\n                                 <Label>Image URL</Label>\n                                 <Input \n                                    placeholder=\"https://...\" \n                                    value={newTrip.image}\n                                    onChange={(e) => setNewTrip({...newTrip, image: e.target.value})}\n                                 />\n                              </div>\n                              <div className=\"grid gap-2\">\n                                 <Label>Rating</Label>\n                                 <Input \n                                    type=\"number\"\n                                    step=\"0.1\"\n                                    min=\"0\"\n                                    max=\"5\"\n                                    placeholder=\"5.0\" \n                                    value={newTrip.rating}\n                                    onChange={(e) => setNewTrip({...newTrip, rating: parseFloat(e.target.value) || 5.0})}\n                                 />\n                              </div>\n                           </div>\n                           <div className=\"grid grid-cols-2 gap-4\">\n                              <div className=\"grid gap-2\">\n                                 <Label>Duration</Label>\n                                 <Input \n                                    placeholder=\"Ex: 7 Days\" \n                                    value={newTrip.duration}\n                                    onChange={(e) => setNewTrip({...newTrip, duration: e.target.value})}\n                                 />\n                              </div>\n                              <div className=\"grid gap-2\">\n                                 <Label>Category</Label>\n                                 <Input \n                                    placeholder=\"Ex: Adventure\" \n                                    value={newTrip.category}\n                                    onChange={(e) => setNewTrip({...newTrip, category: e.target.value})}\n                                 />\n                              </div>\n                           </div>\n                           <div className=\"grid gap-3\">\n                              <Label>Included Features</Label>\n                              <div className=\"grid grid-cols-2 gap-4 p-4 border rounded-md bg-muted/20\">\n                                 {availableTripFeatures.map((feature) => (\n                                    <div key={feature} className=\"flex items-center justify-between\">\n                                       <Label htmlFor={`trip-${feature}`} className=\"text-sm font-normal\">{feature}</Label>\n                                       <Switch \n                                          id={`trip-${feature}`}\n                                          checked={newTrip.features.includes(feature)}\n                                          onCheckedChange={(checked) => {\n                                             if (checked) {\n                                                setNewTrip({...newTrip, features: [...newTrip.features, feature]});\n                                             } else {\n                                                setNewTrip({...newTrip, features: newTrip.features.filter(f => f !== feature)});\n                                             }\n                                          }}\n                                       />\n                                    </div>\n                                 ))}\n                              </div>\n                           </div>\n                           <div className=\"grid gap-2\">\n                              <Label>SEO Meta Description</Label>\n                              <textarea\n                                 className=\"w-full min-h-[80px] px-3 py-2 text-sm border rounded-md resize-none\"\n                                 placeholder=\"Brief description for search engines (recommended 150-160 characters)\"\n                                 value={newTrip.metaDescription}\n                                 onChange={(e) => setNewTrip({...newTrip, metaDescription: e.target.value})}\n                              />\n                              <p className=\"text-xs text-muted-foreground\">{newTrip.metaDescription.length}/160 characters</p>\n                           </div>\n                           <GalleryEditor\n                              images={newTrip.gallery}\n                              onChange={(gallery) => setNewTrip({...newTrip, gallery})}\n                           />\n                        </div>\n                        <DialogFooter>\n                           <Button onClick={async () => {\n                              if (editingTripId) {\n                                 // Update existing trip\n                                 const success = await updateTrip(editingTripId, {\n                                    title: newTrip.title,\n                                    location: newTrip.location,\n                                    price: newTrip.price,\n                                    image: newTrip.image || \"https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?q=80&w=1000\",\n                                    gallery: newTrip.gallery,\n                                    rating: newTrip.rating,\n                                    duration: newTrip.duration,\n                                    category: newTrip.category,\n                                    features: newTrip.features,\n                                    metaDescription: newTrip.metaDescription\n                                 });\n                                 if (success) {\n                                    toast({ title: \"Trip Updated\", description: \"The trip has been updated in the database.\" });\n                                    setIsTripDialogOpen(false);\n                                    setEditingTripId(null);\n                                    setNewTrip({ title: \"\", price: \"\", location: \"\", image: \"\", gallery: [], rating: 5.0, duration: \"\", category: \"\", features: [], metaDescription: \"\" });\n                                 } else {\n                                    toast({ title: \"Error\", description: \"Failed to update trip.\", variant: \"destructive\" });\n                                 }\n                              } else {\n                                 // Add new trip\n                                 const result = await addTrip({\n                                    title: newTrip.title || \"New Trip\",\n                                    location: newTrip.location || \"Unknown\",\n                                    price: newTrip.price || \"$0\",\n                                    image: newTrip.image || \"https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?q=80&w=1000\",\n                                    gallery: newTrip.gallery,\n                                    rating: newTrip.rating || 5.0,\n                                    duration: newTrip.duration || \"7 Days\",\n                                    category: newTrip.category || \"New\",\n                                    features: newTrip.features,\n                                    metaDescription: newTrip.metaDescription\n                                 });\n                                 if (result) {\n                                    toast({ title: \"Trip Added\", description: \"The new trip has been saved to database.\" });\n                                    setIsTripDialogOpen(false);\n                                    setNewTrip({ title: \"\", price: \"\", location: \"\", image: \"\", gallery: [], rating: 5.0, duration: \"\", category: \"\", features: [], metaDescription: \"\" });\n                                 } else {\n                                    toast({ title: \"Error\", description: \"Failed to save trip.\", variant: \"destructive\" });\n                                 }\n                              }\n                           }}>{editingTripId ? \"Update Trip\" : \"Save Trip\"}</Button>\n                        </DialogFooter>\n                     </DialogContent>\n                  </Dialog>\n               </div>\n               \n               <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  {trips.map(trip => (\n                     <Card key={trip.id} className=\"overflow-hidden\">\n                        <div className=\"h-32 overflow-hidden relative\">\n                           <img src={trip.image} className=\"w-full h-full object-cover\" />\n                           <div className=\"absolute top-2 right-2 bg-white/90 backdrop-blur px-2 py-0.5 rounded text-xs font-bold\">\n                             {trip.rating} â˜…\n                           </div>\n                        </div>\n                        <CardContent className=\"p-4\">\n                           <div className=\"flex justify-between items-start mb-2\">\n                              <h3 className=\"font-bold truncate pr-2\">{trip.title}</h3>\n                              <span className=\"text-primary font-bold whitespace-nowrap\">{trip.price}</span>\n                           </div>\n                           <p className=\"text-xs text-muted-foreground mb-2 flex items-center gap-1\">\n                              <Map className=\"w-3 h-3\" /> {trip.location}\n                           </p>\n                           {trip.features && trip.features.length > 0 && (\n                              <div className=\"flex flex-wrap gap-1 mb-4\">\n                                 {trip.features.slice(0, 3).map((f, i) => (\n                                    <span key={i} className=\"text-[10px] bg-muted px-1.5 py-0.5 rounded text-muted-foreground\">{f}</span>\n                                 ))}\n                                 {trip.features.length > 3 && <span className=\"text-[10px] text-muted-foreground\">+{trip.features.length - 3} more</span>}\n                              </div>\n                           )}\n                           <div className=\"flex gap-2 mt-auto\">\n                              <Button variant=\"outline\" size=\"sm\" className=\"flex-1\" onClick={() => handleEditTrip(trip)}><Edit className=\"w-3 h-3 mr-1\" /> Edit</Button>\n                              <Button variant=\"destructive\" size=\"sm\" className=\"flex-1\" onClick={async () => {\n                                 const deleted = await deleteTrip(trip.id);\n                                 if (deleted) {\n                                    toast({ title: \"Trip Deleted\", description: \"Trip removed from database.\" });\n                                 } else {\n                                    toast({ title: \"Error\", description: \"Failed to delete trip.\", variant: \"destructive\" });\n                                 }\n                              }}><Trash className=\"w-3 h-3 mr-1\" /> Delete</Button>\n                           </div>\n                        </CardContent>\n                     </Card>\n                  ))}\n               </div>\n            </div>\n          )}\n\n          {activeTab === \"hotels\" && (\n            <div className=\"space-y-6\">\n               <div className=\"flex justify-between items-center\">\n                  <h2 className=\"text-xl font-bold font-serif\">Hotels Management</h2>\n                  <Dialog open={isHotelDialogOpen} onOpenChange={setIsHotelDialogOpen}>\n                     <Button onClick={handleAddHotel} className=\"bg-primary text-white\"><Plus className=\"w-4 h-4 mr-2\" /> Add Hotel</Button>\n                     <DialogContent className=\"max-w-2xl h-[80vh] overflow-y-auto\">\n                        <DialogHeader>\n                           <DialogTitle>{editingHotelId ? \"Edit Hotel\" : \"Add New Hotel\"}</DialogTitle>\n                        </DialogHeader>\n                        <div className=\"grid gap-4 py-4\">\n                           <div className=\"grid grid-cols-2 gap-4\">\n                              <div className=\"grid gap-2\">\n                                 <Label>Hotel Name</Label>\n                                 <Input \n                                    placeholder=\"Ex: The Grand Budapest\" \n                                    value={newHotel.title}\n                                    onChange={(e) => setNewHotel({...newHotel, title: e.target.value})}\n                                 />\n                              </div>\n                              <div className=\"grid gap-2\">\n                                 <Label>Price per Night</Label>\n                                 <Input \n                                    placeholder=\"Ex: $450/night\" \n                                    value={newHotel.price}\n                                    onChange={(e) => setNewHotel({...newHotel, price: e.target.value})}\n                                 />\n                              </div>\n                           </div>\n                           <div className=\"grid gap-2\">\n                              <Label>Location</Label>\n                              <Input \n                                 placeholder=\"Ex: Budapest, Hungary\" \n                                 value={newHotel.location}\n                                 onChange={(e) => setNewHotel({...newHotel, location: e.target.value})}\n                              />\n                           </div>\n                           <div className=\"grid gap-2\">\n                              <Label>Image</Label>\n                              <div className=\"space-y-2\">\n                                 <Input \n                                    placeholder=\"Paste image URL...\" \n                                    value={newHotel.image}\n                                    onChange={(e) => {\n                                      setNewHotel({...newHotel, image: e.target.value});\n                                      setHotelImageFile(null);\n                                    }}\n                                 />\n                                 <div className=\"relative\">\n                                    <div className=\"absolute inset-0 flex items-center\">\n                                       <span className=\"w-full border-t\" />\n                                    </div>\n                                    <div className=\"relative flex justify-center text-xs uppercase\">\n                                       <span className=\"bg-card px-2 text-muted-foreground\">Or upload file</span>\n                                    </div>\n                                 </div>\n                                 <div className=\"flex items-center gap-2\">\n                                    <Input \n                                       type=\"file\"\n                                       accept=\"image/*\"\n                                       className=\"flex-1\"\n                                       onChange={(e) => {\n                                         const file = e.target.files?.[0];\n                                         if (file) {\n                                           setHotelImageFile(file);\n                                           handleImageFileChange(file, (url) => {\n                                             setNewHotel({...newHotel, image: url});\n                                           });\n                                         }\n                                       }}\n                                    />\n                                    {hotelImageFile && (\n                                       <span className=\"text-xs text-muted-foreground truncate max-w-[150px]\">\n                                          {hotelImageFile.name}\n                                       </span>\n                                    )}\n                                 </div>\n                                 {newHotel.image && (\n                                    <div className=\"mt-2\">\n                                       <img src={newHotel.image} alt=\"Preview\" className=\"w-full h-32 object-cover rounded-md border\" />\n                                    </div>\n                                 )}\n                              </div>\n                           </div>\n                           <div className=\"grid gap-2\">\n                              <Label>Star Rating</Label>\n                              <div className=\"flex items-center gap-1\">\n                                 {[1, 2, 3, 4, 5].map((star) => (\n                                    <button\n                                       key={star}\n                                       type=\"button\"\n                                       onClick={() => setNewHotel({...newHotel, stars: star})}\n                                       className=\"p-1 hover:scale-110 transition-transform\"\n                                    >\n                                       <Star \n                                          className={cn(\n                                             \"w-6 h-6 transition-colors\",\n                                             star <= newHotel.stars \n                                                ? \"fill-yellow-400 text-yellow-400\" \n                                                : \"text-muted-foreground\"\n                                          )} \n                                       />\n                                    </button>\n                                 ))}\n                                 <span className=\"ml-2 text-sm text-muted-foreground\">{newHotel.stars} Star Hotel</span>\n                              </div>\n                           </div>\n\n                           <div className=\"grid gap-3 pt-4 border-t\">\n                              <Label className=\"text-base\">Availability Settings</Label>\n                              \n                              <div className=\"flex items-center justify-between bg-muted/30 p-3 rounded-md\">\n                                 <div className=\"space-y-0.5\">\n                                    <Label htmlFor=\"hotel-active\">Active Status</Label>\n                                    <p className=\"text-xs text-muted-foreground\">Hotel is visible to customers</p>\n                                 </div>\n                                 <Switch \n                                    id=\"hotel-active\"\n                                    checked={newHotel.isActive}\n                                    onCheckedChange={(checked) => setNewHotel({...newHotel, isActive: checked})}\n                                 />\n                              </div>\n\n                              <div className=\"flex items-center justify-between bg-muted/30 p-3 rounded-md\">\n                                 <div className=\"space-y-0.5\">\n                                    <Label htmlFor=\"hotel-always\">Always Available</Label>\n                                    <p className=\"text-xs text-muted-foreground\">No specific date restrictions</p>\n                                 </div>\n                                 <Switch \n                                    id=\"hotel-always\"\n                                    checked={newHotel.alwaysAvailable}\n                                    onCheckedChange={(checked) => setNewHotel({...newHotel, alwaysAvailable: checked})}\n                                 />\n                              </div>\n\n                              {!newHotel.alwaysAvailable && (\n                                 <div className=\"grid gap-2 animate-in fade-in slide-in-from-top-2\">\n                                    <Label>Available Date Range</Label>\n                                    <div className=\"grid grid-cols-2 gap-2\">\n                                       <Popover>\n                                          <PopoverTrigger asChild>\n                                             <Button\n                                                variant={\"outline\"}\n                                                className={cn(\n                                                   \"w-full justify-start text-left font-normal\",\n                                                   !newHotel.availableFrom && \"text-muted-foreground\"\n                                                )}\n                                             >\n                                                <Calendar className=\"mr-2 h-4 w-4\" />\n                                                {newHotel.availableFrom ? format(newHotel.availableFrom, \"PPP\") : <span>Start Date</span>}\n                                             </Button>\n                                          </PopoverTrigger>\n                                          <PopoverContent className=\"w-auto p-0\">\n                                             <CalendarComponent\n                                                mode=\"single\"\n                                                selected={newHotel.availableFrom}\n                                                onSelect={(date) => setNewHotel({...newHotel, availableFrom: date})}\n                                                initialFocus\n                                             />\n                                          </PopoverContent>\n                                       </Popover>\n\n                                       <Popover>\n                                          <PopoverTrigger asChild>\n                                             <Button\n                                                variant={\"outline\"}\n                                                className={cn(\n                                                   \"w-full justify-start text-left font-normal\",\n                                                   !newHotel.availableTo && \"text-muted-foreground\"\n                                                )}\n                                             >\n                                                <Calendar className=\"mr-2 h-4 w-4\" />\n                                                {newHotel.availableTo ? format(newHotel.availableTo, \"PPP\") : <span>End Date</span>}\n                                             </Button>\n                                          </PopoverTrigger>\n                                          <PopoverContent className=\"w-auto p-0\">\n                                             <CalendarComponent\n                                                mode=\"single\"\n                                                selected={newHotel.availableTo}\n                                                onSelect={(date) => setNewHotel({...newHotel, availableTo: date})}\n                                                initialFocus\n                                                disabled={(date) => \n                                                   newHotel.availableFrom ? date < newHotel.availableFrom : false\n                                                }\n                                             />\n                                          </PopoverContent>\n                                       </Popover>\n                                    </div>\n                                 </div>\n                              )}\n                           </div>\n\n                           <div className=\"grid gap-3 border-t pt-4\">\n                              <Label className=\"text-base\">Room Types</Label>\n                              <div className=\"grid gap-4 p-4 border rounded-md bg-muted/10\">\n                                 <div className=\"flex gap-2 items-end\">\n                                    <div className=\"grid gap-2 flex-1\">\n                                       <Label htmlFor=\"room-name\">Room Name</Label>\n                                       <Input \n                                          id=\"room-name\"\n                                          placeholder=\"Ex: Deluxe Suite\" \n                                          value={newRoomType.name}\n                                          onChange={(e) => setNewRoomType({...newRoomType, name: e.target.value})}\n                                       />\n                                    </div>\n                                    <div className=\"grid gap-2 w-32\">\n                                       <Label htmlFor=\"room-price\">Price</Label>\n                                       <Input \n                                          id=\"room-price\"\n                                          placeholder=\"$500\" \n                                          value={newRoomType.price}\n                                          onChange={(e) => setNewRoomType({...newRoomType, price: e.target.value})}\n                                       />\n                                    </div>\n                                    <Button \n                                       onClick={() => {\n                                          if (newRoomType.name && newRoomType.price) {\n                                             setNewHotel({\n                                                ...newHotel, \n                                                roomTypes: [...newHotel.roomTypes, { \n                                                   id: `rt${Date.now()}`, \n                                                   name: newRoomType.name, \n                                                   price: newRoomType.price,\n                                                   description: \"\",\n                                                   facilities: newRoomType.facilities\n                                                }]\n                                             });\n                                             setNewRoomType({ name: \"\", price: \"\", facilities: [] });\n                                          }\n                                       }}\n                                       disabled={!newRoomType.name || !newRoomType.price}\n                                    >\n                                       Add\n                                    </Button>\n                                 </div>\n\n                                 {/* Room Facilities Input */}\n                                 <div className=\"bg-muted/20 p-3 rounded mt-2\">\n                                    <Label className=\"text-xs mb-2 block\">Room Facilities (Optional)</Label>\n                                    <div className=\"flex gap-2\">\n                                       <Input \n                                          placeholder=\"Add facility (e.g., Mini Bar)\" \n                                          value={newFacility}\n                                          onChange={(e) => setNewFacility(e.target.value)}\n                                          className=\"h-8 text-sm\"\n                                          onKeyDown={(e) => {\n                                             if (e.key === 'Enter') {\n                                                e.preventDefault();\n                                                if (newFacility.trim()) {\n                                                   setNewRoomType({...newRoomType, facilities: [...newRoomType.facilities, newFacility.trim()]});\n                                                   setNewFacility(\"\");\n                                                }\n                                             }\n                                          }}\n                                       />\n                                       <Button \n                                          size=\"sm\" \n                                          variant=\"secondary\"\n                                          onClick={() => {\n                                             if (newFacility.trim()) {\n                                                setNewRoomType({...newRoomType, facilities: [...newRoomType.facilities, newFacility.trim()]});\n                                                setNewFacility(\"\");\n                                             }\n                                          }}\n                                       >\n                                          <Plus className=\"w-3 h-3\" />\n                                       </Button>\n                                    </div>\n                                    {newRoomType.facilities.length > 0 && (\n                                       <div className=\"flex flex-wrap gap-1 mt-2\">\n                                          {newRoomType.facilities.map((f, i) => (\n                                             <span key={i} className=\"text-[10px] bg-background border px-1.5 py-0.5 rounded flex items-center gap-1\">\n                                                {f}\n                                                <X \n                                                   className=\"w-3 h-3 cursor-pointer hover:text-destructive\" \n                                                   onClick={() => setNewRoomType({...newRoomType, facilities: newRoomType.facilities.filter((_, idx) => idx !== i)})}\n                                                />\n                                             </span>\n                                          ))}\n                                       </div>\n                                    )}\n                                 </div>\n\n                                 {newHotel.roomTypes.length > 0 && (\n                                    <div className=\"space-y-2 mt-2\">\n                                       {newHotel.roomTypes.map((room) => (\n                                          <div key={room.id} className=\"flex flex-col bg-background p-3 rounded border\">\n                                             <div className=\"flex items-center justify-between mb-2\">\n                                                <div>\n                                                   <span className=\"font-medium\">{room.name}</span>\n                                                   <span className=\"text-muted-foreground ml-2 text-sm\">{room.price}</span>\n                                                </div>\n                                                <Button \n                                                   variant=\"ghost\" \n                                                   size=\"sm\"\n                                                   onClick={() => {\n                                                      setNewHotel({\n                                                         ...newHotel,\n                                                         roomTypes: newHotel.roomTypes.filter(r => r.id !== room.id)\n                                                      });\n                                                   }}\n                                                >\n                                                   <Trash className=\"w-4 h-4 text-destructive\" />\n                                                </Button>\n                                             </div>\n                                             {room.facilities && room.facilities.length > 0 && (\n                                                <div className=\"flex flex-wrap gap-1\">\n                                                   {room.facilities.map((f, i) => (\n                                                      <span key={i} className=\"text-[10px] bg-muted px-1.5 py-0.5 rounded text-muted-foreground\">{f}</span>\n                                                   ))}\n                                                </div>\n                                             )}\n                                          </div>\n                                       ))}\n                                    </div>\n                                 )}\n                              </div>\n                           </div>\n\n                           <div className=\"grid gap-3\">\n                              <Label>Hotel Facilities</Label>\n                              <div className=\"grid grid-cols-2 gap-4 p-4 border rounded-md bg-muted/20\">\n                                 {availableHotelAmenities.map((amenity: string) => (\n                                    <div key={amenity} className=\"flex items-center justify-between\">\n                                       <Label htmlFor={`hotel-${amenity}`} className=\"text-sm font-normal\">{amenity}</Label>\n                                       <Switch \n                                          id={`hotel-${amenity}`}\n                                          checked={newHotel.amenities.includes(amenity)}\n                                          onCheckedChange={(checked) => {\n                                             if (checked) {\n                                                setNewHotel({...newHotel, amenities: [...newHotel.amenities, amenity]});\n                                             } else {\n                                                setNewHotel({...newHotel, amenities: newHotel.amenities.filter(a => a !== amenity)});\n                                             }\n                                          }}\n                                       />\n                                    </div>\n                                 ))}\n                              </div>\n                           </div>\n                           <div className=\"grid gap-2\">\n                              <Label>SEO Meta Description</Label>\n                              <textarea\n                                 className=\"w-full min-h-[80px] px-3 py-2 text-sm border rounded-md resize-none\"\n                                 placeholder=\"Brief description for search engines (recommended 150-160 characters)\"\n                                 value={newHotel.metaDescription}\n                                 onChange={(e) => setNewHotel({...newHotel, metaDescription: e.target.value})}\n                              />\n                              <p className=\"text-xs text-muted-foreground\">{newHotel.metaDescription.length}/160 characters</p>\n                           </div>\n                           <GalleryEditor\n                              images={newHotel.gallery}\n                              onChange={(gallery) => setNewHotel({...newHotel, gallery})}\n                           />\n                        </div>\n                        <DialogFooter>\n                           <Button onClick={async () => {\n                              const hotelData = {\n                                 title: newHotel.title || \"New Hotel\",\n                                 location: newHotel.location || \"Unknown\",\n                                 price: newHotel.price || \"$0\",\n                                 image: newHotel.image || \"https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=1000\",\n                                 gallery: newHotel.gallery,\n                                 rating: 5.0,\n                                 amenities: newHotel.amenities,\n                                 alwaysAvailable: newHotel.alwaysAvailable,\n                                 isActive: newHotel.isActive,\n                                 availableFrom: newHotel.availableFrom ? newHotel.availableFrom.toISOString().split('T')[0] : undefined,\n                                 availableTo: newHotel.availableTo ? newHotel.availableTo.toISOString().split('T')[0] : undefined,\n                                 roomTypes: newHotel.roomTypes,\n                                 stars: newHotel.stars,\n                                 sortOrder: newHotel.sortOrder,\n                                 metaDescription: newHotel.metaDescription\n                              };\n                              \n                              if (editingHotelId) {\n                                 const originalHotel = hotels.find(h => h.id === editingHotelId);\n                                 const success = await updateHotel({\n                                    id: editingHotelId,\n                                    ...hotelData,\n                                    image: newHotel.image || originalHotel?.image || hotelData.image,\n                                    rating: originalHotel?.rating || hotelData.rating,\n                                    stars: newHotel.stars,\n                                    sortOrder: newHotel.sortOrder\n                                 });\n                                 if (success) {\n                                    toast({ title: \"Hotel Updated\", description: \"Hotel saved to database.\" });\n                              } else {\n                                    toast({ title: \"Error\", description: \"Failed to update hotel.\", variant: \"destructive\" });\n                                 }\n                              } else {\n                                 const result = await addHotel(hotelData);\n                                 if (result) {\n                                    toast({ title: \"Hotel Added\", description: \"Hotel saved to database.\" });\n                                 } else {\n                                    toast({ title: \"Error\", description: \"Failed to add hotel.\", variant: \"destructive\" });\n                                 }\n                              }\n                              setIsHotelDialogOpen(false);\n                              setNewHotel({ title: \"\", price: \"\", location: \"\", image: \"\", gallery: [], amenities: [], alwaysAvailable: true, isActive: true, availableFrom: undefined, availableTo: undefined, roomTypes: [], stars: 5, sortOrder: 0, metaDescription: \"\" });\n                           }}>{editingHotelId ? \"Save Changes\" : \"Save Hotel\"}</Button>\n                        </DialogFooter>\n                     </DialogContent>\n                  </Dialog>\n               </div>\n               \n               <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  {hotels.map((hotel, index) => (\n                     <Card key={hotel.id} className=\"overflow-hidden\">\n                        <div className=\"h-32 overflow-hidden relative\">\n                           <img src={hotel.image} className=\"w-full h-full object-cover\" />\n                           <div className=\"absolute top-2 left-2 bg-white/90 backdrop-blur px-2 py-0.5 rounded text-xs font-bold flex items-center gap-0.5\">\n                             {Array.from({ length: hotel.stars || 5 }).map((_, i) => (\n                               <Star key={i} className=\"w-3 h-3 fill-yellow-400 text-yellow-400\" />\n                             ))}\n                           </div>\n                           <div className=\"absolute top-2 right-2 bg-white/90 backdrop-blur px-2 py-0.5 rounded text-xs font-bold\">\n                             {hotel.rating} â˜…\n                           </div>\n                           <div className=\"absolute bottom-2 right-2 flex gap-1\">\n                              <Button\n                                 variant=\"secondary\"\n                                 size=\"icon\"\n                                 className=\"h-6 w-6 bg-white/90 hover:bg-white\"\n                                 disabled={index === 0}\n                                 onClick={async () => {\n                                    const prevHotel = hotels[index - 1];\n                                    if (prevHotel) {\n                                       const newSortOrder = (prevHotel.sortOrder ?? index - 1) - 1;\n                                       const success = await updateHotel({ ...hotel, sortOrder: newSortOrder });\n                                       if (success) {\n                                          refetchData();\n                                          toast({ title: \"Hotel Reordered\", description: \"Hotel moved up.\" });\n                                       }\n                                    }\n                                 }}\n                              >\n                                 <ChevronUp className=\"w-3 h-3\" />\n                              </Button>\n                              <Button\n                                 variant=\"secondary\"\n                                 size=\"icon\"\n                                 className=\"h-6 w-6 bg-white/90 hover:bg-white\"\n                                 disabled={index === hotels.length - 1}\n                                 onClick={async () => {\n                                    const nextHotel = hotels[index + 1];\n                                    if (nextHotel) {\n                                       const newSortOrder = (nextHotel.sortOrder ?? index + 1) + 1;\n                                       const success = await updateHotel({ ...hotel, sortOrder: newSortOrder });\n                                       if (success) {\n                                          refetchData();\n                                          toast({ title: \"Hotel Reordered\", description: \"Hotel moved down.\" });\n                                       }\n                                    }\n                                 }}\n                              >\n                                 <ChevronDown className=\"w-3 h-3\" />\n                              </Button>\n                           </div>\n                        </div>\n                        <CardContent className=\"p-4\">\n                           <div className=\"flex justify-between items-start mb-2\">\n                              <h3 className=\"font-bold truncate pr-2\">{hotel.title}</h3>\n                              <span className=\"text-primary font-bold whitespace-nowrap\">{hotel.price}</span>\n                           </div>\n                           <p className=\"text-xs text-muted-foreground mb-2 flex items-center gap-1\">\n                              <Building className=\"w-3 h-3\" /> {hotel.location}\n                           </p>\n                           {hotel.amenities && hotel.amenities.length > 0 && (\n                              <div className=\"flex flex-wrap gap-1 mb-4\">\n                                 {hotel.amenities.slice(0, 3).map((a: string, i: number) => (\n                                    <span key={i} className=\"text-[10px] bg-muted px-1.5 py-0.5 rounded text-muted-foreground\">{a}</span>\n                                 ))}\n                                 {hotel.amenities.length > 3 && <span className=\"text-[10px] text-muted-foreground\">+{hotel.amenities.length - 3} more</span>}\n                              </div>\n                           )}\n                           <div className=\"flex gap-2 mt-auto\">\n                              <Button variant=\"outline\" size=\"sm\" className=\"flex-1\" onClick={() => handleEditHotel(hotel)}><Edit className=\"w-3 h-3 mr-1\" /> Edit</Button>\n                              <Button variant=\"destructive\" size=\"sm\" className=\"flex-1\" onClick={async () => {\n                                 const deleted = await deleteHotel(hotel.id);\n                                 if (deleted) {\n                                    toast({ title: \"Hotel Deleted\", description: \"Hotel removed from database.\" });\n                                 } else {\n                                    toast({ title: \"Error\", description: \"Failed to delete hotel.\", variant: \"destructive\" });\n                                 }\n                              }}><Trash className=\"w-3 h-3 mr-1\" /> Delete</Button>\n                           </div>\n                        </CardContent>\n                     </Card>\n                  ))}\n               </div>\n            </div>\n          )}\n\n          {activeTab === \"cars\" && (\n            <div className=\"space-y-6\">\n               <div className=\"flex justify-between items-center\">\n                  <h2 className=\"text-xl font-bold font-serif\">Car Rentals Management</h2>\n                  <Dialog open={isCarDialogOpen} onOpenChange={(open) => {\n                    setIsCarDialogOpen(open);\n                    if (!open) {\n                      setEditingCarId(null);\n                      setNewCar({ title: \"\", price: \"\", location: \"\", image: \"\", gallery: [], rating: 5.0, specs: \"\", features: [], metaDescription: \"\" });\n                      setCarImageFile(null);\n                    }\n                  }}>\n                     <DialogTrigger asChild>\n                        <Button className=\"bg-primary text-white\" onClick={() => {\n                          setEditingCarId(null);\n                          setNewCar({ title: \"\", price: \"\", location: \"\", image: \"\", gallery: [], rating: 5.0, specs: \"\", features: [], metaDescription: \"\" });\n                          setCarImageFile(null);\n                        }}><Plus className=\"w-4 h-4 mr-2\" /> Add Car</Button>\n                     </DialogTrigger>\n                     <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n                        <DialogHeader>\n                           <DialogTitle>{editingCarId ? \"Edit Vehicle\" : \"Add New Vehicle\"}</DialogTitle>\n                        </DialogHeader>\n                        <div className=\"grid gap-4 py-4\">\n                           <div className=\"grid grid-cols-2 gap-4\">\n                              <div className=\"grid gap-2\">\n                                 <Label>Vehicle Name</Label>\n                                 <Input \n                                    placeholder=\"Ex: Porsche 911 Carrera\" \n                                    value={newCar.title}\n                                    onChange={(e) => setNewCar({...newCar, title: e.target.value})}\n                                 />\n                              </div>\n                              <div className=\"grid gap-2\">\n                                 <Label>Price per Day</Label>\n                                 <Input \n                                    placeholder=\"Ex: $1,200/day\" \n                                    value={newCar.price}\n                                    onChange={(e) => setNewCar({...newCar, price: e.target.value})}\n                                 />\n                              </div>\n                           </div>\n                           <div className=\"grid grid-cols-2 gap-4\">\n                              <div className=\"grid gap-2\">\n                                 <Label>Location</Label>\n                                 <Input \n                                    placeholder=\"Ex: Monaco\" \n                                    value={newCar.location}\n                                    onChange={(e) => setNewCar({...newCar, location: e.target.value})}\n                                 />\n                              </div>\n                              <div className=\"grid gap-2\">\n                                 <Label>Specs</Label>\n                                 <Input \n                                    placeholder=\"Ex: Automatic â€¢ 2 Seats\" \n                                    value={newCar.specs}\n                                    onChange={(e) => setNewCar({...newCar, specs: e.target.value})}\n                                 />\n                              </div>\n                           </div>\n                           <div className=\"grid gap-2\">\n                              <Label>Rating</Label>\n                              <Input \n                                 type=\"number\"\n                                 step=\"0.1\"\n                                 min=\"0\"\n                                 max=\"5\"\n                                 placeholder=\"5.0\" \n                                 value={newCar.rating}\n                                 onChange={(e) => setNewCar({...newCar, rating: parseFloat(e.target.value) || 5.0})}\n                              />\n                           </div>\n                           <div className=\"grid gap-2\">\n                              <Label>Image</Label>\n                              <div className=\"space-y-2\">\n                                 <Input \n                                    placeholder=\"Paste image URL...\" \n                                    value={newCar.image}\n                                    onChange={(e) => {\n                                      setNewCar({...newCar, image: e.target.value});\n                                      setCarImageFile(null);\n                                    }}\n                                 />\n                                 <div className=\"relative\">\n                                    <div className=\"absolute inset-0 flex items-center\">\n                                       <span className=\"w-full border-t\" />\n                                    </div>\n                                    <div className=\"relative flex justify-center text-xs uppercase\">\n                                       <span className=\"bg-card px-2 text-muted-foreground\">Or upload file</span>\n                                    </div>\n                                 </div>\n                                 <div className=\"flex items-center gap-2\">\n                                    <Input \n                                       type=\"file\"\n                                       accept=\"image/*\"\n                                       className=\"flex-1\"\n                                       onChange={(e) => {\n                                         const file = e.target.files?.[0];\n                                         if (file) {\n                                           setCarImageFile(file);\n                                           handleImageFileChange(file, (url) => {\n                                             setNewCar({...newCar, image: url});\n                                           });\n                                         }\n                                       }}\n                                    />\n                                    {carImageFile && (\n                                       <span className=\"text-xs text-muted-foreground truncate max-w-[150px]\">\n                                          {carImageFile.name}\n                                       </span>\n                                    )}\n                                 </div>\n                                 {newCar.image && (\n                                    <div className=\"mt-2\">\n                                       <img src={newCar.image} alt=\"Preview\" className=\"w-full h-32 object-cover rounded-md border\" />\n                                    </div>\n                                 )}\n                              </div>\n                           </div>\n                           <div className=\"grid gap-3\">\n                              <Label>Vehicle Features</Label>\n                              <div className=\"grid grid-cols-2 gap-4 p-4 border rounded-md bg-muted/20\">\n                                 {availableCarFeatures.map((feature) => (\n                                    <div key={feature} className=\"flex items-center justify-between\">\n                                       <Label htmlFor={`car-${feature}`} className=\"text-sm font-normal\">{feature}</Label>\n                                       <Switch \n                                          id={`car-${feature}`}\n                                          checked={newCar.features.includes(feature)}\n                                          onCheckedChange={(checked) => {\n                                             if (checked) {\n                                                setNewCar({...newCar, features: [...newCar.features, feature]});\n                                             } else {\n                                                setNewCar({...newCar, features: newCar.features.filter(f => f !== feature)});\n                                             }\n                                          }}\n                                       />\n                                    </div>\n                                 ))}\n                              </div>\n                           </div>\n                           <div className=\"grid gap-2\">\n                              <Label>SEO Meta Description</Label>\n                              <textarea\n                                 className=\"w-full min-h-[80px] px-3 py-2 text-sm border rounded-md resize-none\"\n                                 placeholder=\"Brief description for search engines (recommended 150-160 characters)\"\n                                 value={newCar.metaDescription}\n                                 onChange={(e) => setNewCar({...newCar, metaDescription: e.target.value})}\n                              />\n                              <p className=\"text-xs text-muted-foreground\">{newCar.metaDescription.length}/160 characters</p>\n                           </div>\n                           <GalleryEditor\n                              images={newCar.gallery}\n                              onChange={(gallery) => setNewCar({...newCar, gallery})}\n                           />\n                        </div>\n                        <DialogFooter>\n                           <Button onClick={async () => {\n                              if (editingCarId) {\n                                 // Update existing car\n                                 const success = await updateCar(editingCarId, {\n                                    title: newCar.title,\n                                    location: newCar.location,\n                                    price: newCar.price,\n                                    image: newCar.image || \"https://images.unsplash.com/photo-1555215695-3004980adade?q=80&w=1000\",\n                                    gallery: newCar.gallery,\n                                    rating: newCar.rating,\n                                    specs: newCar.specs,\n                                    features: newCar.features,\n                                    metaDescription: newCar.metaDescription\n                                 });\n                                 if (success) {\n                                    toast({ title: \"Vehicle Updated\", description: \"The vehicle has been updated in the database.\" });\n                                    setIsCarDialogOpen(false);\n                                    setEditingCarId(null);\n                                    setNewCar({ title: \"\", price: \"\", location: \"\", image: \"\", gallery: [], rating: 5.0, specs: \"\", features: [], metaDescription: \"\" });\n                                 } else {\n                                    toast({ title: \"Error\", description: \"Failed to update vehicle.\", variant: \"destructive\" });\n                                 }\n                              } else {\n                                 // Add new car\n                                 const result = await addCar({\n                                    title: newCar.title || \"New Car\",\n                                    location: newCar.location || \"Unknown\",\n                                    price: newCar.price || \"$0\",\n                                    image: newCar.image || \"https://images.unsplash.com/photo-1555215695-3004980adade?q=80&w=1000\",\n                                    gallery: newCar.gallery,\n                                    rating: newCar.rating || 5.0,\n                                    specs: newCar.specs || \"Standard\",\n                                    features: newCar.features,\n                                    metaDescription: newCar.metaDescription\n                                 });\n                                 if (result) {\n                                    toast({ title: \"Vehicle Added\", description: \"Vehicle saved to database.\" });\n                                    setIsCarDialogOpen(false);\n                                    setNewCar({ title: \"\", price: \"\", location: \"\", image: \"\", gallery: [], rating: 5.0, specs: \"\", features: [], metaDescription: \"\" });\n                                 } else {\n                                    toast({ title: \"Error\", description: \"Failed to save vehicle.\", variant: \"destructive\" });\n                                 }\n                              }\n                           }}>{editingCarId ? \"Update Vehicle\" : \"Save Vehicle\"}</Button>\n                        </DialogFooter>\n                     </DialogContent>\n                  </Dialog>\n               </div>\n               \n               <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  {cars.map(car => (\n                     <Card key={car.id} className=\"overflow-hidden\">\n                        <div className=\"h-32 overflow-hidden relative\">\n                           <img src={car.image} className=\"w-full h-full object-cover\" />\n                           <div className=\"absolute top-2 right-2 bg-white/90 backdrop-blur px-2 py-0.5 rounded text-xs font-bold\">\n                             {car.rating} â˜…\n                           </div>\n                        </div>\n                        <CardContent className=\"p-4\">\n                           <div className=\"flex justify-between items-start mb-2\">\n                              <h3 className=\"font-bold truncate pr-2\">{car.title}</h3>\n                              <span className=\"text-primary font-bold whitespace-nowrap\">{car.price}</span>\n                           </div>\n                           <p className=\"text-xs text-muted-foreground mb-1 flex items-center gap-1\">\n                              <Map className=\"w-3 h-3\" /> {car.location}\n                           </p>\n                           <p className=\"text-xs text-muted-foreground mb-2 flex items-center gap-1\">\n                              <Car className=\"w-3 h-3\" /> {car.specs}\n                           </p>\n                           {car.features && car.features.length > 0 && (\n                              <div className=\"flex flex-wrap gap-1 mb-4\">\n                                 {car.features.slice(0, 3).map((f, i) => (\n                                    <span key={i} className=\"text-[10px] bg-muted px-1.5 py-0.5 rounded text-muted-foreground\">{f}</span>\n                                 ))}\n                                 {car.features.length > 3 && <span className=\"text-[10px] text-muted-foreground\">+{car.features.length - 3} more</span>}\n                              </div>\n                           )}\n                           <div className=\"flex gap-2 mt-auto\">\n                              <Button variant=\"outline\" size=\"sm\" className=\"flex-1\" onClick={() => handleEditCar(car)}><Edit className=\"w-3 h-3 mr-1\" /> Edit</Button>\n                              <Button variant=\"destructive\" size=\"sm\" className=\"flex-1\" onClick={async () => {\n                                 const deleted = await deleteCar(car.id);\n                                 if (deleted) {\n                                    toast({ title: \"Vehicle Deleted\", description: \"Vehicle removed from database.\" });\n                                 } else {\n                                    toast({ title: \"Error\", description: \"Failed to delete vehicle.\", variant: \"destructive\" });\n                                 }\n                              }}><Trash className=\"w-3 h-3 mr-1\" /> Delete</Button>\n                           </div>\n                        </CardContent>\n                     </Card>\n                  ))}\n               </div>\n            </div>\n          )}\n\n          {activeTab === \"offers\" && (\n            <div className=\"space-y-6\">\n               <div className=\"flex justify-between items-center\">\n                  <h2 className=\"text-xl font-bold font-serif\">Last Minute Offers Management</h2>\n                  <Dialog open={isOfferDialogOpen} onOpenChange={(open) => {\n                    setIsOfferDialogOpen(open);\n                    if (!open) {\n                      setEditingOfferId(null);\n                      setNewOffer({ title: \"\", price: \"\", originalPrice: \"\", location: \"\", image: \"\", gallery: [], rating: 5.0, endsIn: \"\", discount: \"\", metaDescription: \"\" });\n                      setOfferImageFile(null);\n                    }\n                  }}>\n                     <DialogTrigger asChild>\n                        <Button className=\"bg-primary text-white\" onClick={() => {\n                          setEditingOfferId(null);\n                          setNewOffer({ title: \"\", price: \"\", originalPrice: \"\", location: \"\", image: \"\", gallery: [], rating: 5.0, endsIn: \"\", discount: \"\", metaDescription: \"\" });\n                          setOfferImageFile(null);\n                        }}><Plus className=\"w-4 h-4 mr-2\" /> Add Offer</Button>\n                     </DialogTrigger>\n                     <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n                        <DialogHeader>\n                           <DialogTitle>{editingOfferId ? \"Edit Offer\" : \"Add New Offer\"}</DialogTitle>\n                        </DialogHeader>\n                        <div className=\"grid gap-4 py-4\">\n                           <div className=\"grid grid-cols-2 gap-4\">\n                              <div className=\"grid gap-2\">\n                                 <Label>Title</Label>\n                                 <Input \n                                    placeholder=\"Ex: Last Minute Bali Escape\" \n                                    value={newOffer.title}\n                                    onChange={(e) => setNewOffer({...newOffer, title: e.target.value})}\n                                 />\n                              </div>\n                              <div className=\"grid gap-2\">\n                                 <Label>Location</Label>\n                                 <Input \n                                    placeholder=\"Ex: Bali, Indonesia\" \n                                    value={newOffer.location}\n                                    onChange={(e) => setNewOffer({...newOffer, location: e.target.value})}\n                                 />\n                              </div>\n                           </div>\n                           <div className=\"grid grid-cols-3 gap-4\">\n                              <div className=\"grid gap-2\">\n                                 <Label>Price</Label>\n                                 <Input \n                                    placeholder=\"Ex: $1,500\" \n                                    value={newOffer.price}\n                                    onChange={(e) => setNewOffer({...newOffer, price: e.target.value})}\n                                 />\n                              </div>\n                              <div className=\"grid gap-2\">\n                                 <Label>Original Price</Label>\n                                 <Input \n                                    placeholder=\"Ex: $2,500\" \n                                    value={newOffer.originalPrice}\n                                    onChange={(e) => setNewOffer({...newOffer, originalPrice: e.target.value})}\n                                 />\n                              </div>\n                              <div className=\"grid gap-2\">\n                                 <Label>Discount</Label>\n                                 <Input \n                                    placeholder=\"Ex: 40% OFF\" \n                                    value={newOffer.discount}\n                                    onChange={(e) => setNewOffer({...newOffer, discount: e.target.value})}\n                                 />\n                              </div>\n                           </div>\n                           <div className=\"grid grid-cols-2 gap-4\">\n                              <div className=\"grid gap-2\">\n                                 <Label>Ends In</Label>\n                                 <Input \n                                    placeholder=\"Ex: 2 Days\" \n                                    value={newOffer.endsIn}\n                                    onChange={(e) => setNewOffer({...newOffer, endsIn: e.target.value})}\n                                 />\n                              </div>\n                              <div className=\"grid gap-2\">\n                                 <Label>Rating</Label>\n                                 <Input \n                                    type=\"number\"\n                                    step=\"0.1\"\n                                    min=\"0\"\n                                    max=\"5\"\n                                    placeholder=\"5.0\" \n                                    value={newOffer.rating}\n                                    onChange={(e) => setNewOffer({...newOffer, rating: parseFloat(e.target.value) || 5.0})}\n                                 />\n                              </div>\n                           </div>\n                           <div className=\"grid gap-2\">\n                              <Label>Image</Label>\n                              <div className=\"space-y-2\">\n                                 <Input \n                                    placeholder=\"Paste image URL...\" \n                                    value={newOffer.image}\n                                    onChange={(e) => {\n                                      setNewOffer({...newOffer, image: e.target.value});\n                                      setOfferImageFile(null);\n                                    }}\n                                 />\n                                 <div className=\"relative\">\n                                    <div className=\"absolute inset-0 flex items-center\">\n                                       <span className=\"w-full border-t\" />\n                                    </div>\n                                    <div className=\"relative flex justify-center text-xs uppercase\">\n                                       <span className=\"bg-card px-2 text-muted-foreground\">Or upload file</span>\n                                    </div>\n                                 </div>\n                                 <div className=\"flex items-center gap-2\">\n                                    <Input \n                                       type=\"file\"\n                                       accept=\"image/*\"\n                                       className=\"flex-1\"\n                                       onChange={(e) => {\n                                         const file = e.target.files?.[0];\n                                         if (file) {\n                                           setOfferImageFile(file);\n                                           handleImageFileChange(file, (url) => {\n                                             setNewOffer({...newOffer, image: url});\n                                           });\n                                         }\n                                       }}\n                                    />\n                                    {offerImageFile && (\n                                       <span className=\"text-xs text-muted-foreground truncate max-w-[150px]\">\n                                          {offerImageFile.name}\n                                       </span>\n                                    )}\n                                 </div>\n                                 {newOffer.image && (\n                                    <div className=\"mt-2\">\n                                       <img src={newOffer.image} alt=\"Preview\" className=\"w-full h-32 object-cover rounded-md border\" />\n                                    </div>\n                                 )}\n                              </div>\n                           </div>\n                           <div className=\"grid gap-2\">\n                              <Label>SEO Meta Description</Label>\n                              <textarea\n                                 className=\"w-full min-h-[80px] px-3 py-2 text-sm border rounded-md resize-none\"\n                                 placeholder=\"Brief description for search engines (recommended 150-160 characters)\"\n                                 value={newOffer.metaDescription}\n                                 onChange={(e) => setNewOffer({...newOffer, metaDescription: e.target.value})}\n                              />\n                              <p className=\"text-xs text-muted-foreground\">{newOffer.metaDescription.length}/160 characters</p>\n                           </div>\n                           <GalleryEditor\n                              images={newOffer.gallery}\n                              onChange={(gallery) => setNewOffer({...newOffer, gallery})}\n                           />\n                        </div>\n                        <DialogFooter>\n                           <Button onClick={async () => {\n                              if (editingOfferId) {\n                                 // Update existing offer\n                                 const success = await updateOffer(editingOfferId, {\n                                    title: newOffer.title,\n                                    location: newOffer.location,\n                                    price: newOffer.price,\n                                    originalPrice: newOffer.originalPrice,\n                                    image: newOffer.image || \"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=1000\",\n                                    gallery: newOffer.gallery,\n                                    rating: newOffer.rating,\n                                    endsIn: newOffer.endsIn,\n                                    discount: newOffer.discount,\n                                    metaDescription: newOffer.metaDescription\n                                 });\n                                 if (success) {\n                                    toast({ title: \"Offer Updated\", description: \"The offer has been updated in the database.\" });\n                                    setIsOfferDialogOpen(false);\n                                 } else {\n                                    toast({ title: \"Error\", description: \"Failed to update offer.\", variant: \"destructive\" });\n                                 }\n                              } else {\n                                 // Add new offer\n                                 const result = await addOffer({\n                                    title: newOffer.title || \"New Offer\",\n                                    location: newOffer.location || \"Unknown\",\n                                    price: newOffer.price || \"$0\",\n                                    originalPrice: newOffer.originalPrice || \"$0\",\n                                    image: newOffer.image || \"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=1000\",\n                                    gallery: newOffer.gallery,\n                                    rating: newOffer.rating || 5.0,\n                                    endsIn: newOffer.endsIn || \"Limited Time\",\n                                    discount: newOffer.discount || \"0% OFF\",\n                                    metaDescription: newOffer.metaDescription\n                                 });\n                                 if (result) {\n                                    toast({ title: \"Offer Added\", description: \"Offer saved to database.\" });\n                                    setIsOfferDialogOpen(false);\n                                 } else {\n                                    toast({ title: \"Error\", description: \"Failed to save offer.\", variant: \"destructive\" });\n                                 }\n                              }\n                           }}>{editingOfferId ? \"Update Offer\" : \"Save Offer\"}</Button>\n                        </DialogFooter>\n                     </DialogContent>\n                  </Dialog>\n               </div>\n               \n               <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n                  {offers.map(offer => (\n                     <Card key={offer.id} className=\"overflow-hidden\">\n                        <div className=\"h-32 overflow-hidden relative\">\n                           <img src={offer.image} className=\"w-full h-full object-cover\" />\n                           <div className=\"absolute top-2 right-2 bg-destructive text-white px-2 py-0.5 rounded text-xs font-bold\">\n                              {offer.discount}\n                           </div>\n                        </div>\n                        <CardContent className=\"p-4\">\n                           <div className=\"flex justify-between items-start mb-2\">\n                              <h3 className=\"font-bold truncate pr-2\">{offer.title}</h3>\n                              <div className=\"text-right\">\n                                 <span className=\"text-primary font-bold whitespace-nowrap\">{offer.price}</span>\n                                 {offer.originalPrice && (\n                                    <span className=\"text-xs text-muted-foreground line-through block\">{offer.originalPrice}</span>\n                                 )}\n                              </div>\n                           </div>\n                           <p className=\"text-xs text-muted-foreground mb-2 flex items-center gap-1\">\n                              <Map className=\"w-3 h-3\" /> {offer.location}\n                           </p>\n                           <p className=\"text-xs text-destructive mb-4 flex items-center gap-1\">\n                              <Clock className=\"w-3 h-3\" /> Ends in {offer.endsIn}\n                           </p>\n                           <div className=\"flex gap-2 mt-auto\">\n                              <Button variant=\"outline\" size=\"sm\" className=\"flex-1\" onClick={() => handleEditOffer(offer)}><Edit className=\"w-3 h-3 mr-1\" /> Edit</Button>\n                              <Button variant=\"destructive\" size=\"sm\" className=\"flex-1\" onClick={async () => {\n                                 const deleted = await deleteOffer(offer.id);\n                                 if (deleted) {\n                                    toast({ title: \"Offer Deleted\", description: \"Offer removed from database.\" });\n                                 } else {\n                                    toast({ title: \"Error\", description: \"Failed to delete offer.\", variant: \"destructive\" });\n                                 }\n                              }}><Trash className=\"w-3 h-3 mr-1\" /> Delete</Button>\n                           </div>\n                        </CardContent>\n                     </Card>\n                  ))}\n               </div>\n            </div>\n          )}\n\n          {activeTab === \"users\" && (\n             <>\n             <Card>\n                <CardHeader>\n                   <CardTitle>User Management</CardTitle>\n                   <CardDescription>Manage access and roles.</CardDescription>\n                </CardHeader>\n                <CardContent>\n                   <table className=\"w-full text-left\">\n                      <thead>\n                         <tr className=\"border-b border-border\">\n                            <th className=\"py-3 pl-4\">Name</th>\n                            <th className=\"py-3\">Email</th>\n                            <th className=\"py-3\">Role</th>\n                            <th className=\"py-3\">Status</th>\n                            <th className=\"py-3 pr-4\">Actions</th>\n                         </tr>\n                      </thead>\n                      <tbody>\n                         <tr className=\"border-b border-border/50 hover:bg-muted/30\">\n                            <td className=\"py-3 pl-4 font-medium\">Admin User</td>\n                            <td className=\"py-3\">admin@voyager.com</td>\n                            <td className=\"py-3\"><span className=\"bg-primary/10 text-primary px-2 py-1 rounded text-xs font-semibold border border-primary/20\">Admin</span></td>\n                            <td className=\"py-3 text-green-600 flex items-center gap-1\"><CheckCircle className=\"w-3 h-3\" /> Active</td>\n                              <td className=\"py-3 pr-4\">\n                                <Button \n                                  variant=\"ghost\" \n                                  size=\"sm\"\n                                  onClick={() => {\n                                    setEditingUser({ name: \"Admin User\", email: \"admin@voyager.com\", role: \"Admin\", status: \"Active\" });\n                                    setIsUserDialogOpen(true);\n                                  }}\n                                >\n                                  Edit\n                                </Button>\n                              </td>\n                         </tr>\n                         <tr className=\"border-b border-border/50 hover:bg-muted/30\">\n                            <td className=\"py-3 pl-4 font-medium\">John Doe</td>\n                            <td className=\"py-3\">john@example.com</td>\n                            <td className=\"py-3\"><span className=\"bg-secondary/10 text-secondary px-2 py-1 rounded text-xs font-semibold border border-secondary/20\">User</span></td>\n                            <td className=\"py-3 text-green-600 flex items-center gap-1\"><CheckCircle className=\"w-3 h-3\" /> Active</td>\n                              <td className=\"py-3 pr-4\">\n                                <Button \n                                  variant=\"ghost\" \n                                  size=\"sm\"\n                                  onClick={() => {\n                                    setEditingUser({ name: \"John Doe\", email: \"john@example.com\", role: \"User\", status: \"Active\" });\n                                    setIsUserDialogOpen(true);\n                                  }}\n                                >\n                                  Edit\n                                </Button>\n                              </td>\n                         </tr>\n                         <tr className=\"border-b border-border/50 hover:bg-muted/30\">\n                            <td className=\"py-3 pl-4 font-medium\">Sarah Connor</td>\n                            <td className=\"py-3\">sarah@example.com</td>\n                            <td className=\"py-3\"><span className=\"bg-secondary/10 text-secondary px-2 py-1 rounded text-xs font-semibold border border-secondary/20\">User</span></td>\n                            <td className=\"py-3 text-red-500 flex items-center gap-1\"><XCircle className=\"w-3 h-3\" /> Suspended</td>\n                              <td className=\"py-3 pr-4\">\n                                <Button \n                                  variant=\"ghost\" \n                                  size=\"sm\"\n                                  onClick={() => {\n                                    setEditingUser({ name: \"Sarah Connor\", email: \"sarah@example.com\", role: \"User\", status: \"Suspended\" });\n                                    setIsUserDialogOpen(true);\n                                  }}\n                                >\n                                  Edit\n                                </Button>\n                              </td>\n                         </tr>\n                      </tbody>\n                   </table>\n                </CardContent>\n             </Card>\n\n               <Dialog open={isUserDialogOpen} onOpenChange={setIsUserDialogOpen}>\n                  <DialogContent>\n                     <DialogHeader>\n                        <DialogTitle>Edit User</DialogTitle>\n                     </DialogHeader>\n                     {editingUser && (\n                        <div className=\"grid gap-4 py-4\">\n                           <div className=\"grid gap-2\">\n                              <Label>Name</Label>\n                              <Input \n                                 value={editingUser.name}\n                                 onChange={(e) => setEditingUser({ ...editingUser, name: e.target.value })}\n                              />\n                           </div>\n                           <div className=\"grid gap-2\">\n                              <Label>Email</Label>\n                              <Input \n                                 value={editingUser.email}\n                                 onChange={(e) => setEditingUser({ ...editingUser, email: e.target.value })}\n                                 disabled\n                              />\n                              <p className=\"text-xs text-muted-foreground\">Email cannot be changed</p>\n                           </div>\n                           <div className=\"grid gap-2\">\n                              <Label>Role</Label>\n                              <select\n                                 className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm\"\n                                 value={editingUser.role}\n                                 onChange={(e) => setEditingUser({ ...editingUser, role: e.target.value })}\n                              >\n                                 <option value=\"Admin\">Admin</option>\n                                 <option value=\"User\">User</option>\n                              </select>\n                           </div>\n                           <div className=\"grid gap-2\">\n                              <Label>Status</Label>\n                              <select\n                                 className=\"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm\"\n                                 value={editingUser.status}\n                                 onChange={(e) => setEditingUser({ ...editingUser, status: e.target.value })}\n                              >\n                                 <option value=\"Active\">Active</option>\n                                 <option value=\"Suspended\">Suspended</option>\n                              </select>\n                           </div>\n                        </div>\n                     )}\n                     <DialogFooter>\n                        <Button variant=\"outline\" onClick={() => setIsUserDialogOpen(false)}>Cancel</Button>\n                        <Button onClick={() => {\n                           // TODO: Implement API call to update user\n                           toast({ \n                              title: \"User Updated\", \n                              description: `${editingUser?.name}'s information has been updated.` \n                           });\n                           setIsUserDialogOpen(false);\n                        }}>\n                           Save Changes\n                        </Button>\n                     </DialogFooter>\n                  </DialogContent>\n               </Dialog>\n             </>\n          )}\n\n          {activeTab === \"reviews\" && (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between items-center\">\n                <h2 className=\"text-xl font-bold font-serif\">Review Management</h2>\n                <Badge variant=\"outline\">{reviews.length} Total Reviews</Badge>\n              </div>\n\n              <Card>\n                <CardContent className=\"p-0\">\n                   <div className=\"overflow-x-auto\">\n                      <table className=\"w-full text-sm text-left\">\n                         <thead className=\"text-xs text-muted-foreground uppercase bg-muted/50 border-b\">\n                            <tr>\n                               <th className=\"px-6 py-3\">Service</th>\n                               <th className=\"px-6 py-3\">Type</th>\n                               <th className=\"px-6 py-3\">User</th>\n                               <th className=\"px-6 py-3\">Rating</th>\n                               <th className=\"px-6 py-3\">Comment</th>\n                               <th className=\"px-6 py-3\">Date</th>\n                               <th className=\"px-6 py-3\">Status</th>\n                               <th className=\"px-6 py-3\">Actions</th>\n                            </tr>\n                         </thead>\n                         <tbody>\n                            {reviews.map((review) => (\n                               <tr key={review.id} className=\"bg-card border-b hover:bg-muted/20\">\n                                  <td className=\"px-6 py-4 font-medium text-primary\">{review.itemTitle}</td>\n                                  <td className=\"px-6 py-4\">\n                                    <Badge variant=\"outline\" className=\"capitalize\">{review.itemType}</Badge>\n                                  </td>\n                                  <td className=\"px-6 py-4\">{review.userName}</td>\n                                  <td className=\"px-6 py-4\">\n                                    <div className=\"flex text-yellow-500\">\n                                      {[...Array(5)].map((_, i) => (\n                                        <Star key={i} className={`w-3 h-3 ${i < review.rating ? \"fill-current\" : \"text-gray-300\"}`} />\n                                      ))}\n                                    </div>\n                                  </td>\n                                  <td className=\"px-6 py-4 max-w-xs truncate\" title={review.comment}>{review.comment}</td>\n                                  <td className=\"px-6 py-4 text-muted-foreground\">\n                                    {review.createdAt ? new Date(review.createdAt).toLocaleDateString() : 'N/A'}\n                                  </td>\n                                  <td className=\"px-6 py-4\">\n                                     <Badge variant={\n                                        review.status === \"approved\" ? \"default\" :\n                                        review.status === \"rejected\" ? \"destructive\" : \"secondary\"\n                                     }>\n                                        {review.status}\n                                     </Badge>\n                                  </td>\n                                  <td className=\"px-6 py-4\">\n                                     <div className=\"flex gap-2\">\n                                        {review.status === \"pending\" && (\n                                          <>\n                                            <Button size=\"icon\" variant=\"outline\" className=\"h-8 w-8 text-green-600 hover:bg-green-50 hover:text-green-700 border-green-200\" onClick={async () => {\n                                              const success = await updateReviewStatus(review.id, \"approved\");\n                                              if (success) {\n                                              toast({ title: \"Review Approved\", description: \"Review is now public.\" });\n                                              }\n                                            }}>\n                                               <Check className=\"w-4 h-4\" />\n                                            </Button>\n                                            <Button size=\"icon\" variant=\"outline\" className=\"h-8 w-8 text-red-600 hover:bg-red-50 hover:text-red-700 border-red-200\" onClick={async () => {\n                                              const success = await updateReviewStatus(review.id, \"rejected\");\n                                              if (success) {\n                                              toast({ title: \"Review Rejected\", description: \"Review has been hidden.\" });\n                                              }\n                                            }}>\n                                               <X className=\"w-4 h-4\" />\n                                            </Button>\n                                          </>\n                                        )}\n                                        {review.status === \"approved\" && (\n                                          <>\n                                            <Button size=\"icon\" variant=\"outline\" className=\"h-8 w-8 text-orange-600 hover:bg-orange-50 hover:text-orange-700 border-orange-200\" onClick={async () => {\n                                              const success = await updateReviewStatus(review.id, \"rejected\");\n                                              if (success) {\n                                                toast({ title: \"Review Unpublished\", description: \"Review has been hidden from public view.\" });\n                                              }\n                                            }} title=\"Unpublish\">\n                                               <X className=\"w-4 h-4\" />\n                                            </Button>\n                                            <Button size=\"icon\" variant=\"outline\" className=\"h-8 w-8 text-red-600 hover:bg-red-50 hover:text-red-700 border-red-200\" onClick={async () => {\n                                              if (confirm(\"Are you sure you want to delete this review? This action cannot be undone.\")) {\n                                                const success = await deleteReview(review.id);\n                                                if (success) {\n                                                  toast({ title: \"Review Deleted\", description: \"Review has been permanently deleted.\" });\n                                                } else {\n                                                  toast({ title: \"Error\", description: \"Failed to delete review.\", variant: \"destructive\" });\n                                                }\n                                              }\n                                            }} title=\"Delete\">\n                                               <Trash className=\"w-4 h-4\" />\n                                            </Button>\n                                          </>\n                                        )}\n                                        {review.status === \"rejected\" && (\n                                          <>\n                                            <Button size=\"icon\" variant=\"outline\" className=\"h-8 w-8 text-green-600 hover:bg-green-50 hover:text-green-700 border-green-200\" onClick={async () => {\n                                              const success = await updateReviewStatus(review.id, \"approved\");\n                                              if (success) {\n                                                toast({ title: \"Review Published\", description: \"Review is now public.\" });\n                                              }\n                                            }} title=\"Publish\">\n                                               <Check className=\"w-4 h-4\" />\n                                            </Button>\n                                            <Button size=\"icon\" variant=\"outline\" className=\"h-8 w-8 text-red-600 hover:bg-red-50 hover:text-red-700 border-red-200\" onClick={async () => {\n                                              if (confirm(\"Are you sure you want to delete this review? This action cannot be undone.\")) {\n                                                const success = await deleteReview(review.id);\n                                                if (success) {\n                                                  toast({ title: \"Review Deleted\", description: \"Review has been permanently deleted.\" });\n                                                } else {\n                                                  toast({ title: \"Error\", description: \"Failed to delete review.\", variant: \"destructive\" });\n                                                }\n                                              }\n                                            }} title=\"Delete\">\n                                               <Trash className=\"w-4 h-4\" />\n                                            </Button>\n                                          </>\n                                        )}\n                                     </div>\n                                  </td>\n                               </tr>\n                            ))}\n                         </tbody>\n                      </table>\n                      {reviews.length === 0 && (\n                        <div className=\"p-8 text-center text-muted-foreground\">\n                          No reviews found.\n                        </div>\n                      )}\n                   </div>\n                </CardContent>\n              </Card>\n            </div>\n          )}\n\n          {activeTab === \"subscribers\" && (\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-between items-center\">\n                <h2 className=\"text-xl font-bold font-serif\">Subscriber Management</h2>\n                <div className=\"flex gap-2\">\n                  <Badge variant=\"outline\">{subscribers.filter(s => s.status === 'active').length} Active</Badge>\n                  <Button \n                    variant=\"outline\"\n                    onClick={() => {\n                      fetchEmailTemplates();\n                      setTemplatesDialogOpen(true);\n                    }}\n                  >\n                    <FileText className=\"w-4 h-4 mr-2\" />\n                    Templates\n                  </Button>\n                  <Button \n                    onClick={() => setSendEmailDialogOpen(true)}\n                    disabled={selectedSubscribers.length === 0}\n                  >\n                    <Send className=\"w-4 h-4 mr-2\" />\n                    Send Email ({selectedSubscribers.length})\n                  </Button>\n                </div>\n              </div>\n\n              <Card>\n                <CardContent className=\"p-0\">\n                  <div className=\"overflow-x-auto\">\n                    <table className=\"w-full text-sm text-left\">\n                      <thead className=\"text-xs text-muted-foreground uppercase bg-muted/50 border-b\">\n                        <tr>\n                          <th className=\"px-6 py-3\">\n                            <input\n                              type=\"checkbox\"\n                              checked={selectedSubscribers.length === subscribers.filter(s => s.status === 'active').length && subscribers.filter(s => s.status === 'active').length > 0}\n                              onChange={(e) => {\n                                if (e.target.checked) {\n                                  setSelectedSubscribers(subscribers.filter(s => s.status === 'active').map(s => s.id));\n                                } else {\n                                  setSelectedSubscribers([]);\n                                }\n                              }}\n                            />\n                          </th>\n                          <th className=\"px-6 py-3\">Email</th>\n                          <th className=\"px-6 py-3\">Name</th>\n                          <th className=\"px-6 py-3\">Subscribed</th>\n                          <th className=\"px-6 py-3\">Status</th>\n                          <th className=\"px-6 py-3\">Actions</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {subscribers.length === 0 ? (\n                          <tr>\n                            <td colSpan={6} className=\"px-6 py-8 text-center text-muted-foreground\">\n                              No subscribers yet\n                            </td>\n                          </tr>\n                        ) : (\n                          subscribers.map((subscriber) => (\n                            <tr key={subscriber.id} className=\"bg-card border-b hover:bg-muted/20\">\n                              <td className=\"px-6 py-4\">\n                                {subscriber.status === 'active' && (\n                                  <input\n                                    type=\"checkbox\"\n                                    checked={selectedSubscribers.includes(subscriber.id)}\n                                    onChange={(e) => {\n                                      if (e.target.checked) {\n                                        setSelectedSubscribers([...selectedSubscribers, subscriber.id]);\n                                      } else {\n                                        setSelectedSubscribers(selectedSubscribers.filter(id => id !== subscriber.id));\n                                      }\n                                    }}\n                                  />\n                                )}\n                              </td>\n                              <td className=\"px-6 py-4 font-medium\">{subscriber.email}</td>\n                              <td className=\"px-6 py-4\">{subscriber.name || '-'}</td>\n                              <td className=\"px-6 py-4 text-muted-foreground\">\n                                {new Date(subscriber.subscribedAt).toLocaleDateString()}\n                              </td>\n                              <td className=\"px-6 py-4\">\n                                <Badge variant={subscriber.status === 'active' ? 'default' : 'secondary'}>\n                                  {subscriber.status}\n                                </Badge>\n                              </td>\n                              <td className=\"px-6 py-4\">\n                                <Button\n                                  variant=\"ghost\"\n                                  size=\"sm\"\n                                  onClick={() => handleDeleteSubscriber(subscriber.id)}\n                                >\n                                  <Trash className=\"w-4 h-4 text-destructive\" />\n                                </Button>\n                              </td>\n                            </tr>\n                          ))\n                        )}\n                      </tbody>\n                    </table>\n                  </div>\n                </CardContent>\n              </Card>\n\n              {/* Send Email Dialog */}\n              <Dialog open={sendEmailDialogOpen} onOpenChange={setSendEmailDialogOpen}>\n                <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n                  <DialogHeader>\n                    <DialogTitle>Send Email to Subscribers</DialogTitle>\n                  </DialogHeader>\n                  <div className=\"space-y-4\">\n                    <div>\n                      <Label>Email Template (Optional)</Label>\n                      <select\n                        className=\"w-full px-3 py-2 border rounded-md\"\n                        value={selectedTemplateId}\n                        onChange={(e) => {\n                          if (e.target.value) {\n                            handleLoadTemplate(e.target.value);\n                          } else {\n                            setSelectedTemplateId(\"\");\n                            setEmailSubject(\"\");\n                            setEmailBody(\"\");\n                            setEmailVariables({});\n                          }\n                        }}\n                      >\n                        <option value=\"\">Select a template...</option>\n                        {emailTemplates.map(template => (\n                          <option key={template.id} value={template.id}>{template.name}</option>\n                        ))}\n                      </select>\n                    </div>\n                    <div>\n                      <Label>Subject *</Label>\n                      <Input\n                        value={emailSubject}\n                        onChange={(e) => setEmailSubject(e.target.value)}\n                        placeholder=\"Email subject\"\n                        required\n                      />\n                    </div>\n                    <div>\n                      <Label>Body *</Label>\n                      <textarea\n                        className=\"w-full min-h-[200px] px-3 py-2 border rounded-md\"\n                        value={emailBody}\n                        onChange={(e) => setEmailBody(e.target.value)}\n                        placeholder=\"Email body (use {{variableName}} for variables)\"\n                        required\n                      />\n                    </div>\n                    {Object.keys(emailVariables).length > 0 && (\n                      <div>\n                        <Label>Template Variables</Label>\n                        <div className=\"space-y-2\">\n                          {Object.keys(emailVariables).map(key => (\n                            <div key={key} className=\"flex gap-2\">\n                              <Label className=\"w-32\">{key}:</Label>\n                              <Input\n                                value={emailVariables[key]}\n                                onChange={(e) => setEmailVariables({...emailVariables, [key]: e.target.value})}\n                                placeholder={`Value for ${key}`}\n                              />\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n                    )}\n                    <div className=\"text-sm text-muted-foreground\">\n                      Sending to {selectedSubscribers.length} subscriber{selectedSubscribers.length !== 1 ? 's' : ''}\n                    </div>\n                  </div>\n                  <DialogFooter>\n                    <Button variant=\"outline\" onClick={() => setSendEmailDialogOpen(false)}>Cancel</Button>\n                    <Button onClick={handleSendEmails}>\n                      <Send className=\"w-4 h-4 mr-2\" />\n                      Send Email\n                    </Button>\n                  </DialogFooter>\n                </DialogContent>\n              </Dialog>\n\n              {/* Templates Dialog */}\n              <Dialog open={templatesDialogOpen} onOpenChange={setTemplatesDialogOpen}>\n                <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n                  <DialogHeader>\n                    <div className=\"flex justify-between items-center\">\n                      <DialogTitle>Email Templates</DialogTitle>\n                      <Dialog>\n                        <DialogTrigger asChild>\n                          <Button size=\"sm\">\n                            <Plus className=\"w-4 h-4 mr-2\" />\n                            Create Template\n                          </Button>\n                        </DialogTrigger>\n                        <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n                          <DialogHeader>\n                            <DialogTitle>Create Email Template</DialogTitle>\n                          </DialogHeader>\n                          <EmailTemplateForm\n                            onSuccess={() => {\n                              fetchEmailTemplates();\n                            }}\n                            onClose={() => {}}\n                          />\n                        </DialogContent>\n                      </Dialog>\n                    </div>\n                  </DialogHeader>\n                  <div className=\"space-y-4\">\n                    {emailTemplates.length === 0 ? (\n                      <div className=\"text-center py-8 text-muted-foreground\">\n                        No email templates yet. Create your first template!\n                      </div>\n                    ) : (\n                      <div className=\"grid gap-4\">\n                        {emailTemplates.map((template) => (\n                          <Card key={template.id}>\n                            <CardHeader>\n                              <div className=\"flex justify-between items-start\">\n                                <div className=\"flex-1\">\n                                  <CardTitle>{template.name}</CardTitle>\n                                  <CardDescription className=\"mt-1\">Subject: {template.subject}</CardDescription>\n                                  <div className=\"text-sm text-muted-foreground mt-2\">\n                                    Variables: {template.variables && template.variables.length > 0 ? template.variables.join(', ') : 'None'}\n                                  </div>\n                                </div>\n                                <div className=\"flex gap-2\">\n                                  <Button\n                                    variant=\"outline\"\n                                    size=\"sm\"\n                                    onClick={() => {\n                                      handleLoadTemplate(template.id);\n                                      setTemplatesDialogOpen(false);\n                                      setSendEmailDialogOpen(true);\n                                    }}\n                                  >\n                                    <Send className=\"w-4 h-4 mr-2\" />\n                                    Use\n                                  </Button>\n                                  <Dialog>\n                                    <DialogTrigger asChild>\n                                      <Button variant=\"outline\" size=\"sm\">\n                                        <Edit className=\"w-4 h-4\" />\n                                      </Button>\n                                    </DialogTrigger>\n                                    <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n                                      <DialogHeader>\n                                        <DialogTitle>Edit Email Template</DialogTitle>\n                                      </DialogHeader>\n                                      <EmailTemplateForm\n                                        template={template}\n                                        onSuccess={() => {\n                                          fetchEmailTemplates();\n                                        }}\n                                        onClose={() => {}}\n                                      />\n                                    </DialogContent>\n                                  </Dialog>\n                                  <Button\n                                    variant=\"outline\"\n                                    size=\"sm\"\n                                    onClick={async () => {\n                                      if (confirm('Are you sure you want to delete this template?')) {\n                                        try {\n                                          const res = await fetch(`/api/email-templates/${template.id}`, { method: 'DELETE' });\n                                          if (res.ok) {\n                                            toast({ title: \"Template deleted\", description: \"Email template has been removed.\" });\n                                            fetchEmailTemplates();\n                                          }\n                                        } catch (error) {\n                                          toast({ title: \"Error\", description: \"Failed to delete template.\", variant: \"destructive\" });\n                                        }\n                                      }\n                                    }}\n                                  >\n                                    <Trash className=\"w-4 h-4 text-destructive\" />\n                                  </Button>\n                                </div>\n                              </div>\n                            </CardHeader>\n                            <CardContent>\n                              <div className=\"text-sm bg-muted p-3 rounded max-h-32 overflow-y-auto\">\n                                {template.body.substring(0, 200)}{template.body.length > 200 ? '...' : ''}\n                              </div>\n                            </CardContent>\n                          </Card>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                </DialogContent>\n              </Dialog>\n            </div>\n          )}\n\n          {activeTab === \"footer\" && (\n             <div className=\"space-y-6\">\n                <Card>\n                   <CardHeader>\n                      <CardTitle>Footer Description</CardTitle>\n                      <CardDescription>This text appears in the footer of every page.</CardDescription>\n                   </CardHeader>\n                   <CardContent className=\"space-y-4\">\n                      <div className=\"space-y-2\">\n                         <Label>Description Text</Label>\n                         <textarea \n                            className=\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n                            value={footer.description}\n                            onChange={(e) => updateFooter({ description: e.target.value })}\n                         />\n                      </div>\n                      <Button onClick={() => toast({ title: \"Footer Updated\", description: \"Description updated successfully.\" })}>Save Changes</Button>\n                   </CardContent>\n                </Card>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                   <Card>\n                      <CardHeader>\n                         <CardTitle>Experiences Links</CardTitle>\n                         <CardDescription>Manage links in the Experiences column.</CardDescription>\n                      </CardHeader>\n                      <CardContent className=\"space-y-4\">\n                         {footer.experiences.map((link, index) => (\n                            <div key={index} className=\"flex gap-2 items-end\">\n                               <div className=\"space-y-1 flex-1\">\n                                  <Label className=\"text-xs\">Label</Label>\n                                  <Input \n                                     value={link.label} \n                                     onChange={(e) => updateFooterLink(\"experiences\", index, { ...link, label: e.target.value })}\n                                  />\n                               </div>\n                               <div className=\"space-y-1 flex-1\">\n                                  <Label className=\"text-xs\">URL</Label>\n                                  <Input \n                                     value={link.href} \n                                     onChange={(e) => updateFooterLink(\"experiences\", index, { ...link, href: e.target.value })}\n                                  />\n                               </div>\n                            </div>\n                         ))}\n                         <Button onClick={() => toast({ title: \"Links Updated\", description: \"Experiences links saved successfully.\" })}>Save Links</Button>\n                      </CardContent>\n                   </Card>\n\n                   <Card>\n                      <CardHeader>\n                         <CardTitle>Company Links</CardTitle>\n                         <CardDescription>Manage links in the Company column.</CardDescription>\n                      </CardHeader>\n                      <CardContent className=\"space-y-4\">\n                         {footer.company.map((link, index) => (\n                            <div key={index} className=\"flex gap-2 items-end\">\n                               <div className=\"space-y-1 flex-1\">\n                                  <Label className=\"text-xs\">Label</Label>\n                                  <Input \n                                     value={link.label} \n                                     onChange={(e) => updateFooterLink(\"company\", index, { ...link, label: e.target.value })}\n                                  />\n                               </div>\n                               <div className=\"space-y-1 flex-1\">\n                                  <Label className=\"text-xs\">URL</Label>\n                                  <Input \n                                     value={link.href} \n                                     onChange={(e) => updateFooterLink(\"company\", index, { ...link, href: e.target.value })}\n                                  />\n                               </div>\n                            </div>\n                         ))}\n                         <Button onClick={() => toast({ title: \"Links Updated\", description: \"Company links saved successfully.\" })}>Save Links</Button>\n                      </CardContent>\n                   </Card>\n                </div>\n             </div>\n          )}\n\n          {activeTab === \"bookings\" && (\n             <Card>\n                <CardHeader>\n                   <CardTitle>All Bookings</CardTitle>\n                </CardHeader>\n                <CardContent>\n                   <div className=\"overflow-x-auto\">\n                      <table className=\"w-full text-sm text-left\">\n                         <thead className=\"text-xs text-muted-foreground uppercase bg-muted/50\">\n                         <tr>\n                            <th className=\"px-6 py-3\">Booking ID</th>\n                            <th className=\"px-6 py-3\">Customer</th>\n                            <th className=\"px-6 py-3\">Item</th>\n                            <th className=\"px-6 py-3\">Date</th>\n                            <th className=\"px-6 py-3\">Amount</th>\n                            <th className=\"px-6 py-3\">Status</th>\n                            <th className=\"px-6 py-3\">Payment</th>\n                            <th className=\"px-6 py-3\">Actions</th>\n                         </tr>\n                         </thead>\n                         <tbody>\n                         {bookings.map((booking) => (\n                            <tr key={booking.id} className=\"bg-white border-b hover:bg-muted/5\">\n                               <td className=\"px-6 py-4 font-medium\">{booking.id}</td>\n                               <td className=\"px-6 py-4\">{booking.customer}</td>\n                               <td className=\"px-6 py-4\">{booking.item}</td>\n                               <td className=\"px-6 py-4\">{booking.date}</td>\n                               <td className=\"px-6 py-4 font-bold text-primary\">{booking.amount}</td>\n                               <td className=\"px-6 py-4\">\n                                  {booking.status === 'Cancelled' ? (\n                                     <span className=\"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700\">\n                                        Cancelled\n                                     </span>\n                                  ) : (\n                                     <Select \n                                       value={booking.status} \n                                       onValueChange={async (value: \"Pending\" | \"Confirmed\") => {\n                                         const success = await updateBooking(booking.id, { status: value });\n                                         if (success) {\n                                           toast({ title: \"Status Updated\", description: `Booking status changed to ${value}.` });\n                                         } else {\n                                           toast({ title: \"Error\", description: \"Failed to update booking status.\", variant: \"destructive\" });\n                                         }\n                                       }}\n                                     >\n                                       <SelectTrigger className={`w-28 h-7 text-xs font-medium ${\n                                          booking.status === 'Confirmed' ? 'bg-green-100 text-green-700 border-green-200' :\n                                             'bg-yellow-100 text-yellow-700 border-yellow-200'\n                                       }`}>\n                                         <SelectValue />\n                                       </SelectTrigger>\n                                       <SelectContent>\n                                         <SelectItem value=\"Pending\">Pending</SelectItem>\n                                         <SelectItem value=\"Confirmed\">Confirmed</SelectItem>\n                                       </SelectContent>\n                                     </Select>\n                                  )}\n                               </td>\n                               <td className=\"px-6 py-4\">\n                               <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n                                  booking.paymentStatus === 'Paid' ? 'bg-green-100 text-green-700' :\n                                     booking.paymentStatus === 'Pending' ? 'bg-yellow-100 text-yellow-700' :\n                                     booking.paymentStatus === 'Refunded' ? 'bg-blue-100 text-blue-700' :\n                                        'bg-red-100 text-red-700'\n                               }`}>\n                                  {booking.paymentStatus || 'Pending'}\n                               </span>\n                               </td>\n                               <td className=\"px-6 py-4\">\n                                  <div className=\"flex gap-2\">\n                                    <Dialog>\n                                      <DialogTrigger asChild>\n                                        <Button variant=\"outline\" size=\"sm\">View</Button>\n                                      </DialogTrigger>\n                                      <DialogContent>\n                                        <DialogHeader>\n                                          <DialogTitle>Booking Details: {booking.id}</DialogTitle>\n                                        </DialogHeader>\n                                        <div className=\"space-y-4 py-4\">\n                                          <div className=\"grid grid-cols-2 gap-4\">\n                                            <div>\n                                              <p className=\"text-sm font-medium text-muted-foreground\">Customer</p>\n                                              <p className=\"text-base font-semibold\">{booking.customer}</p>\n                                            </div>\n                                            <div>\n                                              <p className=\"text-sm font-medium text-muted-foreground\">Booking Date</p>\n                                              <p className=\"text-base font-semibold\">{new Date(booking.date).toLocaleDateString()}</p>\n                                            </div>\n                                            <div>\n                                              <p className=\"text-sm font-medium text-muted-foreground\">Item</p>\n                                              <p className=\"text-base font-semibold\">{booking.item}</p>\n                                            </div>\n                                            <div>\n                                              <p className=\"text-sm font-medium text-muted-foreground\">Amount</p>\n                                              <p className=\"text-base font-semibold text-primary\">{booking.amount}</p>\n                                            </div>\n                                            <div>\n                                              <p className=\"text-sm font-medium text-muted-foreground\">Status</p>\n                                              {booking.status === 'Cancelled' ? (\n                                                <Badge variant=\"destructive\">Cancelled</Badge>\n                                              ) : (\n                                                <Select \n                                                  value={booking.status} \n                                                  onValueChange={async (value: \"Pending\" | \"Confirmed\") => {\n                                                    const success = await updateBooking(booking.id, { status: value });\n                                                    if (success) {\n                                                      toast({ title: \"Status Updated\", description: `Booking status changed to ${value}.` });\n                                                    } else {\n                                                      toast({ title: \"Error\", description: \"Failed to update booking status.\", variant: \"destructive\" });\n                                                    }\n                                                  }}\n                                                >\n                                                  <SelectTrigger className=\"w-32\">\n                                                    <SelectValue />\n                                                  </SelectTrigger>\n                                                  <SelectContent>\n                                                    <SelectItem value=\"Pending\">Pending</SelectItem>\n                                                    <SelectItem value=\"Confirmed\">Confirmed</SelectItem>\n                                                  </SelectContent>\n                                                </Select>\n                                              )}\n                                            </div>\n                                            <div>\n                                              <p className=\"text-sm font-medium text-muted-foreground\">Payment Status</p>\n                                              <Select \n                                                value={booking.paymentStatus || 'Pending'} \n                                                onValueChange={async (value: \"Pending\" | \"Paid\" | \"Refunded\" | \"Failed\") => {\n                                                  const success = await updatePaymentStatus(booking.id, value);\n                                                  if (success) {\n                                                    toast({ title: \"Payment Updated\", description: `Payment status changed to ${value}.` });\n                                                  } else {\n                                                    toast({ title: \"Error\", description: \"Failed to update payment status.\", variant: \"destructive\" });\n                                                  }\n                                                }}\n                                              >\n                                                <SelectTrigger className=\"w-32\">\n                                                  <SelectValue />\n                                                </SelectTrigger>\n                                                <SelectContent>\n                                                  <SelectItem value=\"Pending\">Pending</SelectItem>\n                                                  <SelectItem value=\"Paid\">Paid</SelectItem>\n                                                  <SelectItem value=\"Refunded\">Refunded</SelectItem>\n                                                  <SelectItem value=\"Failed\">Failed</SelectItem>\n                                                </SelectContent>\n                                              </Select>\n                                            </div>\n                                          </div>\n                                        </div>\n                                        <DialogFooter>\n                                          <Button variant=\"outline\" onClick={() => {}}>Close</Button>\n                                          {booking.status !== \"Cancelled\" && (\n                                            <Button \n                                              variant=\"destructive\" \n                                              onClick={async () => {\n                                                if (confirm(`Are you sure you want to cancel booking ${booking.id}?`)) {\n                                                  const success = await updateBooking(booking.id, { status: \"Cancelled\" });\n                                                  if (success) {\n                                                    toast({ title: \"Booking Cancelled\", description: \"Booking has been cancelled successfully.\" });\n                                                  } else {\n                                                    toast({ title: \"Error\", description: \"Failed to cancel booking.\", variant: \"destructive\" });\n                                                  }\n                                                }\n                                              }}\n                                            >\n                                              Cancel Booking\n                                            </Button>\n                                          )}\n                                        </DialogFooter>\n                                      </DialogContent>\n                                    </Dialog>\n                                    {booking.status !== \"Cancelled\" && (\n                                      <Button \n                                        variant=\"destructive\" \n                                        size=\"sm\"\n                                        onClick={async () => {\n                                          if (confirm(`Are you sure you want to cancel booking ${booking.id}?`)) {\n                                            const success = await updateBooking(booking.id, { status: \"Cancelled\" });\n                                            if (success) {\n                                              toast({ title: \"Booking Cancelled\", description: \"Booking has been cancelled successfully.\" });\n                                            } else {\n                                              toast({ title: \"Error\", description: \"Failed to cancel booking.\", variant: \"destructive\" });\n                                            }\n                                          }\n                                        }}\n                                      >\n                                        Cancel\n                                      </Button>\n                                    )}\n                                  </div>\n                               </td>\n                            </tr>\n                         ))}\n                         </tbody>\n                      </table>\n                   </div>\n                </CardContent>\n             </Card>\n          )}\n\n          {activeTab === \"support\" && (\n             <div className=\"space-y-6\">\n               <div className=\"flex justify-between items-center\">\n                 <div>\n                   <h2 className=\"text-xl font-bold font-serif\">Support Tickets</h2>\n                   <p className=\"text-sm text-muted-foreground\">Manage customer inquiries and issues.</p>\n                 </div>\n                 <Badge variant=\"outline\">{allTickets.length} Total Tickets</Badge>\n               </div>\n\n             <Card>\n                 <CardContent className=\"p-0\">\n                   <div className=\"overflow-x-auto\">\n                     <table className=\"w-full text-sm text-left\">\n                       <thead className=\"text-xs text-muted-foreground uppercase bg-muted/50 border-b\">\n                         <tr>\n                           <th className=\"px-6 py-3\">Ticket ID</th>\n                           <th className=\"px-6 py-3\">User</th>\n                           <th className=\"px-6 py-3\">Subject</th>\n                           <th className=\"px-6 py-3\">Date</th>\n                           <th className=\"px-6 py-3\">Priority</th>\n                           <th className=\"px-6 py-3\">Status</th>\n                           <th className=\"px-6 py-3\">Last Reply</th>\n                           <th className=\"px-6 py-3\">Actions</th>\n                         </tr>\n                      </thead>\n                      <tbody>\n                         {allTickets.length === 0 ? (\n                           <tr>\n                             <td colSpan={8} className=\"px-6 py-8 text-center text-muted-foreground\">\n                               No support tickets found.\n                             </td>\n                           </tr>\n                         ) : allTickets.map((ticket) => {\n                           const lastReply = ticket.replies && ticket.replies.length > 0 ? ticket.replies[0] : null;\n                           return (\n                             <tr key={ticket.id} className=\"bg-card border-b hover:bg-muted/20\">\n                             <td className=\"px-6 py-4 font-medium text-primary\">{ticket.id}</td>\n                             <td className=\"px-6 py-4\">{ticket.userEmail}</td>\n                             <td className=\"px-6 py-4\">{ticket.subject}</td>\n                             <td className=\"px-6 py-4 text-muted-foreground\">{ticket.date}</td>\n                             <td className=\"px-6 py-4\">\n                               <Badge variant={\n                                 ticket.priority === 'High' ? 'destructive' :\n                                 ticket.priority === 'Medium' ? 'default' : 'secondary'\n                               }>\n                                     {ticket.priority}\n                               </Badge>\n                               </td>\n                             <td className=\"px-6 py-4\">\n                               <Badge variant={\n                                 ticket.status === 'Open' ? 'default' :\n                                 ticket.status === 'In Progress' ? 'secondary' : 'outline'\n                               }>\n                                     {ticket.status}\n                               </Badge>\n                             </td>\n                             <td className=\"px-6 py-4\">\n                               {lastReply ? (\n                                 <div className=\"flex flex-col gap-1\">\n                                   <Badge \n                                     variant={lastReply.sender === 'user' ? 'outline' : 'default'} \n                                     className={`text-xs w-fit ${\n                                       lastReply.sender === 'user' \n                                         ? 'bg-blue-50 text-blue-700 border-blue-200' \n                                         : 'bg-green-50 text-green-700 border-green-200'\n                                     }`}\n                                   >\n                                     {lastReply.sender === 'user' ? 'ðŸ‘¤ User' : 'ðŸ›Ÿ Admin'}\n                                   </Badge>\n                                   <span className=\"text-xs text-muted-foreground\">\n                                     {new Date(lastReply.date).toLocaleDateString()}\n                                  </span>\n                                 </div>\n                               ) : (\n                                 <span className=\"text-xs text-muted-foreground italic\">No replies yet</span>\n                               )}\n                               </td>\n                             <td className=\"px-6 py-4\">\n                               <div className=\"flex gap-2\">\n                                 <Dialog>\n                                   <DialogTrigger asChild>\n                                     <Button \n                                       variant=\"outline\" \n                                       size=\"sm\"\n                                       onClick={() => setSelectedTicketId(ticket.id)}\n                                     >\n                                       <MessageSquare className=\"w-3 h-3 mr-1\" /> Reply\n                                     </Button>\n                                   </DialogTrigger>\n                                   <DialogContent className=\"max-w-2xl\">\n                                     <DialogHeader>\n                                       <DialogTitle>Reply to Ticket: {ticket.id}</DialogTitle>\n                                     </DialogHeader>\n                                     <div className=\"space-y-4\">\n                                       <div>\n                                         <p className=\"text-sm font-medium mb-1\">Subject: {ticket.subject}</p>\n                                         <p className=\"text-xs text-muted-foreground\">From: {ticket.userEmail}</p>\n                                       </div>\n                                       \n                                       {ticket.replies && ticket.replies.length > 0 && (\n                                         <div className=\"border rounded-lg p-4 max-h-[300px] overflow-y-auto space-y-3\">\n                                           <h4 className=\"text-sm font-semibold mb-2\">Conversation History</h4>\n                                           {ticket.replies.map((reply) => (\n                                             <div key={reply.id} className={`flex ${reply.sender === \"user\" ? \"justify-end\" : \"justify-start\"}`}>\n                                               <div className={`max-w-[80%] rounded-lg p-3 text-sm ${\n                                                 reply.sender === \"user\" \n                                                   ? \"bg-primary text-primary-foreground rounded-br-none\" \n                                                   : \"bg-muted rounded-bl-none\"\n                                               }`}>\n                                                 <p>{reply.message}</p>\n                                                 <div className={`text-[10px] mt-1 opacity-70 ${reply.sender === \"user\" ? \"text-right\" : \"text-left\"}`}>\n                                                   {reply.date}\n                                                 </div>\n                                               </div>\n                                             </div>\n                                           ))}\n                                         </div>\n                                       )}\n                                       \n                                       <div className=\"space-y-2\">\n                                         <Label>Your Reply</Label>\n                                         <textarea \n                                           className=\"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm\"\n                                           placeholder=\"Type your reply...\"\n                                           value={replyMessage}\n                                           onChange={(e) => setReplyMessage(e.target.value)}\n                                         />\n                                       </div>\n                                       \n                                       <div className=\"flex gap-2\">\n                                         <select\n                                           className=\"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm\"\n                                           value={ticket.status}\n                                           onChange={async (e) => {\n                                             const success = await updateTicketStatus(ticket.id, e.target.value as any);\n                                             if (success) {\n                                               toast({ title: \"Status Updated\", description: \"Ticket status has been updated.\" });\n                                             }\n                                           }}\n                                         >\n                                           <option value=\"Open\">Open</option>\n                                           <option value=\"In Progress\">In Progress</option>\n                                           <option value=\"Closed\">Closed</option>\n                                         </select>\n                                       </div>\n                                     </div>\n                                     <DialogFooter>\n                                       <Button variant=\"outline\" onClick={() => setReplyMessage(\"\")}>Cancel</Button>\n                                       <Button onClick={() => handleAdminReply(ticket.id)}>Send Reply</Button>\n                                     </DialogFooter>\n                                   </DialogContent>\n                                 </Dialog>\n                               </div>\n                             </td>\n                           </tr>\n                           );\n                         })}\n                      </tbody>\n                   </table>\n                   </div>\n                </CardContent>\n             </Card>\n             </div>\n          )}\n          {activeTab === \"settings\" && (\n            <div className=\"space-y-6\">\n               <div className=\"flex justify-between items-center\">\n                  <h2 className=\"text-xl font-bold font-serif\">Settings</h2>\n                  {settingsSubTab === \"general\" && (\n                  <Button \n                    className=\"bg-primary text-white\"\n                    onClick={saveSiteSettings}\n                    disabled={savingSiteSettings}\n                  >\n                    {savingSiteSettings ? (\n                      <>Saving...</>\n                    ) : (\n                      <><Check className=\"w-4 h-4 mr-2\" /> Save Changes</>\n                    )}\n                  </Button>\n                  )}\n               </div>\n\n               <div className=\"flex gap-2 border-b border-border\">\n                  <Button\n                    variant={settingsSubTab === \"general\" ? \"default\" : \"ghost\"}\n                    onClick={() => setSettingsSubTab(\"general\")}\n                    className=\"rounded-b-none\"\n                  >\n                    General\n                  </Button>\n                  <Button\n                    variant={settingsSubTab === \"payments\" ? \"default\" : \"ghost\"}\n                    onClick={() => setSettingsSubTab(\"payments\")}\n                    className=\"rounded-b-none\"\n                  >\n                    Payments\n                  </Button>\n                  <Button\n                    variant={settingsSubTab === \"email\" ? \"default\" : \"ghost\"}\n                    onClick={() => setSettingsSubTab(\"email\")}\n                    className=\"rounded-b-none\"\n                  >\n                    Email\n                  </Button>\n               </div>\n\n               {settingsSubTab === \"general\" && (\n               <>\n               {loadingSiteSettings ? (\n                  <div className=\"text-center py-8 text-muted-foreground\">Loading settings...</div>\n               ) : (\n               <>\n               <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                  <Card>\n                     <CardHeader>\n                        <CardTitle>General Information</CardTitle>\n                        <CardDescription>Configure the main identity of your website.</CardDescription>\n                     </CardHeader>\n                     <CardContent className=\"space-y-4\">\n                        <div className=\"space-y-2\">\n                           <Label>Website Name</Label>\n                           <Input \n                              value={siteSettings.siteName} \n                              onChange={(e) => setSiteSettings({...siteSettings, siteName: e.target.value})}\n                              placeholder=\"Voyager Hub\"\n                           />\n                           <p className=\"text-xs text-muted-foreground\">This name will appear in the navigation bar and footer.</p>\n                        </div>\n                        <div className=\"space-y-2\">\n                           <Label>Tagline / Slogan</Label>\n                           <Input \n                              value={siteSettings.tagline} \n                              onChange={(e) => setSiteSettings({...siteSettings, tagline: e.target.value})}\n                              placeholder=\"Luxury Travel Experiences\"\n                           />\n                           <p className=\"text-xs text-muted-foreground\">A short phrase that describes your business.</p>\n                        </div>\n                        <div className=\"space-y-2\">\n                           <Label>Default Currency</Label>\n                           <Select\n                              value={siteSettings.defaultCurrency || \"EUR\"}\n                              onValueChange={(value) => setSiteSettings({...siteSettings, defaultCurrency: value})}\n                           >\n                              <SelectTrigger>\n                                 <SelectValue placeholder=\"Select currency\" />\n                              </SelectTrigger>\n                              <SelectContent>\n                                 <SelectItem value=\"EUR\">Euro (â‚¬)</SelectItem>\n                                 <SelectItem value=\"USD\">US Dollar ($)</SelectItem>\n                                 <SelectItem value=\"GBP\">British Pound (Â£)</SelectItem>\n                                 <SelectItem value=\"CHF\">Swiss Franc (CHF)</SelectItem>\n                                 <SelectItem value=\"AED\">UAE Dirham (AED)</SelectItem>\n                                 <SelectItem value=\"JPY\">Japanese Yen (Â¥)</SelectItem>\n                              </SelectContent>\n                           </Select>\n                           <p className=\"text-xs text-muted-foreground\">The default currency for displaying prices on your website.</p>\n                        </div>\n                        <div className=\"space-y-2\">\n                           <Label>Website Logo</Label>\n                           <div className=\"flex gap-4 items-start\">\n                              <div className=\"flex-1 space-y-3\">\n                                  <div className=\"flex gap-2\">\n                                      <Input \n                                         value={siteSettings.logoUrl} \n                                         onChange={(e) => setSiteSettings({...siteSettings, logoUrl: e.target.value})}\n                                         placeholder=\"Paste image URL...\"\n                                      />\n                                  </div>\n                                  <div className=\"relative\">\n                                      <div className=\"absolute inset-0 flex items-center\">\n                                          <span className=\"w-full border-t\" />\n                                      </div>\n                                      <div className=\"relative flex justify-center text-xs uppercase\">\n                                          <span className=\"bg-card px-2 text-muted-foreground\">Or upload file</span>\n                                      </div>\n                                  </div>\n                                  <div className=\"flex items-center gap-2\">\n                                    <Input \n                                        type=\"file\" \n                                        accept=\"image/*\"\n                                        className=\"cursor-pointer file:mr-4 file:py-1 file:px-2 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-primary file:text-primary-foreground hover:file:bg-primary/90\"\n                                        onChange={(e) => {\n                                            const file = e.target.files?.[0];\n                                            if (file) {\n                                                const reader = new FileReader();\n                                                reader.onloadend = () => {\n                                                    setSiteSettings({...siteSettings, logoUrl: reader.result as string});\n                                                };\n                                                reader.readAsDataURL(file);\n                                            }\n                                        }}\n                                    />\n                                  </div>\n                              </div>\n                              \n                              <div className=\"flex flex-col gap-2 items-center\">\n                                {siteSettings.logoUrl ? (\n                                   <div className=\"w-24 h-24 border rounded-lg flex items-center justify-center bg-muted/50 overflow-hidden flex-shrink-0 relative group\">\n                                      <img src={siteSettings.logoUrl} alt=\"Preview\" className=\"w-full h-full object-contain p-2\" />\n                                      <div className=\"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity\">\n                                          <Button \n                                              variant=\"destructive\" \n                                              size=\"sm\"\n                                              className=\"h-8 w-8\"\n                                              onClick={() => setSiteSettings({...siteSettings, logoUrl: \"\"})}\n                                          >\n                                              <Trash className=\"w-4 h-4\" />\n                                          </Button>\n                                      </div>\n                                   </div>\n                                ) : (\n                                    <div className=\"w-24 h-24 border rounded-lg flex items-center justify-center bg-muted/20 text-muted-foreground\">\n                                        <span className=\"text-xs\">No Logo</span>\n                                    </div>\n                                )}\n                                <span className=\"text-[10px] text-muted-foreground\">Preview</span>\n                              </div>\n                           </div>\n                           <p className=\"text-xs text-muted-foreground\">Supported formats: PNG, JPG, GIF, SVG.</p>\n                        </div>\n                     </CardContent>\n                  </Card>\n\n                  <Card>\n                     <CardHeader>\n                        <CardTitle>SEO Configuration</CardTitle>\n                        <CardDescription>Optimize your website for search engines.</CardDescription>\n                     </CardHeader>\n                     <CardContent className=\"space-y-4\">\n                        <div className=\"space-y-2\">\n                           <Label>Default Page Title</Label>\n                           <Input \n                              value={siteSettings.seoTitle} \n                              onChange={(e) => setSiteSettings({...siteSettings, seoTitle: e.target.value})}\n                              placeholder=\"Voyager Hub | Luxury Travel\"\n                           />\n                        </div>\n                        <div className=\"space-y-2\">\n                           <Label>Meta Description</Label>\n                           <textarea \n                              className=\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n                              value={siteSettings.seoDescription} \n                              onChange={(e) => setSiteSettings({...siteSettings, seoDescription: e.target.value})}\n                              placeholder=\"A brief description of your website...\"\n                           />\n                        </div>\n                        <div className=\"space-y-2\">\n                           <Label>Keywords</Label>\n                           <Input \n                              value={siteSettings.seoKeywords} \n                              onChange={(e) => setSiteSettings({...siteSettings, seoKeywords: e.target.value})}\n                              placeholder=\"travel, luxury, hotels, trips\"\n                           />\n                           <p className=\"text-xs text-muted-foreground\">Separate keywords with commas.</p>\n                        </div>\n                     </CardContent>\n                  </Card>\n               </div>\n\n               {/* Contact Information */}\n               <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                  <Card>\n                     <CardHeader>\n                        <CardTitle>Contact Information</CardTitle>\n                        <CardDescription>This information will be displayed on your website contact page and footer.</CardDescription>\n                     </CardHeader>\n                     <CardContent className=\"space-y-4\">\n                        <div className=\"space-y-2\">\n                           <Label>Email Address</Label>\n                           <Input \n                              type=\"email\"\n                              value={siteSettings.contactEmail} \n                              onChange={(e) => setSiteSettings({...siteSettings, contactEmail: e.target.value})}\n                              placeholder=\"contact@voyagerhub.com\"\n                           />\n                        </div>\n                        <div className=\"space-y-2\">\n                           <Label>Phone Number</Label>\n                           <Input \n                              type=\"tel\"\n                              value={siteSettings.contactPhone} \n                              onChange={(e) => setSiteSettings({...siteSettings, contactPhone: e.target.value})}\n                              placeholder=\"+1 (555) 123-4567\"\n                           />\n                        </div>\n                        <div className=\"space-y-2\">\n                           <Label>Address</Label>\n                           <textarea \n                              className=\"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n                              value={siteSettings.contactAddress} \n                              onChange={(e) => setSiteSettings({...siteSettings, contactAddress: e.target.value})}\n                              placeholder=\"123 Luxury Avenue, Suite 100&#10;New York, NY 10001&#10;United States\"\n                           />\n                        </div>\n                        <div className=\"space-y-2\">\n                           <Label>WhatsApp Number</Label>\n                           <Input \n                              type=\"tel\"\n                              value={siteSettings.whatsappNumber} \n                              onChange={(e) => setSiteSettings({...siteSettings, whatsappNumber: e.target.value})}\n                              placeholder=\"+1 (555) 123-4567\"\n                           />\n                           <p className=\"text-xs text-muted-foreground\">Include country code for WhatsApp click-to-chat.</p>\n                        </div>\n                     </CardContent>\n                  </Card>\n\n                  <Card>\n                     <CardHeader>\n                        <CardTitle>Social Media Links</CardTitle>\n                        <CardDescription>Connect your social media profiles.</CardDescription>\n                     </CardHeader>\n                     <CardContent className=\"space-y-4\">\n                        <div className=\"space-y-2\">\n                           <Label>Facebook</Label>\n                           <Input \n                              value={siteSettings.facebookUrl} \n                              onChange={(e) => setSiteSettings({...siteSettings, facebookUrl: e.target.value})}\n                              placeholder=\"https://facebook.com/voyagerhub\"\n                           />\n                        </div>\n                        <div className=\"space-y-2\">\n                           <Label>Instagram</Label>\n                           <Input \n                              value={siteSettings.instagramUrl} \n                              onChange={(e) => setSiteSettings({...siteSettings, instagramUrl: e.target.value})}\n                              placeholder=\"https://instagram.com/voyagerhub\"\n                           />\n                        </div>\n                        <div className=\"space-y-2\">\n                           <Label>Twitter / X</Label>\n                           <Input \n                              value={siteSettings.twitterUrl} \n                              onChange={(e) => setSiteSettings({...siteSettings, twitterUrl: e.target.value})}\n                              placeholder=\"https://twitter.com/voyagerhub\"\n                           />\n                        </div>\n                        <div className=\"space-y-2\">\n                           <Label>LinkedIn</Label>\n                           <Input \n                              value={siteSettings.linkedinUrl} \n                              onChange={(e) => setSiteSettings({...siteSettings, linkedinUrl: e.target.value})}\n                              placeholder=\"https://linkedin.com/company/voyagerhub\"\n                           />\n                        </div>\n                        <div className=\"space-y-2\">\n                           <Label>YouTube</Label>\n                           <Input \n                              value={siteSettings.youtubeUrl} \n                              onChange={(e) => setSiteSettings({...siteSettings, youtubeUrl: e.target.value})}\n                              placeholder=\"https://youtube.com/@voyagerhub\"\n                           />\n                        </div>\n                     </CardContent>\n                  </Card>\n               </div>\n               </>\n               )}\n               </>\n               )}\n\n               {settingsSubTab === \"payments\" && (\n                  <div className=\"space-y-6\">\n                     <Card>\n                        <CardHeader>\n                           <CardTitle>Payment Providers</CardTitle>\n                           <CardDescription>Configure payment gateway APIs for processing bookings.</CardDescription>\n                        </CardHeader>\n                        <CardContent className=\"space-y-6\">\n                           {loadingPaymentSettings ? (\n                              <div className=\"text-center py-8 text-muted-foreground\">\n                                 Loading payment settings...\n            </div>\n                           ) : paymentSettings.length === 0 ? (\n                              <div className=\"text-center py-8\">\n                                 <p className=\"text-muted-foreground mb-4\">No payment providers configured yet.</p>\n                                 <Button onClick={fetchPaymentSettings} variant=\"outline\">\n                                    Reload Settings\n                                 </Button>\n                              </div>\n                           ) : (\n                              paymentSettings.map((setting) => (\n                              <div key={setting.id} className=\"border rounded-lg p-4 space-y-4\">\n                                 <div className=\"flex items-center justify-between\">\n                                    <div>\n                                       <h3 className=\"font-semibold\">\n                                          {setting.provider === 'bank_transfer' ? 'Bank Transfer' : \n                                           setting.provider === 'stripe' ? 'Stripe' :\n                                           setting.provider === 'paypal' ? 'PayPal' :\n                                           setting.provider ? setting.provider.charAt(0).toUpperCase() + setting.provider.slice(1) : 'Unknown'}\n                                       </h3>\n                                       <p className=\"text-sm text-muted-foreground\">\n                                          {setting.enabled ? (\n                                             <span className=\"text-green-600\">Enabled</span>\n                                          ) : (\n                                             <span className=\"text-muted-foreground\">Disabled</span>\n                                          )}\n                                       </p>\n                                    </div>\n                                    <div className=\"flex items-center gap-2\">\n                                       <Label htmlFor={`enable-${setting.provider || setting.id}`}>Enable</Label>\n                                       <Switch\n                                          id={`enable-${setting.provider || setting.id}`}\n                                          checked={setting.enabled === true}\n                                          onCheckedChange={(checked) => {\n                                             if (!setting.provider) {\n                                                console.error('Cannot update setting without provider');\n                                                return;\n                                             }\n                                             const updated = { ...setting, enabled: checked };\n                                             setPaymentSettings(prev => prev.map(s => s.id === setting.id ? updated : s));\n                                             updatePaymentSetting(setting.provider, { enabled: checked });\n                                          }}\n                                       />\n                                    </div>\n                                 </div>\n\n                                 {setting.enabled && (\n                                    <div className=\"space-y-4 pt-4 border-t\">\n                                       {setting.provider === 'stripe' && (\n                                          <>\n                                             <div className=\"space-y-2\">\n                                                <Label>Stripe Publishable Key</Label>\n                                                <Input\n                                                   type=\"password\"\n                                                   value={setting.publishableKey || ''}\n                                                   onChange={(e) => {\n                                                      const updated = { ...setting, publishableKey: e.target.value };\n                                                      setPaymentSettings(prev => prev.map(s => s.id === setting.id ? updated : s));\n                                                   }}\n                                                   placeholder=\"pk_test_...\"\n                                                   onBlur={() => updatePaymentSetting(setting.provider, { publishableKey: setting.publishableKey })}\n                                                />\n                                                <p className=\"text-xs text-muted-foreground\">\n                                                   Get your keys from <a href=\"https://dashboard.stripe.com/test/apikeys\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-primary underline\">Stripe Dashboard</a>\n                                                </p>\n                                             </div>\n                                             <div className=\"space-y-2\">\n                                                <Label>Stripe Secret Key</Label>\n                                                <Input\n                                                   type=\"password\"\n                                                   value={setting.secretKey || ''}\n                                                   onChange={(e) => {\n                                                      const updated = { ...setting, secretKey: e.target.value };\n                                                      setPaymentSettings(prev => prev.map(s => s.id === setting.id ? updated : s));\n                                                   }}\n                                                   placeholder=\"sk_test_...\"\n                                                   onBlur={() => updatePaymentSetting(setting.provider, { secretKey: setting.secretKey })}\n                                                />\n                                                <p className=\"text-xs text-muted-foreground\">\n                                                   Keep this key secure. Never share it publicly.\n                                                </p>\n                                             </div>\n                                             <div className=\"space-y-2\">\n                                                <Label>Webhook Secret (Optional)</Label>\n                                                <Input\n                                                   type=\"password\"\n                                                   value={setting.webhookSecret || ''}\n                                                   onChange={(e) => {\n                                                      const updated = { ...setting, webhookSecret: e.target.value };\n                                                      setPaymentSettings(prev => prev.map(s => s.id === setting.id ? updated : s));\n                                                   }}\n                                                   placeholder=\"whsec_...\"\n                                                   onBlur={() => updatePaymentSetting(setting.provider, { webhookSecret: setting.webhookSecret })}\n                                                />\n                                                <p className=\"text-xs text-muted-foreground\">\n                                                   For handling Stripe webhook events\n                                                </p>\n                                             </div>\n                                          </>\n                                       )}\n\n                                       {(setting.provider === 'paypal' || setting.provider === 'square') && (\n                                          <>\n                                             <div className=\"space-y-2\">\n                                                <Label>{setting.provider === 'paypal' ? 'PayPal' : 'Square'} Client ID</Label>\n                                                <Input\n                                                   type=\"password\"\n                                                   value={setting.publishableKey || ''}\n                                                   onChange={(e) => {\n                                                      const updated = { ...setting, publishableKey: e.target.value };\n                                                      setPaymentSettings(prev => prev.map(s => s.id === setting.id ? updated : s));\n                                                   }}\n                                                   placeholder={`${setting.provider} client ID`}\n                                                   onBlur={() => updatePaymentSetting(setting.provider, { publishableKey: setting.publishableKey })}\n                                                />\n                                             </div>\n                                             <div className=\"space-y-2\">\n                                                <Label>{setting.provider === 'paypal' ? 'PayPal' : 'Square'} Secret Key</Label>\n                                                <Input\n                                                   type=\"password\"\n                                                   value={setting.secretKey || ''}\n                                                   onChange={(e) => {\n                                                      const updated = { ...setting, secretKey: e.target.value };\n                                                      setPaymentSettings(prev => prev.map(s => s.id === setting.id ? updated : s));\n                                                   }}\n                                                   placeholder={`${setting.provider} secret key`}\n                                                   onBlur={() => updatePaymentSetting(setting.provider, { secretKey: setting.secretKey })}\n                                                />\n                                             </div>\n                                          </>\n                                       )}\n\n                                       {setting.provider === 'bank_transfer' && (\n                                          <>\n                                             <div className=\"space-y-2\">\n                                                <Label>Bank Name</Label>\n                                                <Input\n                                                   value={setting.additionalConfig?.bankName || ''}\n                                                   onChange={(e) => {\n                                                      const updated = { \n                                                         ...setting, \n                                                         additionalConfig: { ...setting.additionalConfig, bankName: e.target.value }\n                                                      };\n                                                      setPaymentSettings(prev => prev.map(s => s.id === setting.id ? updated : s));\n                                                   }}\n                                                   placeholder=\"e.g., Chase Bank\"\n                                                   onBlur={() => updatePaymentSetting(setting.provider, { additionalConfig: setting.additionalConfig })}\n                                                />\n                                             </div>\n                                             <div className=\"space-y-2\">\n                                                <Label>Account Holder Name</Label>\n                                                <Input\n                                                   value={setting.additionalConfig?.accountHolderName || ''}\n                                                   onChange={(e) => {\n                                                      const updated = { \n                                                         ...setting, \n                                                         additionalConfig: { ...setting.additionalConfig, accountHolderName: e.target.value }\n                                                      };\n                                                      setPaymentSettings(prev => prev.map(s => s.id === setting.id ? updated : s));\n                                                   }}\n                                                   placeholder=\"Account holder full name\"\n                                                   onBlur={() => updatePaymentSetting(setting.provider, { additionalConfig: setting.additionalConfig })}\n                                                />\n                                             </div>\n                                             <div className=\"grid grid-cols-2 gap-4\">\n                                                <div className=\"space-y-2\">\n                                                   <Label>Account Number</Label>\n                                                   <Input\n                                                      value={setting.additionalConfig?.accountNumber || ''}\n                                                      onChange={(e) => {\n                                                         const updated = { \n                                                            ...setting, \n                                                            additionalConfig: { ...setting.additionalConfig, accountNumber: e.target.value }\n                                                         };\n                                                         setPaymentSettings(prev => prev.map(s => s.id === setting.id ? updated : s));\n                                                      }}\n                                                      placeholder=\"Account number\"\n                                                      onBlur={() => updatePaymentSetting(setting.provider, { additionalConfig: setting.additionalConfig })}\n                                                   />\n                                                </div>\n                                                <div className=\"space-y-2\">\n                                                   <Label>Routing Number</Label>\n                                                   <Input\n                                                      value={setting.additionalConfig?.routingNumber || ''}\n                                                      onChange={(e) => {\n                                                         const updated = { \n                                                            ...setting, \n                                                            additionalConfig: { ...setting.additionalConfig, routingNumber: e.target.value }\n                                                         };\n                                                         setPaymentSettings(prev => prev.map(s => s.id === setting.id ? updated : s));\n                                                      }}\n                                                      placeholder=\"Routing number\"\n                                                      onBlur={() => updatePaymentSetting(setting.provider, { additionalConfig: setting.additionalConfig })}\n                                                   />\n                                                </div>\n                                             </div>\n                                             <div className=\"grid grid-cols-2 gap-4\">\n                                                <div className=\"space-y-2\">\n                                                   <Label>SWIFT Code (Optional)</Label>\n                                                   <Input\n                                                      value={setting.additionalConfig?.swiftCode || ''}\n                                                      onChange={(e) => {\n                                                         const updated = { \n                                                            ...setting, \n                                                            additionalConfig: { ...setting.additionalConfig, swiftCode: e.target.value }\n                                                         };\n                                                         setPaymentSettings(prev => prev.map(s => s.id === setting.id ? updated : s));\n                                                      }}\n                                                      placeholder=\"SWIFT/BIC code\"\n                                                      onBlur={() => updatePaymentSetting(setting.provider, { additionalConfig: setting.additionalConfig })}\n                                                   />\n                                                </div>\n                                                <div className=\"space-y-2\">\n                                                   <Label>Bank Address (Optional)</Label>\n                                                   <Input\n                                                      value={setting.additionalConfig?.bankAddress || ''}\n                                                      onChange={(e) => {\n                                                         const updated = { \n                                                            ...setting, \n                                                            additionalConfig: { ...setting.additionalConfig, bankAddress: e.target.value }\n                                                         };\n                                                         setPaymentSettings(prev => prev.map(s => s.id === setting.id ? updated : s));\n                                                      }}\n                                                      placeholder=\"Bank address\"\n                                                      onBlur={() => updatePaymentSetting(setting.provider, { additionalConfig: setting.additionalConfig })}\n                                                   />\n                                                </div>\n                                             </div>\n                                             <div className=\"space-y-2\">\n                                                <Label>Payment Instructions</Label>\n                                                <textarea\n                                                   className=\"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm\"\n                                                   value={setting.additionalConfig?.instructions || ''}\n                                                   onChange={(e) => {\n                                                      const updated = { \n                                                         ...setting, \n                                                         additionalConfig: { ...setting.additionalConfig, instructions: e.target.value }\n                                                      };\n                                                      setPaymentSettings(prev => prev.map(s => s.id === setting.id ? updated : s));\n                                                   }}\n                                                   placeholder=\"Additional instructions for customers (e.g., Include booking reference in transfer memo)\"\n                                                   onBlur={() => updatePaymentSetting(setting.provider, { additionalConfig: setting.additionalConfig })}\n                                                />\n                                                <p className=\"text-xs text-muted-foreground\">\n                                                   These instructions will be shown to customers when they select bank transfer.\n                                                </p>\n                                             </div>\n                                          </>\n                                       )}\n\n                                       <div className=\"pt-2\">\n                                          <Button\n                                             variant=\"outline\"\n                                             size=\"sm\"\n                                             onClick={() => updatePaymentSetting(setting.provider, setting)}\n                                          >\n                                             Save {setting.provider} Settings\n                                          </Button>\n                                       </div>\n                                    </div>\n                                 )}\n                              </div>\n                              ))\n                           )}\n                        </CardContent>\n                     </Card>\n                  </div>\n               )}\n\n               {settingsSubTab === \"email\" && (\n                  <div className=\"space-y-6\">\n                     <Card>\n                        <CardHeader>\n                           <CardTitle>Email Configuration</CardTitle>\n                           <CardDescription>Configure SMTP settings for sending emails to subscribers.</CardDescription>\n                        </CardHeader>\n                        <CardContent className=\"space-y-6\">\n                           {loadingEmailSettings ? (\n                              <div className=\"text-center py-8 text-muted-foreground\">\n                                 Loading email settings...\n                              </div>\n                           ) : emailSettings ? (\n                              <>\n                                 <div className=\"flex items-center justify-between\">\n                                    <div>\n                                       <Label htmlFor=\"email-enabled\">Enable Email Sending</Label>\n                                       <p className=\"text-sm text-muted-foreground\">Enable or disable email functionality</p>\n                                    </div>\n                                    <Switch\n                                       id=\"email-enabled\"\n                                       checked={emailSettings.enabled || false}\n                                       onCheckedChange={(checked) => {\n                                          const updated = { ...emailSettings, enabled: checked };\n                                          setEmailSettings(updated);\n                                          updateEmailSettings({ enabled: checked });\n                                       }}\n                                    />\n                                 </div>\n\n                                 {emailSettings.enabled && (\n                                    <div className=\"space-y-4 pt-4 border-t\">\n                                       <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                          <div className=\"space-y-2\">\n                                             <Label>SMTP Host *</Label>\n                                             <Input\n                                                value={emailSettings.host || ''}\n                                                onChange={(e) => {\n                                                   const updated = { ...emailSettings, host: e.target.value };\n                                                   setEmailSettings(updated);\n                                                }}\n                                                placeholder=\"smtp.gmail.com\"\n                                                onBlur={() => updateEmailSettings({ host: emailSettings.host })}\n                                             />\n                                             <p className=\"text-xs text-muted-foreground\">SMTP server hostname</p>\n                                          </div>\n                                          <div className=\"space-y-2\">\n                                             <Label>SMTP Port *</Label>\n                                             <Input\n                                                type=\"number\"\n                                                value={emailSettings.port || 587}\n                                                onChange={(e) => {\n                                                   const updated = { ...emailSettings, port: parseInt(e.target.value) || 587 };\n                                                   setEmailSettings(updated);\n                                                }}\n                                                placeholder=\"587\"\n                                                onBlur={() => updateEmailSettings({ port: emailSettings.port })}\n                                             />\n                                             <p className=\"text-xs text-muted-foreground\">Common ports: 587 (TLS), 465 (SSL), 25</p>\n                                          </div>\n                                       </div>\n\n                                       <div className=\"flex items-center justify-between\">\n                                          <div>\n                                             <Label htmlFor=\"email-secure\">Use Secure Connection (SSL/TLS)</Label>\n                                             <p className=\"text-sm text-muted-foreground\">Enable for SSL/TLS encryption</p>\n                                          </div>\n                                          <Switch\n                                             id=\"email-secure\"\n                                             checked={emailSettings.secure || false}\n                                             onCheckedChange={(checked) => {\n                                                const updated = { ...emailSettings, secure: checked };\n                                                setEmailSettings(updated);\n                                                updateEmailSettings({ secure: checked });\n                                             }}\n                                          />\n                                       </div>\n\n                                       <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                          <div className=\"space-y-2\">\n                                             <Label>Username *</Label>\n                                             <Input\n                                                value={emailSettings.username || ''}\n                                                onChange={(e) => {\n                                                   const updated = { ...emailSettings, username: e.target.value };\n                                                   setEmailSettings(updated);\n                                                }}\n                                                placeholder=\"your-email@gmail.com\"\n                                                onBlur={() => updateEmailSettings({ username: emailSettings.username })}\n                                             />\n                                             <p className=\"text-xs text-muted-foreground\">SMTP authentication username</p>\n                                          </div>\n                                          <div className=\"space-y-2\">\n                                             <Label>Password *</Label>\n                                             <Input\n                                                type=\"password\"\n                                                value={emailSettings.password || ''}\n                                                onChange={(e) => {\n                                                   const updated = { ...emailSettings, password: e.target.value };\n                                                   setEmailSettings(updated);\n                                                }}\n                                                placeholder=\"Your email password or app password\"\n                                                onBlur={() => updateEmailSettings({ password: emailSettings.password })}\n                                             />\n                                             <p className=\"text-xs text-muted-foreground\">SMTP authentication password</p>\n                                          </div>\n                                       </div>\n\n                                       <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                          <div className=\"space-y-2\">\n                                             <Label>From Email *</Label>\n                                             <Input\n                                                type=\"email\"\n                                                value={emailSettings.fromEmail || ''}\n                                                onChange={(e) => {\n                                                   const updated = { ...emailSettings, fromEmail: e.target.value };\n                                                   setEmailSettings(updated);\n                                                }}\n                                                placeholder=\"noreply@yourdomain.com\"\n                                                onBlur={() => updateEmailSettings({ fromEmail: emailSettings.fromEmail })}\n                                             />\n                                             <p className=\"text-xs text-muted-foreground\">Email address that appears as sender</p>\n                                          </div>\n                                          <div className=\"space-y-2\">\n                                             <Label>From Name *</Label>\n                                             <Input\n                                                value={emailSettings.fromName || ''}\n                                                onChange={(e) => {\n                                                   const updated = { ...emailSettings, fromName: e.target.value };\n                                                   setEmailSettings(updated);\n                                                }}\n                                                placeholder=\"Voyager Hub\"\n                                                onBlur={() => updateEmailSettings({ fromName: emailSettings.fromName })}\n                                             />\n                                             <p className=\"text-xs text-muted-foreground\">Name that appears as sender</p>\n                                          </div>\n                                       </div>\n\n                                       <div className=\"bg-blue-50 border border-blue-200 rounded-md p-4 text-sm text-blue-800\">\n                                          <strong>Note:</strong> For Gmail, you may need to use an \"App Password\" instead of your regular password. Enable 2-factor authentication and generate an app password in your Google Account settings.\n                                       </div>\n                                    </div>\n                                 )}\n                              </>\n                           ) : (\n                              <div className=\"text-center py-8 text-muted-foreground\">\n                                 Failed to load email settings\n                              </div>\n                           )}\n                        </CardContent>\n                     </Card>\n                  </div>\n               )}\n            </div>\n          )}\n        </div>\n      </main>\n    </div>\n  );\n}","path":null,"size_bytes":229476,"size_tokens":null},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","path":null,"size_bytes":1723,"size_tokens":null},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","path":null,"size_bytes":3895,"size_tokens":null},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","path":null,"size_bytes":1148,"size_tokens":null},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { testConnection, initializeDatabase } from \"./db\";\nimport { stripe, convertPriceToCents } from \"./stripe\";\n\nexport async function registerRoutes(\n  httpServer: Server,\n  app: Express\n): Promise<Server> {\n  // Test MySQL connection and initialize database on startup\n  await testConnection();\n  await initializeDatabase();\n\n  // API Routes - prefix all routes with /api\n\n  // ============== SITEMAP ==============\n  app.get(\"/sitemap.xml\", async (req, res) => {\n    try {\n      const protocol = req.headers['x-forwarded-proto'] || req.protocol;\n      const baseUrl = `${protocol}://${req.get('host')}`;\n      \n      // Get all items for sitemap\n      const [trips, hotels, cars, offers] = await Promise.all([\n        storage.getTrips(),\n        storage.getHotels(),\n        storage.getCars(),\n        storage.getLastMinuteOffers()\n      ]);\n      \n      // Helper function to generate slug from title\n      const generateSlug = (title: string) => title.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/(^-|-$)/g, '');\n      \n      // Static pages\n      const staticPages = [\n        { url: '/', priority: '1.0', changefreq: 'daily' },\n        { url: '/trips', priority: '0.9', changefreq: 'daily' },\n        { url: '/hotels', priority: '0.9', changefreq: 'daily' },\n        { url: '/cars', priority: '0.9', changefreq: 'daily' },\n        { url: '/last-minute', priority: '0.9', changefreq: 'daily' },\n        { url: '/about', priority: '0.7', changefreq: 'monthly' },\n        { url: '/contact', priority: '0.7', changefreq: 'monthly' },\n        { url: '/support', priority: '0.6', changefreq: 'monthly' },\n      ];\n      \n      // Generate sitemap XML\n      let xml = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n';\n      xml += '<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\\n';\n      \n      // Add static pages\n      for (const page of staticPages) {\n        xml += `  <url>\\n`;\n        xml += `    <loc>${baseUrl}${page.url}</loc>\\n`;\n        xml += `    <priority>${page.priority}</priority>\\n`;\n        xml += `    <changefreq>${page.changefreq}</changefreq>\\n`;\n        xml += `  </url>\\n`;\n      }\n      \n      // Add trips\n      for (const trip of trips) {\n        const slug = generateSlug(trip.title);\n        xml += `  <url>\\n`;\n        xml += `    <loc>${baseUrl}/trips/${slug}</loc>\\n`;\n        xml += `    <priority>0.8</priority>\\n`;\n        xml += `    <changefreq>weekly</changefreq>\\n`;\n        xml += `  </url>\\n`;\n      }\n      \n      // Add hotels\n      for (const hotel of hotels) {\n        const slug = generateSlug(hotel.title);\n        xml += `  <url>\\n`;\n        xml += `    <loc>${baseUrl}/hotels/${slug}</loc>\\n`;\n        xml += `    <priority>0.8</priority>\\n`;\n        xml += `    <changefreq>weekly</changefreq>\\n`;\n        xml += `  </url>\\n`;\n      }\n      \n      // Add cars\n      for (const car of cars) {\n        const slug = generateSlug(car.title);\n        xml += `  <url>\\n`;\n        xml += `    <loc>${baseUrl}/cars/${slug}</loc>\\n`;\n        xml += `    <priority>0.8</priority>\\n`;\n        xml += `    <changefreq>weekly</changefreq>\\n`;\n        xml += `  </url>\\n`;\n      }\n      \n      // Add offers (uses /last-minute route)\n      for (const offer of offers) {\n        const slug = generateSlug(offer.title);\n        xml += `  <url>\\n`;\n        xml += `    <loc>${baseUrl}/last-minute/${slug}</loc>\\n`;\n        xml += `    <priority>0.8</priority>\\n`;\n        xml += `    <changefreq>daily</changefreq>\\n`;\n        xml += `  </url>\\n`;\n      }\n      \n      xml += '</urlset>';\n      \n      res.setHeader('Content-Type', 'application/xml');\n      res.setHeader('Cache-Control', 'public, max-age=3600');\n      res.send(xml);\n    } catch (error) {\n      console.error(\"Error generating sitemap:\", error);\n      res.status(500).send(\"Error generating sitemap\");\n    }\n  });\n\n  // ============== TRIPS ==============\n  app.get(\"/api/trips\", async (_req, res) => {\n    try {\n      const trips = await storage.getTrips();\n      res.json(trips);\n    } catch (error) {\n      console.error(\"Error fetching trips:\", error);\n      res.status(500).json({ message: \"Failed to fetch trips\" });\n    }\n  });\n\n  app.get(\"/api/trips/slug/:slug\", async (req, res) => {\n    try {\n      const trip = await storage.getTripBySlug(req.params.slug);\n      if (!trip) {\n        return res.status(404).json({ message: \"Trip not found\" });\n      }\n      res.json(trip);\n    } catch (error) {\n      console.error(\"Error fetching trip by slug:\", error);\n      res.status(500).json({ message: \"Failed to fetch trip\" });\n    }\n  });\n\n  app.get(\"/api/trips/:id\", async (req, res) => {\n    try {\n      const trip = await storage.getTripById(req.params.id);\n      if (!trip) {\n        return res.status(404).json({ message: \"Trip not found\" });\n      }\n      res.json(trip);\n    } catch (error) {\n      console.error(\"Error fetching trip:\", error);\n      res.status(500).json({ message: \"Failed to fetch trip\" });\n    }\n  });\n\n  app.post(\"/api/trips\", async (req, res) => {\n    try {\n      const trip = await storage.createTrip(req.body);\n      res.status(201).json(trip);\n    } catch (error) {\n      console.error(\"Error creating trip:\", error);\n      res.status(500).json({ message: \"Failed to create trip\" });\n    }\n  });\n\n  app.put(\"/api/trips/:id\", async (req, res) => {\n    try {\n      const trip = await storage.updateTrip(req.params.id, req.body);\n      if (!trip) {\n        return res.status(404).json({ message: \"Trip not found\" });\n      }\n      res.json(trip);\n    } catch (error) {\n      console.error(\"Error updating trip:\", error);\n      res.status(500).json({ message: \"Failed to update trip\" });\n    }\n  });\n\n  app.delete(\"/api/trips/:id\", async (req, res) => {\n    try {\n      const deleted = await storage.deleteTrip(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Trip not found\" });\n      }\n      res.json({ message: \"Trip deleted successfully\" });\n    } catch (error) {\n      console.error(\"Error deleting trip:\", error);\n      res.status(500).json({ message: \"Failed to delete trip\" });\n    }\n  });\n\n  // ============== HOTELS ==============\n  app.get(\"/api/hotels\", async (_req, res) => {\n    try {\n      const hotels = await storage.getHotels();\n      res.json(hotels);\n    } catch (error) {\n      console.error(\"Error fetching hotels:\", error);\n      res.status(500).json({ message: \"Failed to fetch hotels\" });\n    }\n  });\n\n  app.get(\"/api/hotels/slug/:slug\", async (req, res) => {\n    try {\n      const hotel = await storage.getHotelBySlug(req.params.slug);\n      if (!hotel) {\n        return res.status(404).json({ message: \"Hotel not found\" });\n      }\n      res.json(hotel);\n    } catch (error) {\n      console.error(\"Error fetching hotel by slug:\", error);\n      res.status(500).json({ message: \"Failed to fetch hotel\" });\n    }\n  });\n\n  app.get(\"/api/hotels/:id\", async (req, res) => {\n    try {\n      const hotel = await storage.getHotelById(req.params.id);\n      if (!hotel) {\n        return res.status(404).json({ message: \"Hotel not found\" });\n      }\n      res.json(hotel);\n    } catch (error) {\n      console.error(\"Error fetching hotel:\", error);\n      res.status(500).json({ message: \"Failed to fetch hotel\" });\n    }\n  });\n\n  app.post(\"/api/hotels\", async (req, res) => {\n    try {\n      const hotel = await storage.createHotel(req.body);\n      res.status(201).json(hotel);\n    } catch (error) {\n      console.error(\"Error creating hotel:\", error);\n      res.status(500).json({ message: \"Failed to create hotel\" });\n    }\n  });\n\n  app.put(\"/api/hotels/:id\", async (req, res) => {\n    try {\n      const hotel = await storage.updateHotel(req.params.id, req.body);\n      if (!hotel) {\n        return res.status(404).json({ message: \"Hotel not found\" });\n      }\n      res.json(hotel);\n    } catch (error) {\n      console.error(\"Error updating hotel:\", error);\n      res.status(500).json({ message: \"Failed to update hotel\" });\n    }\n  });\n\n  app.delete(\"/api/hotels/:id\", async (req, res) => {\n    try {\n      const deleted = await storage.deleteHotel(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Hotel not found\" });\n      }\n      res.json({ message: \"Hotel deleted successfully\" });\n    } catch (error) {\n      console.error(\"Error deleting hotel:\", error);\n      res.status(500).json({ message: \"Failed to delete hotel\" });\n    }\n  });\n\n  // ============== ROOM TYPES ==============\n  app.get(\"/api/hotels/:hotelId/room-types\", async (req, res) => {\n    try {\n      const roomTypes = await storage.getRoomTypes(req.params.hotelId);\n      res.json(roomTypes);\n    } catch (error) {\n      console.error(\"Error fetching room types:\", error);\n      res.status(500).json({ message: \"Failed to fetch room types\" });\n    }\n  });\n\n  app.post(\"/api/hotels/:hotelId/room-types\", async (req, res) => {\n    try {\n      const roomType = await storage.createRoomType({\n        ...req.body,\n        hotelId: req.params.hotelId\n      });\n      res.status(201).json(roomType);\n    } catch (error) {\n      console.error(\"Error creating room type:\", error);\n      res.status(500).json({ message: \"Failed to create room type\" });\n    }\n  });\n\n  app.put(\"/api/room-types/:id\", async (req, res) => {\n    try {\n      const roomType = await storage.updateRoomType(req.params.id, req.body);\n      if (!roomType) {\n        return res.status(404).json({ message: \"Room type not found\" });\n      }\n      res.json(roomType);\n    } catch (error) {\n      console.error(\"Error updating room type:\", error);\n      res.status(500).json({ message: \"Failed to update room type\" });\n    }\n  });\n\n  app.delete(\"/api/room-types/:id\", async (req, res) => {\n    try {\n      const deleted = await storage.deleteRoomType(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Room type not found\" });\n      }\n      res.json({ message: \"Room type deleted successfully\" });\n    } catch (error) {\n      console.error(\"Error deleting room type:\", error);\n      res.status(500).json({ message: \"Failed to delete room type\" });\n    }\n  });\n\n  // ============== CARS ==============\n  app.get(\"/api/cars\", async (_req, res) => {\n    try {\n      const cars = await storage.getCars();\n      res.json(cars);\n    } catch (error) {\n      console.error(\"Error fetching cars:\", error);\n      res.status(500).json({ message: \"Failed to fetch cars\" });\n    }\n  });\n\n  app.get(\"/api/cars/slug/:slug\", async (req, res) => {\n    try {\n      const car = await storage.getCarBySlug(req.params.slug);\n      if (!car) {\n        return res.status(404).json({ message: \"Car not found\" });\n      }\n      res.json(car);\n    } catch (error) {\n      console.error(\"Error fetching car by slug:\", error);\n      res.status(500).json({ message: \"Failed to fetch car\" });\n    }\n  });\n\n  app.get(\"/api/cars/:id\", async (req, res) => {\n    try {\n      const car = await storage.getCarById(req.params.id);\n      if (!car) {\n        return res.status(404).json({ message: \"Car not found\" });\n      }\n      res.json(car);\n    } catch (error) {\n      console.error(\"Error fetching car:\", error);\n      res.status(500).json({ message: \"Failed to fetch car\" });\n    }\n  });\n\n  app.post(\"/api/cars\", async (req, res) => {\n    try {\n      const car = await storage.createCar(req.body);\n      res.status(201).json(car);\n    } catch (error) {\n      console.error(\"Error creating car:\", error);\n      res.status(500).json({ message: \"Failed to create car\" });\n    }\n  });\n\n  app.put(\"/api/cars/:id\", async (req, res) => {\n    try {\n      const car = await storage.updateCar(req.params.id, req.body);\n      if (!car) {\n        return res.status(404).json({ message: \"Car not found\" });\n      }\n      res.json(car);\n    } catch (error) {\n      console.error(\"Error updating car:\", error);\n      res.status(500).json({ message: \"Failed to update car\" });\n    }\n  });\n\n  app.delete(\"/api/cars/:id\", async (req, res) => {\n    try {\n      const deleted = await storage.deleteCar(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Car not found\" });\n      }\n      res.json({ message: \"Car deleted successfully\" });\n    } catch (error) {\n      console.error(\"Error deleting car:\", error);\n      res.status(500).json({ message: \"Failed to delete car\" });\n    }\n  });\n\n  // ============== LAST MINUTE OFFERS ==============\n  app.get(\"/api/last-minute-offers\", async (_req, res) => {\n    try {\n      const offers = await storage.getLastMinuteOffers();\n      res.json(offers);\n    } catch (error) {\n      console.error(\"Error fetching last minute offers:\", error);\n      res.status(500).json({ message: \"Failed to fetch last minute offers\" });\n    }\n  });\n\n  app.get(\"/api/last-minute-offers/slug/:slug\", async (req, res) => {\n    try {\n      const offer = await storage.getLastMinuteOfferBySlug(req.params.slug);\n      if (!offer) {\n        return res.status(404).json({ message: \"Offer not found\" });\n      }\n      res.json(offer);\n    } catch (error) {\n      console.error(\"Error fetching offer by slug:\", error);\n      res.status(500).json({ message: \"Failed to fetch offer\" });\n    }\n  });\n\n  app.post(\"/api/last-minute-offers\", async (req, res) => {\n    try {\n      const offer = await storage.createOffer(req.body);\n      res.status(201).json(offer);\n    } catch (error) {\n      console.error(\"Error creating offer:\", error);\n      res.status(500).json({ message: \"Failed to create offer\" });\n    }\n  });\n\n  app.put(\"/api/last-minute-offers/:id\", async (req, res) => {\n    try {\n      const offer = await storage.updateOffer(req.params.id, req.body);\n      if (!offer) {\n        return res.status(404).json({ message: \"Offer not found\" });\n      }\n      res.json(offer);\n    } catch (error) {\n      console.error(\"Error updating offer:\", error);\n      res.status(500).json({ message: \"Failed to update offer\" });\n    }\n  });\n\n  app.delete(\"/api/last-minute-offers/:id\", async (req, res) => {\n    try {\n      const deleted = await storage.deleteOffer(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Offer not found\" });\n      }\n      res.json({ message: \"Offer deleted successfully\" });\n    } catch (error) {\n      console.error(\"Error deleting offer:\", error);\n      res.status(500).json({ message: \"Failed to delete offer\" });\n    }\n  });\n\n  // ============== BOOKINGS ==============\n  app.get(\"/api/bookings\", async (_req, res) => {\n    try {\n      const bookings = await storage.getBookings();\n      res.json(bookings);\n    } catch (error) {\n      console.error(\"Error fetching bookings:\", error);\n      res.status(500).json({ message: \"Failed to fetch bookings\" });\n    }\n  });\n\n  // ============== STRIPE PAYMENTS ==============\n  app.post(\"/api/create-payment-intent\", async (req, res) => {\n    try {\n      const { getStripeInstance } = await import('./stripe');\n      const stripe = await getStripeInstance();\n      \n      if (!stripe) {\n        return res.status(503).json({ \n          message: \"Stripe is not configured. Please configure payment settings in admin panel.\" \n        });\n      }\n\n      const { amount, currency = \"usd\", metadata = {} } = req.body;\n      \n      if (!amount) {\n        return res.status(400).json({ message: \"Amount is required\" });\n      }\n\n      const amountInCents = typeof amount === 'string' ? convertPriceToCents(amount) : amount;\n\n      const paymentIntent = await stripe.paymentIntents.create({\n        amount: amountInCents,\n        currency: currency.toLowerCase(),\n        metadata: metadata,\n        automatic_payment_methods: {\n          enabled: true,\n        },\n      });\n\n      res.json({\n        clientSecret: paymentIntent.client_secret,\n        paymentIntentId: paymentIntent.id,\n      });\n    } catch (error: any) {\n      console.error(\"Error creating payment intent:\", error);\n      res.status(500).json({ \n        message: \"Failed to create payment intent\",\n        error: error.message \n      });\n    }\n  });\n\n  app.post(\"/api/confirm-payment\", async (req, res) => {\n    try {\n      const { getStripeInstance } = await import('./stripe');\n      const stripe = await getStripeInstance();\n      \n      if (!stripe) {\n        return res.status(503).json({ \n          message: \"Stripe is not configured. Please configure payment settings in admin panel.\" \n        });\n      }\n\n      const { paymentIntentId } = req.body;\n      \n      if (!paymentIntentId) {\n        return res.status(400).json({ message: \"Payment intent ID is required\" });\n      }\n\n      const paymentIntent = await stripe.paymentIntents.retrieve(paymentIntentId);\n\n      if (paymentIntent.status === 'succeeded') {\n        res.json({ \n          success: true, \n          paymentIntent: {\n            id: paymentIntent.id,\n            status: paymentIntent.status,\n            amount: paymentIntent.amount,\n            currency: paymentIntent.currency,\n          }\n        });\n      } else {\n        res.status(400).json({ \n          success: false, \n          message: `Payment not completed. Status: ${paymentIntent.status}` \n        });\n      }\n    } catch (error: any) {\n      console.error(\"Error confirming payment:\", error);\n      res.status(500).json({ \n        message: \"Failed to confirm payment\",\n        error: error.message \n      });\n    }\n  });\n\n  app.post(\"/api/bookings\", async (req, res) => {\n    try {\n      const booking = await storage.createBooking(req.body);\n      res.status(201).json(booking);\n    } catch (error) {\n      console.error(\"Error creating booking:\", error);\n      res.status(500).json({ message: \"Failed to create booking\" });\n    }\n  });\n\n  app.put(\"/api/bookings/:id\", async (req, res) => {\n    try {\n      const booking = await storage.updateBooking(req.params.id, req.body);\n      if (!booking) {\n        return res.status(404).json({ message: \"Booking not found\" });\n      }\n      res.json(booking);\n    } catch (error) {\n      console.error(\"Error updating booking:\", error);\n      res.status(500).json({ message: \"Failed to update booking\" });\n    }\n  });\n\n  app.delete(\"/api/bookings/:id\", async (req, res) => {\n    try {\n      const deleted = await storage.deleteBooking(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Booking not found\" });\n      }\n      res.json({ message: \"Booking deleted successfully\" });\n    } catch (error) {\n      console.error(\"Error deleting booking:\", error);\n      res.status(500).json({ message: \"Failed to delete booking\" });\n    }\n  });\n\n  app.patch(\"/api/bookings/:id/payment-status\", async (req, res) => {\n    try {\n      const { paymentStatus } = req.body;\n      if (!paymentStatus) {\n        return res.status(400).json({ message: \"Payment status is required\" });\n      }\n      const booking = await storage.updatePaymentStatus(req.params.id, paymentStatus);\n      if (!booking) {\n        return res.status(404).json({ message: \"Booking not found\" });\n      }\n      res.json(booking);\n    } catch (error) {\n      console.error(\"Error updating payment status:\", error);\n      res.status(500).json({ message: \"Failed to update payment status\" });\n    }\n  });\n\n  // ============== REVIEWS ==============\n  app.get(\"/api/reviews\", async (_req, res) => {\n    try {\n      const reviews = await storage.getReviews();\n      res.json(reviews);\n    } catch (error) {\n      console.error(\"Error fetching reviews:\", error);\n      res.status(500).json({ message: \"Failed to fetch reviews\" });\n    }\n  });\n\n  app.get(\"/api/reviews/:itemType/:itemId\", async (req, res) => {\n    try {\n      const reviews = await storage.getReviewsByItem(req.params.itemId, req.params.itemType);\n      res.json(reviews);\n    } catch (error) {\n      console.error(\"Error fetching reviews:\", error);\n      res.status(500).json({ message: \"Failed to fetch reviews\" });\n    }\n  });\n\n  app.get(\"/api/reviews/:itemType/:itemId/approved\", async (req, res) => {\n    try {\n      const reviews = await storage.getApprovedReviewsByItem(req.params.itemId, req.params.itemType);\n      res.json(reviews);\n    } catch (error) {\n      console.error(\"Error fetching approved reviews:\", error);\n      res.status(500).json({ message: \"Failed to fetch approved reviews\" });\n    }\n  });\n\n  app.post(\"/api/reviews\", async (req, res) => {\n    try {\n      const review = await storage.createReview(req.body);\n      res.status(201).json(review);\n    } catch (error) {\n      console.error(\"Error creating review:\", error);\n      res.status(500).json({ message: \"Failed to create review\" });\n    }\n  });\n\n  app.put(\"/api/reviews/:id\", async (req, res) => {\n    try {\n      const review = await storage.updateReview(req.params.id, req.body);\n      if (!review) {\n        return res.status(404).json({ message: \"Review not found\" });\n      }\n      res.json(review);\n    } catch (error) {\n      console.error(\"Error updating review:\", error);\n      res.status(500).json({ message: \"Failed to update review\" });\n    }\n  });\n\n  app.put(\"/api/reviews/:id/status\", async (req, res) => {\n    try {\n      const { status } = req.body;\n      const review = await storage.updateReviewStatus(req.params.id, status);\n      if (!review) {\n        return res.status(404).json({ message: \"Review not found\" });\n      }\n      res.json(review);\n    } catch (error) {\n      console.error(\"Error updating review:\", error);\n      res.status(500).json({ message: \"Failed to update review\" });\n    }\n  });\n\n  app.delete(\"/api/reviews/:id\", async (req, res) => {\n    try {\n      const deleted = await storage.deleteReview(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Review not found\" });\n      }\n      res.json({ message: \"Review deleted successfully\" });\n    } catch (error) {\n      console.error(\"Error deleting review:\", error);\n      res.status(500).json({ message: \"Failed to delete review\" });\n    }\n  });\n\n  // ============== SUPPORT TICKETS ==============\n  app.get(\"/api/tickets\", async (_req, res) => {\n    try {\n      const tickets = await storage.getTickets();\n      res.json(tickets);\n    } catch (error) {\n      console.error(\"Error fetching tickets:\", error);\n      res.status(500).json({ message: \"Failed to fetch tickets\" });\n    }\n  });\n\n  app.get(\"/api/tickets/user/:userEmail\", async (req, res) => {\n    try {\n      const tickets = await storage.getTicketsByUser(req.params.userEmail);\n      res.json(tickets);\n    } catch (error) {\n      console.error(\"Error fetching user tickets:\", error);\n      res.status(500).json({ message: \"Failed to fetch user tickets\" });\n    }\n  });\n\n  app.get(\"/api/tickets/:id\", async (req, res) => {\n    try {\n      const ticket = await storage.getTicketById(req.params.id);\n      if (!ticket) {\n        return res.status(404).json({ message: \"Ticket not found\" });\n      }\n      res.json(ticket);\n    } catch (error) {\n      console.error(\"Error fetching ticket:\", error);\n      res.status(500).json({ message: \"Failed to fetch ticket\" });\n    }\n  });\n\n  app.post(\"/api/tickets\", async (req, res) => {\n    try {\n      const ticket = await storage.createTicket(req.body);\n      res.status(201).json(ticket);\n    } catch (error) {\n      console.error(\"Error creating ticket:\", error);\n      res.status(500).json({ message: \"Failed to create ticket\" });\n    }\n  });\n\n  app.put(\"/api/tickets/:id/status\", async (req, res) => {\n    try {\n      const { status } = req.body;\n      const ticket = await storage.updateTicketStatus(req.params.id, status);\n      if (!ticket) {\n        return res.status(404).json({ message: \"Ticket not found\" });\n      }\n      res.json(ticket);\n    } catch (error) {\n      console.error(\"Error updating ticket status:\", error);\n      res.status(500).json({ message: \"Failed to update ticket status\" });\n    }\n  });\n\n  app.post(\"/api/tickets/:id/replies\", async (req, res) => {\n    try {\n      const reply = await storage.addTicketReply(req.params.id, req.body);\n      res.status(201).json(reply);\n    } catch (error) {\n      console.error(\"Error adding ticket reply:\", error);\n      res.status(500).json({ message: \"Failed to add ticket reply\" });\n    }\n  });\n\n  app.delete(\"/api/tickets/:id\", async (req, res) => {\n    try {\n      const deleted = await storage.deleteTicket(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Ticket not found\" });\n      }\n      res.json({ message: \"Ticket deleted successfully\" });\n    } catch (error) {\n      console.error(\"Error deleting ticket:\", error);\n      res.status(500).json({ message: \"Failed to delete ticket\" });\n    }\n  });\n\n  // ============== PAYMENT SETTINGS ==============\n  app.get(\"/api/payment-settings\", async (_req, res) => {\n    try {\n      const settings = await storage.getPaymentSettings();\n      res.json(settings);\n    } catch (error) {\n      console.error(\"Error fetching payment settings:\", error);\n      res.status(500).json({ message: \"Failed to fetch payment settings\" });\n    }\n  });\n\n  // Public endpoint for checkout - returns only enabled payment methods\n  app.get(\"/api/payment-options\", async (_req, res) => {\n    try {\n      const settings = await storage.getPaymentSettings();\n      const enabledMethods = settings\n        .filter((s: any) => s.enabled)\n        .map((s: any) => ({\n          provider: s.provider,\n          name: s.provider === 'stripe' ? 'Credit/Debit Card' :\n                s.provider === 'paypal' ? 'PayPal' :\n                s.provider === 'bank_transfer' ? 'Bank Transfer' : s.provider,\n          ...(s.provider === 'bank_transfer' && s.additionalConfig ? { bankDetails: s.additionalConfig } : {})\n        }));\n      res.json(enabledMethods);\n    } catch (error) {\n      console.error(\"Error fetching payment options:\", error);\n      res.status(500).json({ message: \"Failed to fetch payment options\" });\n    }\n  });\n\n  app.get(\"/api/payment-settings/:provider\", async (req, res) => {\n    try {\n      const setting = await storage.getPaymentSettingByProvider(req.params.provider);\n      if (!setting) {\n        return res.status(404).json({ message: \"Payment provider not found\" });\n      }\n      res.json(setting);\n    } catch (error) {\n      console.error(\"Error fetching payment setting:\", error);\n      res.status(500).json({ message: \"Failed to fetch payment setting\" });\n    }\n  });\n\n  app.put(\"/api/payment-settings/:provider\", async (req, res) => {\n    try {\n      const updated = await storage.updatePaymentSettings(req.params.provider, req.body);\n      if (!updated) {\n        return res.status(404).json({ message: \"Payment provider not found\" });\n      }\n      res.json(updated);\n    } catch (error) {\n      console.error(\"Error updating payment settings:\", error);\n      res.status(500).json({ message: \"Failed to update payment settings\" });\n    }\n  });\n\n  // ============== SUBSCRIBERS ==============\n  app.get(\"/api/subscribers\", async (_req, res) => {\n    try {\n      const subscribers = await storage.getSubscribers();\n      res.json(subscribers);\n    } catch (error) {\n      console.error(\"Error fetching subscribers:\", error);\n      res.status(500).json({ message: \"Failed to fetch subscribers\" });\n    }\n  });\n\n  app.post(\"/api/subscribers\", async (req, res) => {\n    try {\n      const { email, name } = req.body;\n      if (!email) {\n        return res.status(400).json({ message: \"Email is required\" });\n      }\n      const subscriber = await storage.createSubscriber(email, name);\n      res.status(201).json(subscriber);\n    } catch (error) {\n      console.error(\"Error creating subscriber:\", error);\n      res.status(500).json({ message: \"Failed to create subscriber\" });\n    }\n  });\n\n  app.delete(\"/api/subscribers/:id\", async (req, res) => {\n    try {\n      const deleted = await storage.deleteSubscriber(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Subscriber not found\" });\n      }\n      res.json({ message: \"Subscriber deleted successfully\" });\n    } catch (error) {\n      console.error(\"Error deleting subscriber:\", error);\n      res.status(500).json({ message: \"Failed to delete subscriber\" });\n    }\n  });\n\n  app.post(\"/api/subscribers/unsubscribe\", async (req, res) => {\n    try {\n      const { email } = req.body;\n      if (!email) {\n        return res.status(400).json({ message: \"Email is required\" });\n      }\n      const success = await storage.unsubscribeSubscriber(email);\n      if (!success) {\n        return res.status(404).json({ message: \"Subscriber not found\" });\n      }\n      res.json({ message: \"Unsubscribed successfully\" });\n    } catch (error) {\n      console.error(\"Error unsubscribing:\", error);\n      res.status(500).json({ message: \"Failed to unsubscribe\" });\n    }\n  });\n\n  // ============== EMAIL TEMPLATES ==============\n  app.get(\"/api/email-templates\", async (_req, res) => {\n    try {\n      const templates = await storage.getEmailTemplates();\n      res.json(templates);\n    } catch (error) {\n      console.error(\"Error fetching email templates:\", error);\n      res.status(500).json({ message: \"Failed to fetch email templates\" });\n    }\n  });\n\n  app.get(\"/api/email-templates/:id\", async (req, res) => {\n    try {\n      const template = await storage.getEmailTemplateById(req.params.id);\n      if (!template) {\n        return res.status(404).json({ message: \"Email template not found\" });\n      }\n      res.json(template);\n    } catch (error) {\n      console.error(\"Error fetching email template:\", error);\n      res.status(500).json({ message: \"Failed to fetch email template\" });\n    }\n  });\n\n  app.post(\"/api/email-templates\", async (req, res) => {\n    try {\n      const template = await storage.createEmailTemplate(req.body);\n      res.status(201).json(template);\n    } catch (error) {\n      console.error(\"Error creating email template:\", error);\n      res.status(500).json({ message: \"Failed to create email template\" });\n    }\n  });\n\n  app.put(\"/api/email-templates/:id\", async (req, res) => {\n    try {\n      const updated = await storage.updateEmailTemplate(req.params.id, req.body);\n      if (!updated) {\n        return res.status(404).json({ message: \"Email template not found\" });\n      }\n      res.json(updated);\n    } catch (error) {\n      console.error(\"Error updating email template:\", error);\n      res.status(500).json({ message: \"Failed to update email template\" });\n    }\n  });\n\n  app.delete(\"/api/email-templates/:id\", async (req, res) => {\n    try {\n      const deleted = await storage.deleteEmailTemplate(req.params.id);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Email template not found\" });\n      }\n      res.json({ message: \"Email template deleted successfully\" });\n    } catch (error) {\n      console.error(\"Error deleting email template:\", error);\n      res.status(500).json({ message: \"Failed to delete email template\" });\n    }\n  });\n\n  // ============== SEND EMAILS ==============\n  app.post(\"/api/send-emails\", async (req, res) => {\n    try {\n      const { subscriberIds, templateId, subject, body, variables } = req.body;\n      \n      if (!subscriberIds || !Array.isArray(subscriberIds) || subscriberIds.length === 0) {\n        return res.status(400).json({ message: \"Subscriber IDs are required\" });\n      }\n\n      // Get all subscribers\n      const allSubscribers = await storage.getSubscribers();\n      const activeSubscribers = allSubscribers.filter(s => s.status === 'active');\n      \n      // If subscriberIds includes \"all\", send to all active subscribers\n      const targetSubscribers = subscriberIds.includes('all') \n        ? activeSubscribers \n        : activeSubscribers.filter(s => subscriberIds.includes(s.id));\n\n      if (targetSubscribers.length === 0) {\n        return res.status(400).json({ message: \"No active subscribers found\" });\n      }\n\n      // Get template if provided\n      let emailSubject = subject;\n      let emailBody = body;\n      if (templateId) {\n        const template = await storage.getEmailTemplateById(templateId);\n        if (template) {\n          emailSubject = template.subject;\n          emailBody = template.body;\n        }\n      }\n\n      // Replace variables in subject and body\n      const replaceVariables = (text: string, vars: Record<string, string>) => {\n        let result = text;\n        Object.keys(vars).forEach(key => {\n          const regex = new RegExp(`{{${key}}}`, 'g');\n          result = result.replace(regex, vars[key] || '');\n        });\n        return result;\n      };\n\n      // For now, we'll just log the emails (in production, you'd use nodemailer or similar)\n      const emailResults = targetSubscribers.map(subscriber => {\n        const vars = {\n          ...variables,\n          name: subscriber.name || subscriber.email.split('@')[0],\n          email: subscriber.email,\n          companyName: 'Voyager Hub'\n        };\n        \n        const finalSubject = replaceVariables(emailSubject, vars);\n        const finalBody = replaceVariables(emailBody, vars);\n        \n        console.log(`ðŸ“§ Email to ${subscriber.email}:`);\n        console.log(`   Subject: ${finalSubject}`);\n        console.log(`   Body: ${finalBody.substring(0, 100)}...`);\n        \n        return {\n          email: subscriber.email,\n          status: 'sent',\n          subject: finalSubject\n        };\n      });\n\n      res.json({\n        message: `Emails sent to ${emailResults.length} subscribers`,\n        results: emailResults\n      });\n    } catch (error) {\n      console.error(\"Error sending emails:\", error);\n      res.status(500).json({ message: \"Failed to send emails\" });\n    }\n  });\n\n  // ============== EMAIL SETTINGS ==============\n  app.get(\"/api/email-settings\", async (_req, res) => {\n    try {\n      const settings = await storage.getEmailSettings();\n      if (!settings) {\n        return res.status(404).json({ message: \"Email settings not found\" });\n      }\n      res.json(settings);\n    } catch (error) {\n      console.error(\"Error fetching email settings:\", error);\n      res.status(500).json({ message: \"Failed to fetch email settings\" });\n    }\n  });\n\n  app.put(\"/api/email-settings\", async (req, res) => {\n    try {\n      const updated = await storage.updateEmailSettings(req.body);\n      if (!updated) {\n        return res.status(500).json({ message: \"Failed to update email settings\" });\n      }\n      res.json(updated);\n    } catch (error) {\n      console.error(\"Error updating email settings:\", error);\n      res.status(500).json({ message: \"Failed to update email settings\" });\n    }\n  });\n\n  // ============== SITE SETTINGS ==============\n  app.get(\"/api/site-settings\", async (_req, res) => {\n    try {\n      const settings = await storage.getSiteSettings();\n      res.json(settings);\n    } catch (error) {\n      console.error(\"Error fetching site settings:\", error);\n      res.status(500).json({ message: \"Failed to fetch site settings\" });\n    }\n  });\n\n  app.put(\"/api/site-settings\", async (req, res) => {\n    try {\n      const updated = await storage.updateSiteSettings(req.body);\n      res.json(updated);\n    } catch (error) {\n      console.error(\"Error updating site settings:\", error);\n      res.status(500).json({ message: \"Failed to update site settings\" });\n    }\n  });\n\n  // ============== USER PAYMENT METHODS ==============\n  app.get(\"/api/users/:userId/payment-methods\", async (req, res) => {\n    try {\n      const methods = await storage.getUserPaymentMethods(req.params.userId);\n      res.json(methods);\n    } catch (error) {\n      console.error(\"Error fetching payment methods:\", error);\n      res.status(500).json({ message: \"Failed to fetch payment methods\" });\n    }\n  });\n\n  app.post(\"/api/users/:userId/payment-methods\", async (req, res) => {\n    try {\n      const method = await storage.addUserPaymentMethod(req.params.userId, req.body);\n      res.json(method);\n    } catch (error) {\n      console.error(\"Error adding payment method:\", error);\n      res.status(500).json({ message: \"Failed to add payment method\" });\n    }\n  });\n\n  app.delete(\"/api/users/:userId/payment-methods/:cardId\", async (req, res) => {\n    try {\n      const deleted = await storage.deleteUserPaymentMethod(req.params.userId, req.params.cardId);\n      if (!deleted) {\n        return res.status(404).json({ message: \"Payment method not found\" });\n      }\n      res.json({ message: \"Payment method deleted\" });\n    } catch (error) {\n      console.error(\"Error deleting payment method:\", error);\n      res.status(500).json({ message: \"Failed to delete payment method\" });\n    }\n  });\n\n  app.put(\"/api/users/:userId/payment-methods/:cardId/default\", async (req, res) => {\n    try {\n      const updated = await storage.setDefaultPaymentMethod(req.params.userId, req.params.cardId);\n      res.json({ success: updated });\n    } catch (error) {\n      console.error(\"Error setting default payment method:\", error);\n      res.status(500).json({ message: \"Failed to set default payment method\" });\n    }\n  });\n\n  // ============== USER REWARDS ==============\n  app.get(\"/api/users/:userId/rewards\", async (req, res) => {\n    try {\n      const rewards = await storage.getUserRewards(req.params.userId);\n      res.json(rewards);\n    } catch (error) {\n      console.error(\"Error fetching rewards:\", error);\n      res.status(500).json({ message: \"Failed to fetch rewards\" });\n    }\n  });\n\n  app.put(\"/api/users/:userId/rewards\", async (req, res) => {\n    try {\n      const updated = await storage.updateUserRewards(req.params.userId, req.body);\n      res.json(updated);\n    } catch (error) {\n      console.error(\"Error updating rewards:\", error);\n      res.status(500).json({ message: \"Failed to update rewards\" });\n    }\n  });\n\n  app.post(\"/api/users/:userId/rewards/add-points\", async (req, res) => {\n    try {\n      const { points, type, description, bookingId } = req.body;\n      const result = await storage.addRewardPoints(req.params.userId, points, type, description, bookingId);\n      res.json(result);\n    } catch (error) {\n      console.error(\"Error adding reward points:\", error);\n      res.status(500).json({ message: \"Failed to add reward points\" });\n    }\n  });\n\n  app.get(\"/api/users/:userId/rewards/transactions\", async (req, res) => {\n    try {\n      const transactions = await storage.getRewardTransactions(req.params.userId);\n      res.json(transactions);\n    } catch (error) {\n      console.error(\"Error fetching reward transactions:\", error);\n      res.status(500).json({ message: \"Failed to fetch reward transactions\" });\n    }\n  });\n\n  // ============== REVIEW STATS ==============\n  app.get(\"/api/review-stats/:itemType/:itemId\", async (req, res) => {\n    try {\n      const stats = await storage.getItemReviewStats(req.params.itemId, req.params.itemType);\n      res.json(stats);\n    } catch (error) {\n      console.error(\"Error fetching review stats:\", error);\n      res.status(500).json({ message: \"Failed to fetch review stats\" });\n    }\n  });\n\n  return httpServer;\n}\n","path":null,"size_bytes":38793,"size_tokens":null},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","path":null,"size_bytes":1642,"size_tokens":null},"server/stripe.ts":{"content":"import Stripe from 'stripe';\nimport { storage } from './storage';\n\n// Initialize Stripe - will be updated from database\nlet stripeInstance: Stripe | null = null;\n\nexport async function getStripeInstance(): Promise<Stripe | null> {\n  try {\n    const stripeSettings = await storage.getPaymentSettingByProvider('stripe');\n    \n    if (!stripeSettings || !stripeSettings.enabled || !stripeSettings.secretKey) {\n      return null;\n    }\n\n    // Create new instance if settings changed or don't exist\n    // Check if we need to recreate the instance by comparing keys\n    const currentKey = (stripeInstance as any)?._api?.auth?.[0] || '';\n    if (!stripeInstance || currentKey !== stripeSettings.secretKey) {\n      stripeInstance = new Stripe(stripeSettings.secretKey, {\n        apiVersion: '2025-11-17.clover',\n      });\n    }\n\n    return stripeInstance;\n  } catch (error) {\n    console.error('Error initializing Stripe:', error);\n    return null;\n  }\n}\n\n// Legacy export for backward compatibility (uses env var as fallback)\nexport const stripe = (async () => {\n  const instance = await getStripeInstance();\n  if (instance) return instance;\n  \n  // Fallback to environment variable if database doesn't have settings\n  const stripeSecretKey = process.env.STRIPE_SECRET_KEY;\n  if (stripeSecretKey) {\n    return new Stripe(stripeSecretKey, {\n      apiVersion: '2025-11-17.clover',\n    });\n  }\n  \n  return null;\n})();\n\n// Helper function to convert price string to cents (Stripe uses cents)\nexport function convertPriceToCents(priceString: string): number {\n  // Remove currency symbols and extract number\n  const numericValue = parseFloat(priceString.replace(/[^0-9.]/g, ''));\n  // Convert to cents (multiply by 100)\n  return Math.round(numericValue * 100);\n}\n\n","path":null,"size_bytes":1754,"size_tokens":null},"client/src/components/trip-card.tsx":{"content":"import { motion } from \"framer-motion\";\nimport { MapPin, Star, ArrowRight } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Link } from \"wouter\";\nimport { useStore } from \"@/lib/store-context\";\nimport { generateSlug, formatPrice } from \"@/lib/utils\";\n\ninterface TripCardProps {\n  id: string;\n  image: string;\n  title: string;\n  location: string;\n  price: string;\n  rating?: number;\n  duration?: string;\n  type: \"trip\" | \"hotel\" | \"car\" | \"offer\";\n}\n\nexport default function TripCard({ id, image, title, location, price, rating: propRating, duration, type }: TripCardProps) {\n  const { getReviewStats, detectedCurrency } = useStore();\n  const stats = getReviewStats(id, type);\n  const rating = stats.reviewCount > 0 ? stats.averageRating : (propRating || 0);\n  const reviewCount = stats.reviewCount;\n  const slug = generateSlug(title);\n  return (\n    <motion.div \n      initial={{ opacity: 0, y: 20 }}\n      whileInView={{ opacity: 1, y: 0 }}\n      viewport={{ once: true }}\n      transition={{ duration: 0.5 }}\n      className=\"group relative bg-card rounded-lg overflow-hidden border border-border/50 shadow-sm hover:shadow-lg transition-all duration-300 flex flex-col h-full\"\n    >\n      <Link href={`/details/${type}/${slug}`} className=\"absolute inset-0 z-20 focus:outline-none\">\n        <span className=\"sr-only\">View details for {title}</span>\n      </Link>\n\n      <div className=\"relative h-[240px] overflow-hidden\">\n        <img \n          src={image} \n          alt={title} \n          className=\"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105\"\n        />\n        <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-60\" />\n        <div className=\"absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold uppercase tracking-widest text-primary shadow-sm z-10 pointer-events-none\">\n          {type === \"trip\" ? \"Package\" : type === \"hotel\" ? \"Stay\" : type === \"car\" ? \"Rental\" : \"Deal\"}\n        </div>\n      </div>\n\n      <div className=\"p-6 flex flex-col flex-grow\">\n        <div className=\"flex items-center gap-2 text-muted-foreground text-xs uppercase tracking-wider mb-2\">\n          <MapPin className=\"w-3 h-3 text-secondary\" />\n          <span>{location}</span>\n        </div>\n        \n        <h3 className=\"font-serif text-xl font-bold mb-2 group-hover:text-secondary transition-colors\">{title}</h3>\n        \n        <div className=\"flex items-center gap-4 mb-4 text-sm\">\n          {reviewCount > 0 ? (\n            <div className=\"flex items-center gap-1\">\n              <Star className=\"w-4 h-4 fill-secondary text-secondary\" />\n              <span className=\"font-medium\">{rating}</span>\n              <span className=\"text-muted-foreground text-xs\">({reviewCount} review{reviewCount !== 1 ? 's' : ''})</span>\n            </div>\n          ) : (\n            <div className=\"flex items-center gap-1 text-muted-foreground\">\n              <Star className=\"w-4 h-4\" />\n              <span className=\"text-xs\">No reviews yet</span>\n            </div>\n          )}\n          {duration && (\n            <div className=\"text-muted-foreground border-l border-border pl-4\">\n              {duration}\n            </div>\n          )}\n        </div>\n\n        <div className=\"mt-auto pt-4 border-t border-border/50 flex items-center justify-between gap-2 relative z-30\">\n          <div>\n            <span className=\"text-xs text-muted-foreground block\">Starting from</span>\n            <span className=\"text-lg font-bold text-primary\">{formatPrice(price, detectedCurrency)}</span>\n          </div>\n          <Link href={`/details/${type}/${slug}`}>\n            <Button \n              variant=\"outline\" \n              className=\"border-primary/20 hover:bg-primary hover:text-white group-hover:border-primary transition-all\"\n            >\n              Book <ArrowRight className=\"w-4 h-4 ml-2\" />\n            </Button>\n          </Link>\n        </div>\n      </div>\n    </motion.div>\n  );\n}","path":null,"size_bytes":4042,"size_tokens":null},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationLink,\n  PaginationItem,\n  PaginationPrevious,\n  PaginationNext,\n  PaginationEllipsis,\n}\n","path":null,"size_bytes":2751,"size_tokens":null},"client/src/components/ui/spinner.tsx":{"content":"import { Loader2Icon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Spinner({ className, ...props }: React.ComponentProps<\"svg\">) {\n  return (\n    <Loader2Icon\n      role=\"status\"\n      aria-label=\"Loading\"\n      className={cn(\"size-4 animate-spin\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Spinner }\n","path":null,"size_bytes":331,"size_tokens":null},"script/build.ts":{"content":"import { build as esbuild } from \"esbuild\";\nimport { build as viteBuild } from \"vite\";\nimport { rm, readFile } from \"fs/promises\";\n\n// server deps to bundle to reduce openat(2) syscalls\n// which helps cold start times\nconst allowlist = [\n  \"@google/generative-ai\",\n  \"@neondatabase/serverless\",\n  \"axios\",\n  \"connect-pg-simple\",\n  \"cors\",\n  \"date-fns\",\n  \"drizzle-orm\",\n  \"drizzle-zod\",\n  \"express\",\n  \"express-rate-limit\",\n  \"express-session\",\n  \"jsonwebtoken\",\n  \"memorystore\",\n  \"multer\",\n  \"mysql2\",\n  \"nanoid\",\n  \"nodemailer\",\n  \"openai\",\n  \"passport\",\n  \"passport-local\",\n  \"stripe\",\n  \"uuid\",\n  \"ws\",\n  \"xlsx\",\n  \"zod\",\n  \"zod-validation-error\",\n];\n\nasync function buildAll() {\n  await rm(\"dist\", { recursive: true, force: true });\n\n  console.log(\"building client...\");\n  await viteBuild();\n\n  console.log(\"building server...\");\n  const pkg = JSON.parse(await readFile(\"package.json\", \"utf-8\"));\n  const allDeps = [\n    ...Object.keys(pkg.dependencies || {}),\n    ...Object.keys(pkg.devDependencies || {}),\n  ];\n  const externals = allDeps.filter((dep) => !allowlist.includes(dep));\n\n  await esbuild({\n    entryPoints: [\"server/index.ts\"],\n    platform: \"node\",\n    bundle: true,\n    format: \"cjs\",\n    outfile: \"dist/index.cjs\",\n    define: {\n      \"process.env.NODE_ENV\": '\"production\"',\n    },\n    minify: true,\n    external: externals,\n    logLevel: \"info\",\n  });\n}\n\nbuildAll().catch((err) => {\n  console.error(err);\n  process.exit(1);\n});\n","path":null,"size_bytes":1451,"size_tokens":null},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-3.5 w-3.5 fill-primary\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","path":null,"size_bytes":1410,"size_tokens":null},"server/static.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(__dirname, \"public\");\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","path":null,"size_bytes":547,"size_tokens":null},"client/src/pages/hotels.tsx":{"content":"import Layout from \"@/components/layout\";\nimport TripCard from \"@/components/trip-card\";\nimport { useStore } from \"@/lib/store-context\";\nimport { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Calendar } from \"@/components/ui/calendar\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { format, isWithinInterval, parseISO } from \"date-fns\";\nimport { Calendar as CalendarIcon, MapPin, Search } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { DateRange } from \"react-day-picker\";\n\nexport default function HotelsPage() {\n  const { hotels } = useStore();\n  const [searchLocation, setSearchLocation] = useState(\"\");\n  const [date, setDate] = useState<DateRange | undefined>();\n\n  const filteredHotels = hotels.filter(hotel => {\n    // Filter by location\n    if (searchLocation && !hotel.location.toLowerCase().includes(searchLocation.toLowerCase())) {\n      return false;\n    }\n\n    // Filter by Active Status (if property exists, default to true if not present for backward compatibility)\n    if (hotel.isActive === false) return false;\n\n    // Filter by Date Availability\n    if (date?.from && date?.to) {\n      if (hotel.alwaysAvailable) return true;\n      \n      if (hotel.availableFrom && hotel.availableTo) {\n        const hotelStart = parseISO(hotel.availableFrom);\n        const hotelEnd = parseISO(hotel.availableTo);\n        \n        // Simple logic: Check if user's requested start date is within hotel's open period\n        // More complex logic would be checking full overlap\n        const isStartValid = isWithinInterval(date.from, { start: hotelStart, end: hotelEnd });\n        // const isEndValid = isWithinInterval(date.to, { start: hotelStart, end: hotelEnd });\n        \n        return isStartValid;\n      }\n      \n      // If hotel has no dates set but is not always available, maybe assume unavailable? \n      // Or assume available. Let's assume unavailable if strict dates required but missing.\n      return false; \n    }\n\n    return true;\n  });\n\n  return (\n    <Layout>\n      <div className=\"bg-primary py-20 text-center text-white relative overflow-hidden\">\n         <div className=\"absolute inset-0 opacity-20 bg-[url('https://images.unsplash.com/photo-1566073771259-6a8506099945?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center\" />\n         <div className=\"relative z-10 container mx-auto px-6\">\n            <h1 className=\"font-serif text-5xl font-bold mb-4\">Luxury Stays</h1>\n            <p className=\"text-xl text-white/80 max-w-2xl mx-auto mb-8\">Handpicked hotels and resorts offering unparalleled comfort and style.</p>\n            \n            {/* Search Bar */}\n            <div className=\"max-w-4xl mx-auto bg-white/10 backdrop-blur-md p-4 rounded-lg border border-white/20 shadow-xl flex flex-col md:flex-row gap-4\">\n               <div className=\"flex-1 relative\">\n                  <MapPin className=\"absolute left-3 top-3 text-white/70 w-5 h-5\" />\n                  <Input \n                    placeholder=\"Where do you want to stay?\" \n                    className=\"pl-10 bg-white/20 border-white/30 text-white placeholder:text-white/60 focus-visible:ring-white/50\"\n                    value={searchLocation}\n                    onChange={(e) => setSearchLocation(e.target.value)}\n                  />\n               </div>\n               \n               <div className=\"flex-1\">\n                  <Popover>\n                    <PopoverTrigger asChild>\n                      <Button\n                        id=\"date\"\n                        variant={\"outline\"}\n                        className={cn(\n                          \"w-full justify-start text-left font-normal bg-white/20 border-white/30 text-white hover:bg-white/30 hover:text-white\",\n                          !date && \"text-white/60\"\n                        )}\n                      >\n                        <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                        {date?.from ? (\n                          date.to ? (\n                            <>\n                              {format(date.from, \"LLL dd, y\")} -{\" \"}\n                              {format(date.to, \"LLL dd, y\")}\n                            </>\n                          ) : (\n                            format(date.from, \"LLL dd, y\")\n                          )\n                        ) : (\n                          <span>Check-in - Check-out</span>\n                        )}\n                      </Button>\n                    </PopoverTrigger>\n                    <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                      <Calendar\n                        initialFocus\n                        mode=\"range\"\n                        defaultMonth={date?.from}\n                        selected={date}\n                        onSelect={setDate}\n                        numberOfMonths={2}\n                      />\n                    </PopoverContent>\n                  </Popover>\n               </div>\n               \n               <Button className=\"bg-secondary hover:bg-secondary/90 text-white min-w-[120px]\">\n                  <Search className=\"w-4 h-4 mr-2\" /> Search\n               </Button>\n            </div>\n         </div>\n      </div>\n\n      <div className=\"container mx-auto px-6 py-16\">\n        {filteredHotels.length > 0 ? (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n            {filteredHotels.map((hotel) => (\n              <TripCard \n                key={hotel.id}\n                id={hotel.id}\n                image={hotel.image}\n                title={hotel.title}\n                location={hotel.location}\n                price={hotel.price}\n                rating={hotel.rating}\n                type=\"hotel\"\n              />\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center py-20\">\n            <h3 className=\"text-2xl font-serif font-bold mb-2\">No hotels found</h3>\n            <p className=\"text-muted-foreground\">Try adjusting your search dates or location.</p>\n            <Button \n              variant=\"link\" \n              onClick={() => { setSearchLocation(\"\"); setDate(undefined); }}\n              className=\"mt-4 text-secondary\"\n            >\n              Clear Filters\n            </Button>\n          </div>\n        )}\n      </div>\n    </Layout>\n  );\n}","path":null,"size_bytes":6401,"size_tokens":null},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverAnchor = PopoverPrimitive.Anchor\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent, PopoverAnchor }\n","path":null,"size_bytes":1342,"size_tokens":null},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","path":null,"size_bytes":756,"size_tokens":null},"DEPLOYMENT_TROUBLESHOOTING.md":{"content":"# Deployment Troubleshooting - MySQL Connection Issues\n\n## Issue: Website not reading from MySQL after deployment\n\n### Common Causes and Solutions\n\n## 1. âœ… Check if mysql2 is installed\n\nThe `mysql2` package must be installed in production. Run:\n\n```bash\nnpm install --production\n```\n\nOr install mysql2 specifically:\n```bash\nnpm install mysql2\n```\n\n## 2. âœ… Verify Database Connection\n\nCheck server logs when starting. You should see:\n```\nâœ… Database connected successfully\nâœ… Database tables initialized successfully\n```\n\nIf you see errors, check:\n- Database credentials in `server/db.ts`\n- Network connectivity to MySQL server\n- Firewall rules allowing MySQL connections (port 3306)\n\n## 3. âœ… Check Server Startup Logs\n\nWhen you start the server with `npm start`, you should see:\n```\n[express] serving on port 5000\nâœ… Database connected successfully\nâœ… Database tables initialized successfully\n```\n\nIf database connection fails, you'll see:\n```\nâŒ Database connection failed: [error details]\n```\n\n## 4. âœ… Verify Database Tables Exist\n\nConnect to your MySQL database and check if tables exist:\n\n```sql\nUSE ocidb_01Raay53dC;\nSHOW TABLES;\n```\n\nYou should see tables like:\n- trips\n- hotels\n- cars\n- last_minute_offers\n- bookings\n- reviews\n- support_tickets\n- users\n- subscribers\n- email_templates\n- payment_settings\n- etc.\n\n## 5. âœ… Test Database Connection Manually\n\nCreate a test file `test-db.js`:\n\n```javascript\nconst mysql = require('mysql2/promise');\n\nasync function test() {\n  try {\n    const connection = await mysql.createConnection({\n      host: 'mysql-200-131.mysql.prositehosting.net',\n      user: 'voyageruser12',\n      password: '19982206m.M',\n      database: 'ocidb_01Raay53dC'\n    });\n    console.log('âœ… Connection successful!');\n    const [rows] = await connection.execute('SELECT 1 as test');\n    console.log('âœ… Query successful:', rows);\n    await connection.end();\n  } catch (error) {\n    console.error('âŒ Connection failed:', error);\n  }\n}\n\ntest();\n```\n\nRun: `node test-db.js`\n\n## 6. âœ… Check Production Build\n\nAfter rebuilding, verify the build includes database code:\n\n```bash\n# Rebuild\nnpm run build\n\n# Check if dist/index.cjs exists and has reasonable size (~1MB)\nls -lh dist/index.cjs\n```\n\n## 7. âœ… Environment Variables\n\nMake sure you're running in production mode:\n\n```bash\nNODE_ENV=production npm start\n```\n\nOr set in your `.env` file:\n```\nNODE_ENV=production\n```\n\n## 8. âœ… Check Node.js Version\n\nMySQL2 requires Node.js 14+. Verify:\n\n```bash\nnode --version\n```\n\nShould be 20+ for best compatibility.\n\n## 9. âœ… Network/Firewall Issues\n\nIf deploying to a different server:\n- Ensure the server can reach `mysql-200-131.mysql.prositehosting.net:3306`\n- Check firewall rules\n- Verify MySQL server allows remote connections\n- Check if your hosting provider blocks outbound MySQL connections\n\n## 10. âœ… Rebuild and Redeploy\n\nIf issues persist, rebuild and redeploy:\n\n```bash\n# Clean build\nrm -rf dist node_modules\nnpm install\nnpm run build\n\n# Test locally first\nnpm start\n\n# Then deploy\n```\n\n## Quick Diagnostic Script\n\nCreate `diagnose.js`:\n\n```javascript\nconst mysql = require('mysql2/promise');\nconst fs = require('fs');\nconst path = require('path');\n\nasync function diagnose() {\n  console.log('ðŸ” Running diagnostics...\\n');\n  \n  // 1. Check if mysql2 is installed\n  console.log('1. Checking mysql2 package...');\n  try {\n    require.resolve('mysql2');\n    console.log('   âœ… mysql2 is installed\\n');\n  } catch (e) {\n    console.log('   âŒ mysql2 is NOT installed. Run: npm install mysql2\\n');\n    return;\n  }\n  \n  // 2. Check if dist/index.cjs exists\n  console.log('2. Checking build files...');\n  const distPath = path.join(__dirname, 'dist', 'index.cjs');\n  if (fs.existsSync(distPath)) {\n    const stats = fs.statSync(distPath);\n    console.log(`   âœ… dist/index.cjs exists (${(stats.size / 1024).toFixed(2)} KB)\\n`);\n  } else {\n    console.log('   âŒ dist/index.cjs not found. Run: npm run build\\n');\n    return;\n  }\n  \n  // 3. Test database connection\n  console.log('3. Testing database connection...');\n  try {\n    const connection = await mysql.createConnection({\n      host: 'mysql-200-131.mysql.prositehosting.net',\n      user: 'voyageruser12',\n      password: '19982206m.M',\n      database: 'ocidb_01Raay53dC',\n      connectTimeout: 10000\n    });\n    console.log('   âœ… Database connection successful\\n');\n    \n    // Test query\n    const [rows] = await connection.execute('SELECT COUNT(*) as count FROM information_schema.tables WHERE table_schema = ?', ['ocidb_01Raay53dC']);\n    console.log(`   âœ… Database accessible. Found ${rows[0].count} tables\\n`);\n    \n    await connection.end();\n  } catch (error) {\n    console.log('   âŒ Database connection failed:');\n    console.log(`      Error: ${error.message}\\n`);\n    console.log('   Possible causes:');\n    console.log('      - Network connectivity issues');\n    console.log('      - Firewall blocking MySQL port (3306)');\n    console.log('      - Incorrect credentials');\n    console.log('      - Database server is down\\n');\n  }\n  \n  // 4. Check environment\n  console.log('4. Checking environment...');\n  console.log(`   NODE_ENV: ${process.env.NODE_ENV || 'not set'}`);\n  console.log(`   PORT: ${process.env.PORT || '5000 (default)'}\\n`);\n  \n  console.log('âœ… Diagnostics complete!');\n}\n\ndiagnose().catch(console.error);\n```\n\nRun: `node diagnose.js`\n\n## Still Having Issues?\n\n1. **Check server logs** - Look for error messages when starting\n2. **Test API endpoints** - Try accessing `/api/trips` to see if data loads\n3. **Check browser console** - Look for frontend errors\n4. **Verify database** - Connect directly to MySQL and check data exists\n5. **Review deployment** - Ensure all files were uploaded correctly\n\n## Contact Support\n\nIf none of these solutions work, provide:\n- Server startup logs\n- Error messages from console\n- Database connection test results\n- Node.js version\n- Operating system details\n\n","path":null,"size_bytes":5933,"size_tokens":null},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","path":null,"size_bytes":2712,"size_tokens":null},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","path":null,"size_bytes":21846,"size_tokens":null},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\nexport function generateSlug(title: string): string {\n  return title\n    .toLowerCase()\n    .trim()\n    .replace(/[^\\w\\s-]/g, '')\n    .replace(/[\\s_-]+/g, '-')\n    .replace(/^-+|-+$/g, '');\n}\n\nconst currencySymbols: Record<string, string> = {\n  EUR: 'â‚¬',\n  USD: '$',\n  GBP: 'Â£',\n  CAD: 'C$',\n  AUD: 'A$',\n  NZD: 'NZ$',\n  JPY: 'Â¥',\n  CNY: 'Â¥',\n  CHF: 'CHF ',\n  SEK: 'kr ',\n  NOK: 'kr ',\n  DKK: 'kr ',\n  INR: 'â‚¹',\n  BRL: 'R$',\n  MXN: 'MX$',\n  KRW: 'â‚©',\n  SGD: 'S$',\n  HKD: 'HK$',\n  THB: 'à¸¿',\n  MYR: 'RM ',\n  PHP: 'â‚±',\n  IDR: 'Rp ',\n  VND: 'â‚«',\n  AED: 'AED ',\n  SAR: 'SAR ',\n  ZAR: 'R ',\n  RUB: 'â‚½',\n  TRY: 'â‚º',\n  PLN: 'zÅ‚ ',\n  CZK: 'KÄ ',\n  HUF: 'Ft ',\n  RON: 'lei ',\n  BGN: 'Ð»Ð² ',\n};\n\nconst exchangeRates: Record<string, number> = {\n  EUR: 1,\n  USD: 1.09,\n  GBP: 0.86,\n  CAD: 1.48,\n  AUD: 1.65,\n  NZD: 1.78,\n  JPY: 163.5,\n  CNY: 7.85,\n  CHF: 0.94,\n  SEK: 11.45,\n  NOK: 11.65,\n  DKK: 7.46,\n  INR: 91.2,\n  BRL: 5.35,\n  MXN: 18.75,\n  KRW: 1425,\n  SGD: 1.46,\n  HKD: 8.52,\n  THB: 38.5,\n  MYR: 5.05,\n  PHP: 60.5,\n  IDR: 16850,\n  VND: 26500,\n  AED: 4.01,\n  SAR: 4.09,\n  ZAR: 19.85,\n  RUB: 97.5,\n  TRY: 31.5,\n  PLN: 4.32,\n  CZK: 25.2,\n  HUF: 385,\n  RON: 4.97,\n  BGN: 1.96,\n};\n\nexport function extractNumericPrice(priceString: string): number {\n  const cleaned = priceString.replace(/[^0-9.,]/g, '').replace(',', '');\n  return parseFloat(cleaned) || 0;\n}\n\nfunction detectSourceCurrency(priceString: string): string {\n  const str = priceString.trim();\n  if (str.startsWith('$') || str.startsWith('US$')) return 'USD';\n  if (str.startsWith('Â£')) return 'GBP';\n  if (str.startsWith('â‚¬')) return 'EUR';\n  if (str.startsWith('Â¥')) return 'JPY';\n  if (str.startsWith('C$')) return 'CAD';\n  if (str.startsWith('A$')) return 'AUD';\n  if (str.startsWith('â‚¹')) return 'INR';\n  if (str.startsWith('CHF')) return 'CHF';\n  return 'EUR';\n}\n\nexport function formatPrice(priceString: string, targetCurrency: string = 'EUR'): string {\n  const numericPrice = extractNumericPrice(priceString);\n  if (numericPrice === 0) return priceString;\n  \n  const sourceCurrency = detectSourceCurrency(priceString);\n  \n  if (sourceCurrency === targetCurrency) {\n    const symbol = currencySymbols[targetCurrency] || targetCurrency + ' ';\n    if (['JPY', 'KRW', 'VND', 'IDR', 'HUF'].includes(targetCurrency)) {\n      return `${symbol}${Math.round(numericPrice).toLocaleString()}`;\n    }\n    return `${symbol}${numericPrice.toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`;\n  }\n  \n  const sourceRate = exchangeRates[sourceCurrency] || 1;\n  const targetRate = exchangeRates[targetCurrency] || 1;\n  const priceInEur = numericPrice / sourceRate;\n  const convertedPrice = priceInEur * targetRate;\n  \n  const symbol = currencySymbols[targetCurrency] || targetCurrency + ' ';\n  \n  if (['JPY', 'KRW', 'VND', 'IDR', 'HUF'].includes(targetCurrency)) {\n    return `${symbol}${Math.round(convertedPrice).toLocaleString()}`;\n  }\n  \n  return `${symbol}${convertedPrice.toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`;\n}\n","path":null,"size_bytes":3230,"size_tokens":null},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","path":null,"size_bytes":5745,"size_tokens":null},"client/src/pages/last-minute.tsx":{"content":"import Layout from \"@/components/layout\";\nimport LastMinuteCard from \"@/components/last-minute-card\";\nimport { useStore } from \"@/lib/store-context\";\nimport { Clock, AlertCircle } from \"lucide-react\";\n\nexport default function LastMinutePage() {\n  const { offers } = useStore();\n\n  return (\n    <Layout>\n      <div className=\"bg-destructive/90 py-20 text-center text-white relative overflow-hidden\">\n         <div className=\"absolute inset-0 opacity-20 bg-[url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=2073&auto=format&fit=crop')] bg-cover bg-center\" />\n         <div className=\"relative z-10 container mx-auto px-6\">\n            <div className=\"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md px-4 py-1 rounded-full text-sm font-bold mb-6 animate-pulse border border-white/30\">\n               <Clock className=\"w-4 h-4\" />\n               <span>Limited Time Offers</span>\n            </div>\n            <h1 className=\"font-serif text-5xl md:text-7xl font-bold mb-4 drop-shadow-lg\">Last Minute Deals</h1>\n            <p className=\"text-xl text-white/90 max-w-2xl mx-auto\">Spontaneous luxury at unprecedented value. These offers expire soon.</p>\n         </div>\n      </div>\n\n      <div className=\"container mx-auto px-6 py-16\">\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-12 flex items-start gap-3 text-yellow-800 max-w-3xl mx-auto\">\n           <AlertCircle className=\"w-5 h-5 mt-0.5 flex-shrink-0\" />\n           <p className=\"text-sm\">\n             <strong>Note:</strong> Last minute offers are non-refundable and require immediate payment confirmation. Prices shown include all taxes and fees.\n           </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n          {offers.map((offer) => (\n            <LastMinuteCard \n              key={offer.id}\n              {...offer}\n            />\n          ))}\n        </div>\n      </div>\n    </Layout>\n  );\n}","path":null,"size_bytes":1976,"size_tokens":null},"diagnose-db.js":{"content":"const mysql = require('mysql2/promise');\nconst fs = require('fs');\nconst path = require('path');\n\nasync function diagnose() {\n  console.log('ðŸ” Running MySQL Database Diagnostics...\\n');\n  \n  // 1. Check if mysql2 is installed\n  console.log('1. Checking mysql2 package...');\n  try {\n    require.resolve('mysql2');\n    console.log('   âœ… mysql2 is installed\\n');\n  } catch (e) {\n    console.log('   âŒ mysql2 is NOT installed. Run: npm install mysql2\\n');\n    return;\n  }\n  \n  // 2. Check if dist/index.cjs exists\n  console.log('2. Checking build files...');\n  const distPath = path.join(__dirname, 'dist', 'index.cjs');\n  if (fs.existsSync(distPath)) {\n    const stats = fs.statSync(distPath);\n    console.log(`   âœ… dist/index.cjs exists (${(stats.size / 1024 / 1024).toFixed(2)} MB)\\n`);\n  } else {\n    console.log('   âŒ dist/index.cjs not found. Run: npm run build\\n');\n  }\n  \n  // 3. Test database connection\n  console.log('3. Testing database connection...');\n  try {\n    const connection = await mysql.createConnection({\n      host: 'mysql-200-131.mysql.prositehosting.net',\n      user: 'voyageruser12',\n      password: '19982206m.M',\n      database: 'ocidb_01Raay53dC',\n      connectTimeout: 10000\n    });\n    console.log('   âœ… Database connection successful\\n');\n    \n    // Test query\n    const [rows] = await connection.execute('SELECT COUNT(*) as count FROM information_schema.tables WHERE table_schema = ?', ['ocidb_01Raay53dC']);\n    console.log(`   âœ… Database accessible. Found ${rows[0].count} tables\\n`);\n    \n    // Check if key tables exist\n    const [tables] = await connection.execute(`\n      SELECT table_name \n      FROM information_schema.tables \n      WHERE table_schema = 'ocidb_01Raay53dC' \n      ORDER BY table_name\n    `);\n    \n    const requiredTables = ['trips', 'hotels', 'cars', 'bookings', 'reviews', 'users'];\n    const existingTables = tables.map(t => t.table_name);\n    \n    console.log('   ðŸ“‹ Checking required tables:');\n    requiredTables.forEach(table => {\n      if (existingTables.includes(table)) {\n        console.log(`      âœ… ${table}`);\n      } else {\n        console.log(`      âŒ ${table} - MISSING!`);\n      }\n    });\n    console.log('');\n    \n    await connection.end();\n  } catch (error) {\n    console.log('   âŒ Database connection failed:');\n    console.log(`      Error: ${error.message}\\n`);\n    console.log('   Possible causes:');\n    console.log('      - Network connectivity issues');\n    console.log('      - Firewall blocking MySQL port (3306)');\n    console.log('      - Incorrect credentials');\n    console.log('      - Database server is down');\n    console.log('      - Database does not allow remote connections\\n');\n  }\n  \n  // 4. Check environment\n  console.log('4. Checking environment...');\n  console.log(`   NODE_ENV: ${process.env.NODE_ENV || 'not set (should be \"production\" for deployment)'}`);\n  console.log(`   PORT: ${process.env.PORT || '5000 (default)'}\\n`);\n  \n  // 5. Check node_modules\n  console.log('5. Checking dependencies...');\n  const nodeModulesPath = path.join(__dirname, 'node_modules', 'mysql2');\n  if (fs.existsSync(nodeModulesPath)) {\n    console.log('   âœ… mysql2 found in node_modules\\n');\n  } else {\n    console.log('   âš ï¸  mysql2 not in node_modules. Run: npm install\\n');\n  }\n  \n  console.log('âœ… Diagnostics complete!\\n');\n  console.log('ðŸ“ Next steps:');\n  console.log('   1. If database connection failed, check network/firewall');\n  console.log('   2. If tables are missing, the server will create them on startup');\n  console.log('   3. Start server with: npm start');\n  console.log('   4. Check server logs for database initialization messages\\n');\n}\n\ndiagnose().catch(console.error);\n\n","path":null,"size_bytes":3713,"size_tokens":null},"server/storage.ts":{"content":"import { pool } from \"./db\";\nimport { RowDataPacket } from \"mysql2/promise\";\nimport { generateSlug } from \"../shared/utils\";\n\nexport interface IStorage {\n  getTrips(): Promise<any[]>;\n  getTripById(id: string): Promise<any | null>;\n  getTripBySlug(slug: string): Promise<any | null>;\n  createTrip(trip: any): Promise<any>;\n  updateTrip(id: string, trip: any): Promise<any | null>;\n  deleteTrip(id: string): Promise<boolean>;\n\n  getHotels(): Promise<any[]>;\n  getHotelById(id: string): Promise<any | null>;\n  getHotelBySlug(slug: string): Promise<any | null>;\n  createHotel(hotel: any): Promise<any>;\n  updateHotel(id: string, hotel: any): Promise<any | null>;\n  deleteHotel(id: string): Promise<boolean>;\n\n  getRoomTypes(hotelId: string): Promise<any[]>;\n  createRoomType(roomType: any): Promise<any>;\n  updateRoomType(id: string, roomType: any): Promise<any | null>;\n  deleteRoomType(id: string): Promise<boolean>;\n\n  getCars(): Promise<any[]>;\n  getCarById(id: string): Promise<any | null>;\n  getCarBySlug(slug: string): Promise<any | null>;\n  createCar(car: any): Promise<any>;\n  updateCar(id: string, car: any): Promise<any | null>;\n  deleteCar(id: string): Promise<boolean>;\n\n  getLastMinuteOffers(): Promise<any[]>;\n  getLastMinuteOfferById(id: string): Promise<any | null>;\n  getLastMinuteOfferBySlug(slug: string): Promise<any | null>;\n  createLastMinuteOffer(offer: any): Promise<any>;\n  updateLastMinuteOffer(id: string, offer: any): Promise<any | null>;\n  deleteLastMinuteOffer(id: string): Promise<boolean>;\n  createOffer(offer: any): Promise<any>;\n  updateOffer(id: string, offer: any): Promise<any | null>;\n  deleteOffer(id: string): Promise<boolean>;\n\n  getBookings(): Promise<any[]>;\n  getBookingById(id: string): Promise<any | null>;\n  createBooking(booking: any): Promise<any>;\n  updateBooking(id: string, booking: any): Promise<any | null>;\n  updatePaymentStatus(id: string, paymentStatus: string): Promise<any | null>;\n  deleteBooking(id: string): Promise<boolean>;\n\n  getReviews(): Promise<any[]>;\n  getReviewsByItem(itemId: string, itemType: string): Promise<any[]>;\n  getApprovedReviewsByItem(itemId: string, itemType: string): Promise<any[]>;\n  getReviewById(id: string): Promise<any | null>;\n  createReview(review: any): Promise<any>;\n  updateReview(id: string, review: any): Promise<any | null>;\n  updateReviewStatus(id: string, status: string): Promise<any | null>;\n  deleteReview(id: string): Promise<boolean>;\n\n  getTickets(): Promise<any[]>;\n  getTicketsByUser(userEmail: string): Promise<any[]>;\n  getTicketById(id: string): Promise<any | null>;\n  createTicket(ticket: any): Promise<any>;\n  updateTicketStatus(id: string, status: string): Promise<any | null>;\n  addTicketReply(ticketId: string, reply: any): Promise<any>;\n  deleteTicket(id: string): Promise<boolean>;\n\n  getPaymentSettings(): Promise<any | null>;\n  getPaymentSettingByProvider(provider: string): Promise<any | null>;\n  updatePaymentSettings(provider: string, settings: any): Promise<any>;\n\n  getSubscribers(): Promise<any[]>;\n  createSubscriber(email: string, name?: string): Promise<any>;\n  deleteSubscriber(id: string): Promise<boolean>;\n  unsubscribeSubscriber(email: string): Promise<boolean>;\n\n  getEmailTemplates(): Promise<any[]>;\n  getEmailTemplateById(id: string): Promise<any | null>;\n  createEmailTemplate(template: any): Promise<any>;\n  updateEmailTemplate(id: string, template: any): Promise<any | null>;\n  deleteEmailTemplate(id: string): Promise<boolean>;\n\n  getEmailSettings(): Promise<any | null>;\n  updateEmailSettings(settings: any): Promise<any>;\n\n  getUserByUsername(username: string): Promise<any | null>;\n  createUser(user: any): Promise<any>;\n}\n\nclass MySQLStorage implements IStorage {\n  private generateId(): string {\n    return Math.random().toString(36).substring(2, 15);\n  }\n\n  async getTrips(): Promise<any[]> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM trips\");\n    return rows.map((row) => ({\n      ...row,\n      features: typeof row.features === \"string\" ? JSON.parse(row.features) : row.features,\n      gallery: typeof row.gallery === \"string\" ? JSON.parse(row.gallery) : row.gallery || [],\n      metaDescription: row.meta_description || \"\",\n    }));\n  }\n\n  async getTripById(id: string): Promise<any | null> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM trips WHERE id = ?\", [id]);\n    if (rows.length === 0) return null;\n    const row = rows[0];\n    return {\n      ...row,\n      features: typeof row.features === \"string\" ? JSON.parse(row.features) : row.features,\n      gallery: typeof row.gallery === \"string\" ? JSON.parse(row.gallery) : row.gallery || [],\n      metaDescription: row.meta_description || \"\",\n    };\n  }\n\n  async getTripBySlug(slug: string): Promise<any | null> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM trips\", []);\n    for (const row of rows) {\n      if (generateSlug(row.title) === slug) {\n        return {\n          ...row,\n          features: typeof row.features === \"string\" ? JSON.parse(row.features) : row.features,\n          gallery: typeof row.gallery === \"string\" ? JSON.parse(row.gallery) : row.gallery || [],\n          metaDescription: row.meta_description || \"\",\n        };\n      }\n    }\n    return null;\n  }\n\n  async createTrip(trip: any): Promise<any> {\n    const id = this.generateId();\n    await pool.query(\n      \"INSERT INTO trips (id, title, location, image, price, rating, duration, category, features, gallery, meta_description) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\",\n      [id, trip.title, trip.location, trip.image, trip.price, trip.rating, trip.duration, trip.category, JSON.stringify(trip.features || []), JSON.stringify(trip.gallery || []), trip.metaDescription || \"\"]\n    );\n    return { id, ...trip };\n  }\n\n  async updateTrip(id: string, trip: any): Promise<any | null> {\n    const existing = await this.getTripById(id);\n    if (!existing) return null;\n    await pool.query(\n      \"UPDATE trips SET title = ?, location = ?, image = ?, price = ?, rating = ?, duration = ?, category = ?, features = ?, gallery = ?, meta_description = ? WHERE id = ?\",\n      [trip.title, trip.location, trip.image, trip.price, trip.rating, trip.duration, trip.category, JSON.stringify(trip.features || []), JSON.stringify(trip.gallery || []), trip.metaDescription || \"\", id]\n    );\n    return { id, ...trip };\n  }\n\n  async deleteTrip(id: string): Promise<boolean> {\n    const [result] = await pool.query<any>(\"DELETE FROM trips WHERE id = ?\", [id]);\n    return result.affectedRows > 0;\n  }\n\n  async getHotels(): Promise<any[]> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM hotels ORDER BY sort_order ASC, id ASC\");\n    const hotels: any[] = rows.map((row) => ({\n      ...row,\n      amenities: typeof row.amenities === \"string\" ? JSON.parse(row.amenities) : row.amenities,\n      gallery: typeof row.gallery === \"string\" ? JSON.parse(row.gallery) : row.gallery || [],\n      alwaysAvailable: row.always_available,\n      isActive: row.is_active,\n      availableFrom: row.available_from,\n      availableTo: row.available_to,\n      stars: row.stars || 5,\n      sortOrder: row.sort_order || 0,\n      metaDescription: row.meta_description || \"\",\n    }));\n\n    for (const hotel of hotels) {\n      hotel.roomTypes = await this.getRoomTypes(hotel.id);\n    }\n\n    return hotels;\n  }\n\n  async getHotelById(id: string): Promise<any | null> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM hotels WHERE id = ?\", [id]);\n    if (rows.length === 0) return null;\n    const row = rows[0];\n    const hotel: any = {\n      ...row,\n      amenities: typeof row.amenities === \"string\" ? JSON.parse(row.amenities) : row.amenities,\n      gallery: typeof row.gallery === \"string\" ? JSON.parse(row.gallery) : row.gallery || [],\n      alwaysAvailable: row.always_available,\n      isActive: row.is_active,\n      availableFrom: row.available_from,\n      availableTo: row.available_to,\n      stars: row.stars || 5,\n      sortOrder: row.sort_order || 0,\n      metaDescription: row.meta_description || \"\",\n    };\n    hotel.roomTypes = await this.getRoomTypes(id);\n    return hotel;\n  }\n\n  async getHotelBySlug(slug: string): Promise<any | null> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM hotels\", []);\n    for (const row of rows) {\n      if (generateSlug(row.title) === slug) {\n        const hotel: any = {\n          ...row,\n          amenities: typeof row.amenities === \"string\" ? JSON.parse(row.amenities) : row.amenities,\n          gallery: typeof row.gallery === \"string\" ? JSON.parse(row.gallery) : row.gallery || [],\n          alwaysAvailable: row.always_available,\n          isActive: row.is_active,\n          availableFrom: row.available_from,\n          availableTo: row.available_to,\n          stars: row.stars || 5,\n          sortOrder: row.sort_order || 0,\n          metaDescription: row.meta_description || \"\",\n        };\n        hotel.roomTypes = await this.getRoomTypes(row.id);\n        return hotel;\n      }\n    }\n    return null;\n  }\n\n  async createHotel(hotel: any): Promise<any> {\n    const id = this.generateId();\n    await pool.query(\n      \"INSERT INTO hotels (id, title, location, image, price, rating, amenities, always_available, is_active, available_from, available_to, gallery, meta_description, stars, sort_order) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\",\n      [id, hotel.title, hotel.location, hotel.image, hotel.price, hotel.rating, JSON.stringify(hotel.amenities || []), hotel.alwaysAvailable ?? true, hotel.isActive ?? true, hotel.availableFrom, hotel.availableTo, JSON.stringify(hotel.gallery || []), hotel.metaDescription || \"\", hotel.stars || 5, hotel.sortOrder || 0]\n    );\n    return { id, ...hotel, roomTypes: [] };\n  }\n\n  async updateHotel(id: string, hotel: any): Promise<any | null> {\n    const existing = await this.getHotelById(id);\n    if (!existing) return null;\n    await pool.query(\n      \"UPDATE hotels SET title = ?, location = ?, image = ?, price = ?, rating = ?, amenities = ?, always_available = ?, is_active = ?, available_from = ?, available_to = ?, gallery = ?, meta_description = ?, stars = ?, sort_order = ? WHERE id = ?\",\n      [hotel.title, hotel.location, hotel.image, hotel.price, hotel.rating, JSON.stringify(hotel.amenities || []), hotel.alwaysAvailable ?? true, hotel.isActive ?? true, hotel.availableFrom, hotel.availableTo, JSON.stringify(hotel.gallery || []), hotel.metaDescription || \"\", hotel.stars || 5, hotel.sortOrder || 0, id]\n    );\n    return { id, ...hotel };\n  }\n\n  async deleteHotel(id: string): Promise<boolean> {\n    const [result] = await pool.query<any>(\"DELETE FROM hotels WHERE id = ?\", [id]);\n    return result.affectedRows > 0;\n  }\n\n  async getRoomTypes(hotelId: string): Promise<any[]> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM room_types WHERE hotel_id = ?\", [hotelId]);\n    return rows.map((row) => ({\n      ...row,\n      hotelId: row.hotel_id,\n      facilities: typeof row.facilities === \"string\" ? JSON.parse(row.facilities) : row.facilities,\n    }));\n  }\n\n  async createRoomType(roomType: any): Promise<any> {\n    const id = this.generateId();\n    await pool.query(\n      \"INSERT INTO room_types (id, hotel_id, name, price, description, facilities) VALUES (?, ?, ?, ?, ?, ?)\",\n      [id, roomType.hotelId, roomType.name, roomType.price, roomType.description, JSON.stringify(roomType.facilities || [])]\n    );\n    return { id, ...roomType };\n  }\n\n  async updateRoomType(id: string, roomType: any): Promise<any | null> {\n    await pool.query(\n      \"UPDATE room_types SET name = ?, price = ?, description = ?, facilities = ? WHERE id = ?\",\n      [roomType.name, roomType.price, roomType.description, JSON.stringify(roomType.facilities || []), id]\n    );\n    return { id, ...roomType };\n  }\n\n  async deleteRoomType(id: string): Promise<boolean> {\n    const [result] = await pool.query<any>(\"DELETE FROM room_types WHERE id = ?\", [id]);\n    return result.affectedRows > 0;\n  }\n\n  async getCars(): Promise<any[]> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM cars\");\n    return rows.map((row) => ({\n      ...row,\n      features: typeof row.features === \"string\" ? JSON.parse(row.features) : row.features,\n      gallery: typeof row.gallery === \"string\" ? JSON.parse(row.gallery) : row.gallery || [],\n      metaDescription: row.meta_description || \"\",\n    }));\n  }\n\n  async getCarById(id: string): Promise<any | null> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM cars WHERE id = ?\", [id]);\n    if (rows.length === 0) return null;\n    const row = rows[0];\n    return {\n      ...row,\n      features: typeof row.features === \"string\" ? JSON.parse(row.features) : row.features,\n      gallery: typeof row.gallery === \"string\" ? JSON.parse(row.gallery) : row.gallery || [],\n      metaDescription: row.meta_description || \"\",\n    };\n  }\n\n  async getCarBySlug(slug: string): Promise<any | null> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM cars\", []);\n    for (const row of rows) {\n      if (generateSlug(row.title) === slug) {\n        return {\n          ...row,\n          features: typeof row.features === \"string\" ? JSON.parse(row.features) : row.features,\n          gallery: typeof row.gallery === \"string\" ? JSON.parse(row.gallery) : row.gallery || [],\n          metaDescription: row.meta_description || \"\",\n        };\n      }\n    }\n    return null;\n  }\n\n  async createCar(car: any): Promise<any> {\n    const id = this.generateId();\n    await pool.query(\n      \"INSERT INTO cars (id, title, location, image, price, rating, specs, features, gallery, meta_description) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\",\n      [id, car.title, car.location, car.image, car.price, car.rating, car.specs, JSON.stringify(car.features || []), JSON.stringify(car.gallery || []), car.metaDescription || \"\"]\n    );\n    return { id, ...car };\n  }\n\n  async updateCar(id: string, car: any): Promise<any | null> {\n    const existing = await this.getCarById(id);\n    if (!existing) return null;\n    await pool.query(\n      \"UPDATE cars SET title = ?, location = ?, image = ?, price = ?, rating = ?, specs = ?, features = ?, gallery = ?, meta_description = ? WHERE id = ?\",\n      [car.title, car.location, car.image, car.price, car.rating, car.specs, JSON.stringify(car.features || []), JSON.stringify(car.gallery || []), car.metaDescription || \"\", id]\n    );\n    return { id, ...car };\n  }\n\n  async deleteCar(id: string): Promise<boolean> {\n    const [result] = await pool.query<any>(\"DELETE FROM cars WHERE id = ?\", [id]);\n    return result.affectedRows > 0;\n  }\n\n  async getLastMinuteOffers(): Promise<any[]> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM last_minute_offers\");\n    return rows.map((row) => ({\n      ...row,\n      originalPrice: row.original_price,\n      endsIn: row.ends_in,\n      gallery: typeof row.gallery === \"string\" ? JSON.parse(row.gallery) : row.gallery || [],\n      metaDescription: row.meta_description || \"\",\n    }));\n  }\n\n  async getLastMinuteOfferById(id: string): Promise<any | null> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM last_minute_offers WHERE id = ?\", [id]);\n    if (rows.length === 0) return null;\n    const row = rows[0];\n    return {\n      ...row,\n      originalPrice: row.original_price,\n      endsIn: row.ends_in,\n      gallery: typeof row.gallery === \"string\" ? JSON.parse(row.gallery) : row.gallery || [],\n      metaDescription: row.meta_description || \"\",\n    };\n  }\n\n  async getLastMinuteOfferBySlug(slug: string): Promise<any | null> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM last_minute_offers\", []);\n    for (const row of rows) {\n      if (generateSlug(row.title) === slug) {\n        return {\n          ...row,\n          originalPrice: row.original_price,\n          endsIn: row.ends_in,\n          gallery: typeof row.gallery === \"string\" ? JSON.parse(row.gallery) : row.gallery || [],\n          metaDescription: row.meta_description || \"\",\n        };\n      }\n    }\n    return null;\n  }\n\n  async createLastMinuteOffer(offer: any): Promise<any> {\n    const id = this.generateId();\n    await pool.query(\n      \"INSERT INTO last_minute_offers (id, title, location, image, price, original_price, rating, ends_in, discount, gallery, meta_description) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\",\n      [id, offer.title, offer.location, offer.image, offer.price, offer.originalPrice, offer.rating, offer.endsIn, offer.discount, JSON.stringify(offer.gallery || []), offer.metaDescription || \"\"]\n    );\n    return { id, ...offer };\n  }\n\n  async updateLastMinuteOffer(id: string, offer: any): Promise<any | null> {\n    const existing = await this.getLastMinuteOfferById(id);\n    if (!existing) return null;\n    await pool.query(\n      \"UPDATE last_minute_offers SET title = ?, location = ?, image = ?, price = ?, original_price = ?, rating = ?, ends_in = ?, discount = ?, gallery = ?, meta_description = ? WHERE id = ?\",\n      [offer.title, offer.location, offer.image, offer.price, offer.originalPrice, offer.rating, offer.endsIn, offer.discount, JSON.stringify(offer.gallery || []), offer.metaDescription || \"\", id]\n    );\n    return { id, ...offer };\n  }\n\n  async deleteLastMinuteOffer(id: string): Promise<boolean> {\n    const [result] = await pool.query<any>(\"DELETE FROM last_minute_offers WHERE id = ?\", [id]);\n    return result.affectedRows > 0;\n  }\n\n  async createOffer(offer: any): Promise<any> {\n    return this.createLastMinuteOffer(offer);\n  }\n\n  async updateOffer(id: string, offer: any): Promise<any | null> {\n    return this.updateLastMinuteOffer(id, offer);\n  }\n\n  async deleteOffer(id: string): Promise<boolean> {\n    return this.deleteLastMinuteOffer(id);\n  }\n\n  async getBookings(): Promise<any[]> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM bookings ORDER BY created_at DESC\");\n    return rows.map((row) => ({\n      ...row,\n      paymentStatus: row.payment_status || \"Pending\",\n    }));\n  }\n\n  async getBookingById(id: string): Promise<any | null> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM bookings WHERE id = ?\", [id]);\n    if (rows.length === 0) return null;\n    const row = rows[0];\n    return {\n      ...row,\n      paymentStatus: row.payment_status || \"Pending\",\n    };\n  }\n\n  async createBooking(booking: any): Promise<any> {\n    const id = booking.id || `BKG-${this.generateId().toUpperCase().substring(0, 6)}`;\n    const paymentStatus = booking.paymentStatus || \"Pending\";\n    await pool.query(\n      \"INSERT INTO bookings (id, customer, item, date, status, amount, payment_status) VALUES (?, ?, ?, ?, ?, ?, ?)\",\n      [id, booking.customer, booking.item, booking.date, booking.status || \"Pending\", booking.amount, paymentStatus]\n    );\n    return { id, ...booking, paymentStatus };\n  }\n\n  async updateBooking(id: string, booking: any): Promise<any | null> {\n    const existing = await this.getBookingById(id);\n    if (!existing) return null;\n    const paymentStatus = booking.paymentStatus || existing.paymentStatus || \"Pending\";\n    await pool.query(\n      \"UPDATE bookings SET customer = ?, item = ?, date = ?, status = ?, amount = ?, payment_status = ? WHERE id = ?\",\n      [booking.customer || existing.customer, booking.item || existing.item, booking.date || existing.date, booking.status || existing.status, booking.amount || existing.amount, paymentStatus, id]\n    );\n    return { ...existing, ...booking, paymentStatus };\n  }\n\n  async updatePaymentStatus(id: string, paymentStatus: string): Promise<any | null> {\n    const existing = await this.getBookingById(id);\n    if (!existing) return null;\n    await pool.query(\"UPDATE bookings SET payment_status = ? WHERE id = ?\", [paymentStatus, id]);\n    return { ...existing, paymentStatus };\n  }\n\n  async deleteBooking(id: string): Promise<boolean> {\n    const [result] = await pool.query<any>(\"DELETE FROM bookings WHERE id = ?\", [id]);\n    return result.affectedRows > 0;\n  }\n\n  async getReviews(): Promise<any[]> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM reviews ORDER BY created_at DESC\");\n    return rows.map((row) => ({\n      ...row,\n      itemId: row.item_id,\n      itemType: row.item_type,\n      itemTitle: row.item_title,\n      userName: row.user_name,\n      userEmail: row.user_email,\n      createdAt: row.created_at,\n    }));\n  }\n\n  async getReviewsByItem(itemId: string, itemType: string): Promise<any[]> {\n    const [rows] = await pool.query<RowDataPacket[]>(\n      \"SELECT * FROM reviews WHERE item_id = ? AND item_type = ? ORDER BY created_at DESC\",\n      [itemId, itemType]\n    );\n    return rows.map((row) => ({\n      ...row,\n      itemId: row.item_id,\n      itemType: row.item_type,\n      itemTitle: row.item_title,\n      userName: row.user_name,\n      userEmail: row.user_email,\n      createdAt: row.created_at,\n    }));\n  }\n\n  async getApprovedReviewsByItem(itemId: string, itemType: string): Promise<any[]> {\n    const [rows] = await pool.query<RowDataPacket[]>(\n      \"SELECT * FROM reviews WHERE item_id = ? AND item_type = ? AND status = 'approved' ORDER BY created_at DESC\",\n      [itemId, itemType]\n    );\n    return rows.map((row) => ({\n      ...row,\n      itemId: row.item_id,\n      itemType: row.item_type,\n      itemTitle: row.item_title,\n      userName: row.user_name,\n      userEmail: row.user_email,\n      createdAt: row.created_at,\n    }));\n  }\n\n  async getReviewById(id: string): Promise<any | null> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM reviews WHERE id = ?\", [id]);\n    if (rows.length === 0) return null;\n    const row = rows[0];\n    return {\n      ...row,\n      itemId: row.item_id,\n      itemType: row.item_type,\n      itemTitle: row.item_title,\n      userName: row.user_name,\n      userEmail: row.user_email,\n      createdAt: row.created_at,\n    };\n  }\n\n  async createReview(review: any): Promise<any> {\n    const id = `rev-${this.generateId()}`;\n    await pool.query(\n      \"INSERT INTO reviews (id, item_id, item_type, item_title, user_name, user_email, rating, comment, status) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)\",\n      [id, review.itemId, review.itemType, review.itemTitle, review.userName, review.userEmail, review.rating, review.comment, review.status || \"pending\"]\n    );\n    return { id, ...review };\n  }\n\n  async updateReview(id: string, review: any): Promise<any | null> {\n    const existing = await this.getReviewById(id);\n    if (!existing) return null;\n    await pool.query(\n      \"UPDATE reviews SET status = ?, rating = ?, comment = ? WHERE id = ?\",\n      [review.status, review.rating, review.comment, id]\n    );\n    return { id, ...existing, ...review };\n  }\n\n  async updateReviewStatus(id: string, status: string): Promise<any | null> {\n    const existing = await this.getReviewById(id);\n    if (!existing) return null;\n    await pool.query(\"UPDATE reviews SET status = ? WHERE id = ?\", [status, id]);\n    return { ...existing, status };\n  }\n\n  async deleteReview(id: string): Promise<boolean> {\n    const [result] = await pool.query<any>(\"DELETE FROM reviews WHERE id = ?\", [id]);\n    return result.affectedRows > 0;\n  }\n\n  async getTickets(): Promise<any[]> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM support_tickets ORDER BY created_at DESC\");\n    const tickets = [];\n    for (const row of rows) {\n      const [replies] = await pool.query<RowDataPacket[]>(\n        \"SELECT * FROM ticket_replies WHERE ticket_id = ? ORDER BY created_at ASC\",\n        [row.id]\n      );\n      tickets.push({\n        ...row,\n        userName: row.user_name,\n        userEmail: row.user_email,\n        createdAt: row.created_at,\n        replies: replies.map((r) => ({\n          ...r,\n          ticketId: r.ticket_id,\n          createdAt: r.created_at,\n        })),\n      });\n    }\n    return tickets;\n  }\n\n  async getTicketsByUser(userEmail: string): Promise<any[]> {\n    const [rows] = await pool.query<RowDataPacket[]>(\n      \"SELECT * FROM support_tickets WHERE user_email = ? ORDER BY created_at DESC\",\n      [userEmail]\n    );\n    const tickets = [];\n    for (const row of rows) {\n      const [replies] = await pool.query<RowDataPacket[]>(\n        \"SELECT * FROM ticket_replies WHERE ticket_id = ? ORDER BY created_at ASC\",\n        [row.id]\n      );\n      tickets.push({\n        ...row,\n        userName: row.user_name,\n        userEmail: row.user_email,\n        createdAt: row.created_at,\n        replies: replies.map((r) => ({\n          ...r,\n          ticketId: r.ticket_id,\n          createdAt: r.created_at,\n        })),\n      });\n    }\n    return tickets;\n  }\n\n  async getTicketById(id: string): Promise<any | null> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM support_tickets WHERE id = ?\", [id]);\n    if (rows.length === 0) return null;\n    const row = rows[0];\n    const ticket: any = {\n      ...row,\n      userName: row.user_name,\n      userEmail: row.user_email,\n      createdAt: row.created_at,\n    };\n    const [replies] = await pool.query<RowDataPacket[]>(\n      \"SELECT * FROM ticket_replies WHERE ticket_id = ? ORDER BY created_at ASC\",\n      [id]\n    );\n    ticket.replies = replies.map((r) => ({\n      ...r,\n      ticketId: r.ticket_id,\n      createdAt: r.created_at,\n    }));\n    return ticket;\n  }\n\n  async createTicket(ticket: any): Promise<any> {\n    const id = `TKT-${this.generateId().toUpperCase().substring(0, 6)}`;\n    const statusMap: Record<string, string> = { open: \"Open\", \"in progress\": \"In Progress\", closed: \"Closed\" };\n    const priorityMap: Record<string, string> = { low: \"Low\", normal: \"Medium\", medium: \"Medium\", high: \"High\" };\n    const status = statusMap[(ticket.status || \"open\").toLowerCase()] || \"Open\";\n    const priority = priorityMap[(ticket.priority || \"medium\").toLowerCase()] || \"Medium\";\n    await pool.query(\n      \"INSERT INTO support_tickets (id, user_name, user_email, subject, message, status, priority) VALUES (?, ?, ?, ?, ?, ?, ?)\",\n      [id, ticket.userName, ticket.userEmail, ticket.subject, ticket.message, status, priority]\n    );\n    return { id, ...ticket, status, priority, replies: [] };\n  }\n\n  async updateTicketStatus(id: string, status: string): Promise<any | null> {\n    const existing = await this.getTicketById(id);\n    if (!existing) return null;\n    const statusMap: Record<string, string> = { open: \"Open\", \"in progress\": \"In Progress\", closed: \"Closed\" };\n    const mappedStatus = statusMap[status.toLowerCase()] || status;\n    await pool.query(\"UPDATE support_tickets SET status = ? WHERE id = ?\", [mappedStatus, id]);\n    return { ...existing, status: mappedStatus };\n  }\n\n  async addTicketReply(ticketId: string, reply: any): Promise<any> {\n    const id = this.generateId();\n    await pool.query(\n      \"INSERT INTO ticket_replies (id, ticket_id, sender, message) VALUES (?, ?, ?, ?)\",\n      [id, ticketId, reply.sender, reply.message]\n    );\n    return { id, ticketId, ...reply };\n  }\n\n  async deleteTicket(id: string): Promise<boolean> {\n    const [result] = await pool.query<any>(\"DELETE FROM support_tickets WHERE id = ?\", [id]);\n    return result.affectedRows > 0;\n  }\n\n  async getPaymentSettings(): Promise<any[]> {\n    try {\n      const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM payment_settings WHERE id = 1\");\n      const row = rows.length > 0 ? rows[0] : null;\n      \n      let bankDetails = {};\n      if (row?.bank_details) {\n        try {\n          bankDetails = JSON.parse(row.bank_details);\n        } catch (e) {\n          bankDetails = {};\n        }\n      }\n      \n      return [\n        {\n          id: 1,\n          provider: 'stripe',\n          enabled: row ? !!row.stripe_enabled : false,\n          publishableKey: row?.stripe_public_key || \"\",\n          secretKey: row?.stripe_secret_key || \"\",\n        },\n        {\n          id: 2,\n          provider: 'paypal',\n          enabled: row ? !!row.paypal_enabled : false,\n          publishableKey: row?.paypal_client_id || \"\",\n          secretKey: \"\",\n        },\n        {\n          id: 3,\n          provider: 'bank_transfer',\n          enabled: row ? !!row.bank_transfer_enabled : false,\n          additionalConfig: bankDetails,\n        },\n      ];\n    } catch (error) {\n      console.error(\"Error getting payment settings:\", error);\n      return [\n        { id: 1, provider: 'stripe', enabled: false, publishableKey: \"\", secretKey: \"\" },\n        { id: 2, provider: 'paypal', enabled: false, publishableKey: \"\", secretKey: \"\" },\n        { id: 3, provider: 'bank_transfer', enabled: false, additionalConfig: {} },\n      ];\n    }\n  }\n\n  async getPaymentSettingByProvider(provider: string): Promise<any | null> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM payment_settings WHERE id = 1\");\n    if (rows.length === 0) {\n      return null;\n    }\n    const row = rows[0];\n    if (provider === \"stripe\") {\n      return {\n        enabled: !!row.stripe_enabled,\n        publicKey: row.stripe_public_key || \"\",\n        secretKey: row.stripe_secret_key || \"\",\n      };\n    } else if (provider === \"paypal\") {\n      return {\n        enabled: !!row.paypal_enabled,\n        clientId: row.paypal_client_id || \"\",\n      };\n    } else if (provider === \"bankTransfer\") {\n      return {\n        enabled: !!row.bank_transfer_enabled,\n        details: row.bank_details || \"\",\n      };\n    }\n    return null;\n  }\n\n  async updatePaymentSettings(provider: string, settings: any): Promise<any> {\n    const [existing] = await pool.query<RowDataPacket[]>(\"SELECT * FROM payment_settings WHERE id = 1\");\n    \n    if (existing.length === 0) {\n      await pool.query(\"INSERT INTO payment_settings (id) VALUES (1)\");\n    }\n    \n    const updates: string[] = [];\n    const values: any[] = [];\n    \n    if (provider === \"stripe\") {\n      if (settings.enabled !== undefined) {\n        updates.push(\"stripe_enabled = ?\");\n        values.push(settings.enabled);\n      }\n      if (settings.publishableKey !== undefined) {\n        updates.push(\"stripe_public_key = ?\");\n        values.push(settings.publishableKey);\n      }\n      if (settings.secretKey !== undefined) {\n        updates.push(\"stripe_secret_key = ?\");\n        values.push(settings.secretKey);\n      }\n    } else if (provider === \"paypal\") {\n      if (settings.enabled !== undefined) {\n        updates.push(\"paypal_enabled = ?\");\n        values.push(settings.enabled);\n      }\n      if (settings.publishableKey !== undefined) {\n        updates.push(\"paypal_client_id = ?\");\n        values.push(settings.publishableKey);\n      }\n    } else if (provider === \"bank_transfer\" || provider === \"bankTransfer\") {\n      if (settings.enabled !== undefined) {\n        updates.push(\"bank_transfer_enabled = ?\");\n        values.push(settings.enabled);\n      }\n      if (settings.additionalConfig !== undefined) {\n        updates.push(\"bank_details = ?\");\n        values.push(JSON.stringify(settings.additionalConfig));\n      }\n    }\n    \n    if (updates.length > 0) {\n      await pool.query(\n        `UPDATE payment_settings SET ${updates.join(\", \")} WHERE id = 1`,\n        values\n      );\n    }\n    \n    return settings;\n  }\n\n  async getSubscribers(): Promise<any[]> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM subscribers ORDER BY subscribed_at DESC\");\n    return rows.map((row) => ({\n      ...row,\n      subscribedAt: row.subscribed_at,\n    }));\n  }\n\n  async createSubscriber(email: string, name?: string): Promise<any> {\n    const id = this.generateId();\n    await pool.query(\"INSERT INTO subscribers (id, email, name) VALUES (?, ?, ?)\", [id, email, name || null]);\n    return { id, email, name };\n  }\n\n  async deleteSubscriber(id: string): Promise<boolean> {\n    const [result] = await pool.query<any>(\"DELETE FROM subscribers WHERE id = ?\", [id]);\n    return result.affectedRows > 0;\n  }\n\n  async unsubscribeSubscriber(email: string): Promise<boolean> {\n    const [result] = await pool.query<any>(\"DELETE FROM subscribers WHERE email = ?\", [email]);\n    return result.affectedRows > 0;\n  }\n\n  async getEmailTemplates(): Promise<any[]> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM email_templates\");\n    return rows as any[];\n  }\n\n  async getEmailTemplateById(id: string): Promise<any | null> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM email_templates WHERE id = ?\", [id]);\n    return rows.length > 0 ? rows[0] : null;\n  }\n\n  async createEmailTemplate(template: any): Promise<any> {\n    const id = this.generateId();\n    await pool.query(\n      \"INSERT INTO email_templates (id, name, subject, body) VALUES (?, ?, ?, ?)\",\n      [id, template.name, template.subject, template.body]\n    );\n    return { id, ...template };\n  }\n\n  async updateEmailTemplate(id: string, template: any): Promise<any | null> {\n    const existing = await this.getEmailTemplateById(id);\n    if (!existing) return null;\n    await pool.query(\n      \"UPDATE email_templates SET name = ?, subject = ?, body = ? WHERE id = ?\",\n      [template.name, template.subject, template.body, id]\n    );\n    return { id, ...template };\n  }\n\n  async deleteEmailTemplate(id: string): Promise<boolean> {\n    const [result] = await pool.query<any>(\"DELETE FROM email_templates WHERE id = ?\", [id]);\n    return result.affectedRows > 0;\n  }\n\n  async getEmailSettings(): Promise<any | null> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM email_settings WHERE id = 1\");\n    if (rows.length === 0) return null;\n    const row = rows[0];\n    return {\n      smtpHost: row.smtp_host,\n      smtpPort: row.smtp_port,\n      smtpUser: row.smtp_user,\n      smtpPassword: row.smtp_password,\n      fromEmail: row.from_email,\n      fromName: row.from_name,\n    };\n  }\n\n  async updateEmailSettings(settings: any): Promise<any> {\n    await pool.query(\n      `INSERT INTO email_settings (id, smtp_host, smtp_port, smtp_user, smtp_password, from_email, from_name)\n       VALUES (1, ?, ?, ?, ?, ?, ?)\n       ON DUPLICATE KEY UPDATE smtp_host = ?, smtp_port = ?, smtp_user = ?, smtp_password = ?, from_email = ?, from_name = ?`,\n      [\n        settings.smtpHost, settings.smtpPort, settings.smtpUser, settings.smtpPassword, settings.fromEmail, settings.fromName,\n        settings.smtpHost, settings.smtpPort, settings.smtpUser, settings.smtpPassword, settings.fromEmail, settings.fromName,\n      ]\n    );\n    return settings;\n  }\n\n  async getUserByUsername(username: string): Promise<any | null> {\n    const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM users WHERE username = ?\", [username]);\n    return rows.length > 0 ? rows[0] : null;\n  }\n\n  async createUser(user: any): Promise<any> {\n    const id = this.generateId();\n    await pool.query(\n      \"INSERT INTO users (id, username, password, role) VALUES (?, ?, ?, ?)\",\n      [id, user.username, user.password, user.role || \"user\"]\n    );\n    return { id, ...user };\n  }\n\n  async getSiteSettings(): Promise<any> {\n    try {\n      const [rows] = await pool.query<RowDataPacket[]>(\"SELECT * FROM site_settings WHERE id = 1\");\n      if (rows.length === 0) {\n        return {\n          siteName: \"Voyager Hub\",\n          logoUrl: \"\",\n          tagline: \"Luxury Travel Experiences\",\n          seoTitle: \"Voyager Hub | Luxury Travel Experiences\",\n          seoDescription: \"Curating exceptional journeys for the discerning traveler.\",\n          seoKeywords: \"luxury travel, exclusive trips, 5-star hotels\",\n          contactEmail: \"\",\n          contactPhone: \"\",\n          contactAddress: \"\",\n          facebookUrl: \"\",\n          instagramUrl: \"\",\n          twitterUrl: \"\",\n          linkedinUrl: \"\",\n          youtubeUrl: \"\",\n          whatsappNumber: \"\",\n          defaultCurrency: \"EUR\",\n        };\n      }\n      const row = rows[0];\n      return {\n        siteName: row.site_name || \"Voyager Hub\",\n        logoUrl: row.logo_url || \"\",\n        tagline: row.tagline || \"\",\n        seoTitle: row.seo_title || \"\",\n        seoDescription: row.seo_description || \"\",\n        seoKeywords: row.seo_keywords || \"\",\n        contactEmail: row.contact_email || \"\",\n        contactPhone: row.contact_phone || \"\",\n        contactAddress: row.contact_address || \"\",\n        facebookUrl: row.facebook_url || \"\",\n        instagramUrl: row.instagram_url || \"\",\n        twitterUrl: row.twitter_url || \"\",\n        linkedinUrl: row.linkedin_url || \"\",\n        youtubeUrl: row.youtube_url || \"\",\n        whatsappNumber: row.whatsapp_number || \"\",\n        defaultCurrency: row.default_currency || \"EUR\",\n      };\n    } catch (error) {\n      console.error(\"Error getting site settings:\", error);\n      return {\n        siteName: \"Voyager Hub\",\n        logoUrl: \"\",\n        tagline: \"Luxury Travel Experiences\",\n        seoTitle: \"Voyager Hub | Luxury Travel Experiences\",\n        seoDescription: \"Curating exceptional journeys for the discerning traveler.\",\n        seoKeywords: \"luxury travel, exclusive trips, 5-star hotels\",\n        contactEmail: \"\",\n        contactPhone: \"\",\n        contactAddress: \"\",\n        facebookUrl: \"\",\n        instagramUrl: \"\",\n        twitterUrl: \"\",\n        linkedinUrl: \"\",\n        youtubeUrl: \"\",\n        whatsappNumber: \"\",\n        defaultCurrency: \"EUR\",\n      };\n    }\n  }\n\n  async updateSiteSettings(settings: any): Promise<any> {\n    await pool.query(\n      `INSERT INTO site_settings (id, site_name, logo_url, tagline, seo_title, seo_description, seo_keywords, \n        contact_email, contact_phone, contact_address, facebook_url, instagram_url, twitter_url, linkedin_url, youtube_url, whatsapp_number, default_currency)\n       VALUES (1, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n       ON DUPLICATE KEY UPDATE \n        site_name = VALUES(site_name), logo_url = VALUES(logo_url), tagline = VALUES(tagline),\n        seo_title = VALUES(seo_title), seo_description = VALUES(seo_description), seo_keywords = VALUES(seo_keywords),\n        contact_email = VALUES(contact_email), contact_phone = VALUES(contact_phone), contact_address = VALUES(contact_address),\n        facebook_url = VALUES(facebook_url), instagram_url = VALUES(instagram_url), twitter_url = VALUES(twitter_url),\n        linkedin_url = VALUES(linkedin_url), youtube_url = VALUES(youtube_url), whatsapp_number = VALUES(whatsapp_number),\n        default_currency = VALUES(default_currency)`,\n      [\n        settings.siteName || \"Voyager Hub\",\n        settings.logoUrl || \"\",\n        settings.tagline || \"\",\n        settings.seoTitle || \"\",\n        settings.seoDescription || \"\",\n        settings.seoKeywords || \"\",\n        settings.contactEmail || \"\",\n        settings.contactPhone || \"\",\n        settings.contactAddress || \"\",\n        settings.facebookUrl || \"\",\n        settings.instagramUrl || \"\",\n        settings.twitterUrl || \"\",\n        settings.linkedinUrl || \"\",\n        settings.youtubeUrl || \"\",\n        settings.whatsappNumber || \"\",\n        settings.defaultCurrency || \"EUR\",\n      ]\n    );\n    return settings;\n  }\n\n  // User Payment Methods\n  async getUserPaymentMethods(userId: string): Promise<any[]> {\n    const [rows] = await pool.query(\n      \"SELECT * FROM user_payment_methods WHERE user_id = ? ORDER BY is_default DESC, created_at DESC\",\n      [userId]\n    );\n    return (rows as any[]).map(row => ({\n      id: row.id,\n      userId: row.user_id,\n      brand: row.card_brand,\n      last4: row.last4,\n      expiry: row.expiry,\n      cardholderName: row.cardholder_name,\n      isDefault: row.is_default,\n      createdAt: row.created_at\n    }));\n  }\n\n  async addUserPaymentMethod(userId: string, card: any): Promise<any> {\n    const id = card.id || `card_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    await pool.query(\n      `INSERT INTO user_payment_methods (id, user_id, card_brand, last4, expiry, cardholder_name, is_default)\n       VALUES (?, ?, ?, ?, ?, ?, ?)`,\n      [id, userId, card.brand, card.last4, card.expiry, card.cardholderName, card.isDefault || false]\n    );\n    return { id, userId, ...card };\n  }\n\n  async deleteUserPaymentMethod(userId: string, cardId: string): Promise<boolean> {\n    const [result] = await pool.query(\n      \"DELETE FROM user_payment_methods WHERE id = ? AND user_id = ?\",\n      [cardId, userId]\n    );\n    return (result as any).affectedRows > 0;\n  }\n\n  async setDefaultPaymentMethod(userId: string, cardId: string): Promise<boolean> {\n    await pool.query(\"UPDATE user_payment_methods SET is_default = false WHERE user_id = ?\", [userId]);\n    const [result] = await pool.query(\n      \"UPDATE user_payment_methods SET is_default = true WHERE id = ? AND user_id = ?\",\n      [cardId, userId]\n    );\n    return (result as any).affectedRows > 0;\n  }\n\n  // User Rewards\n  async getUserRewards(userId: string): Promise<any> {\n    const [rows] = await pool.query(\"SELECT * FROM user_rewards WHERE user_id = ?\", [userId]);\n    const rewards = rows as any[];\n    if (rewards.length === 0) {\n      // Create default rewards record\n      const id = `rewards_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n      await pool.query(\n        `INSERT INTO user_rewards (id, user_id, points, tier, total_bookings, total_spent)\n         VALUES (?, ?, 0, 'Bronze', 0, 0)`,\n        [id, userId]\n      );\n      return {\n        id,\n        userId,\n        points: 0,\n        tier: 'Bronze',\n        totalBookings: 0,\n        totalSpent: 0,\n        memberSince: new Date()\n      };\n    }\n    const row = rewards[0];\n    return {\n      id: row.id,\n      userId: row.user_id,\n      points: row.points,\n      tier: row.tier,\n      totalBookings: row.total_bookings,\n      totalSpent: parseFloat(row.total_spent),\n      memberSince: row.member_since\n    };\n  }\n\n  async updateUserRewards(userId: string, updates: any): Promise<any> {\n    const current = await this.getUserRewards(userId);\n    const newPoints = updates.points ?? current.points;\n    const newTotalBookings = updates.totalBookings ?? current.totalBookings;\n    const newTotalSpent = updates.totalSpent ?? current.totalSpent;\n    \n    // Determine tier based on points\n    let tier = 'Bronze';\n    if (newPoints >= 50000) tier = 'Platinum';\n    else if (newPoints >= 20000) tier = 'Gold';\n    else if (newPoints >= 5000) tier = 'Silver';\n    \n    await pool.query(\n      `UPDATE user_rewards SET points = ?, tier = ?, total_bookings = ?, total_spent = ? WHERE user_id = ?`,\n      [newPoints, tier, newTotalBookings, newTotalSpent, userId]\n    );\n    return { ...current, points: newPoints, tier, totalBookings: newTotalBookings, totalSpent: newTotalSpent };\n  }\n\n  async addRewardPoints(userId: string, points: number, type: string, description: string, bookingId?: string): Promise<any> {\n    const current = await this.getUserRewards(userId);\n    const newPoints = current.points + points;\n    \n    // Add transaction record\n    const txId = `rtx_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n    await pool.query(\n      `INSERT INTO reward_transactions (id, user_id, points, type, description, booking_id)\n       VALUES (?, ?, ?, ?, ?, ?)`,\n      [txId, userId, points, type, description, bookingId || null]\n    );\n    \n    return this.updateUserRewards(userId, { points: newPoints });\n  }\n\n  async getRewardTransactions(userId: string): Promise<any[]> {\n    const [rows] = await pool.query(\n      \"SELECT * FROM reward_transactions WHERE user_id = ? ORDER BY created_at DESC LIMIT 50\",\n      [userId]\n    );\n    return (rows as any[]).map(row => ({\n      id: row.id,\n      userId: row.user_id,\n      points: row.points,\n      type: row.type,\n      description: row.description,\n      bookingId: row.booking_id,\n      createdAt: row.created_at\n    }));\n  }\n\n  // Get review statistics for an item (average rating and count)\n  async getItemReviewStats(itemId: string, itemType: string): Promise<{ averageRating: number; reviewCount: number }> {\n    const [rows] = await pool.query(\n      `SELECT AVG(rating) as avg_rating, COUNT(*) as review_count \n       FROM reviews \n       WHERE item_id = ? AND item_type = ? AND status = 'approved'`,\n      [itemId, itemType]\n    );\n    const result = (rows as any[])[0];\n    return {\n      averageRating: result.avg_rating ? parseFloat(result.avg_rating).toFixed(1) as any : 0,\n      reviewCount: parseInt(result.review_count) || 0\n    };\n  }\n}\n\nexport const storage = new MySQLStorage();\n","path":null,"size_bytes":44217,"size_tokens":null},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","path":null,"size_bytes":6210,"size_tokens":null},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","path":null,"size_bytes":1037,"size_tokens":null},"client/src/pages/cars.tsx":{"content":"import Layout from \"@/components/layout\";\nimport TripCard from \"@/components/trip-card\";\nimport { useStore } from \"@/lib/store-context\";\n\nexport default function CarsPage() {\n  const { cars } = useStore();\n\n  return (\n    <Layout>\n      <div className=\"bg-primary py-20 text-center text-white relative overflow-hidden\">\n         <div className=\"absolute inset-0 opacity-20 bg-[url('https://images.unsplash.com/photo-1503376763036-066120622c74?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center\" />\n         <div className=\"relative z-10 container mx-auto px-6\">\n            <h1 className=\"font-serif text-5xl font-bold mb-4\">Private Transport</h1>\n            <p className=\"text-xl text-white/80 max-w-2xl mx-auto\">Arrive in style with our fleet of luxury vehicles and private jets.</p>\n         </div>\n      </div>\n\n      <div className=\"container mx-auto px-6 py-16\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n          {cars.map((car) => (\n            <TripCard \n              key={car.id}\n              id={car.id}\n              image={car.image}\n              title={car.title}\n              location={car.location}\n              price={car.price}\n              rating={car.rating}\n              type=\"car\"\n            />\n          ))}\n        </div>\n      </div>\n    </Layout>\n  );\n}","path":null,"size_bytes":1330,"size_tokens":null},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Portal>\n    <TooltipPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </TooltipPrimitive.Portal>\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","path":null,"size_bytes":1267,"size_tokens":null},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport tailwindcss from \"@tailwindcss/vite\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\nimport { metaImagesPlugin } from \"./vite-plugin-meta-images\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    tailwindcss(),\n    metaImagesPlugin(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  css: {\n    postcss: {\n      plugins: [],\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    host: \"0.0.0.0\",\n    allowedHosts: true,\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","path":null,"size_bytes":1330,"size_tokens":null},"client/src/components/ui/dropdown-menu.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\",\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","path":null,"size_bytes":7606,"size_tokens":null},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-9 px-2 min-w-9\",\n        sm: \"h-8 px-1.5 min-w-8\",\n        lg: \"h-10 px-2.5 min-w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","path":null,"size_bytes":1486,"size_tokens":null},"DEPLOYMENT.md":{"content":"# VoyagerLuxury - Deployment Guide\n\n## Build Status\nâœ… **Build completed successfully!**\n\nThe production build has been created in the `dist/` directory:\n- **Client**: `dist/public/` - Frontend static files\n- **Server**: `dist/index.cjs` - Backend server bundle\n\n## Production Files Structure\n\n```\ndist/\nâ”œâ”€â”€ index.cjs          # Server bundle (962.8 KB)\nâ””â”€â”€ public/            # Client static files\n    â”œâ”€â”€ index.html\n    â”œâ”€â”€ assets/\n    â”‚   â”œâ”€â”€ index-*.js    # Main JavaScript bundle (1.74 MB)\n    â”‚   â”œâ”€â”€ index-*.css   # Styles (129.81 KB)\n    â”‚   â””â”€â”€ *.png         # Images\n```\n\n## Deployment Steps\n\n### 1. Prerequisites\n- Node.js 20+ installed on the server\n- MySQL database accessible\n- Environment variables configured (if needed)\n\n### 2. Database Configuration\nThe database connection is configured in `server/db.ts`:\n- Host: `mysql-200-131.mysql.prositehosting.net`\n- Database: `ocidb_01Raay53dC`\n- User: `voyageruser12`\n- Password: `19982206m.M`\n\n**Note**: The database tables will be automatically created on first run via `initializeDatabase()`.\n\n### 3. Environment Variables (Optional)\nCreate a `.env` file in the project root if you need to override defaults:\n\n```env\n# Stripe (if not configured in admin panel)\nSTRIPE_SECRET_KEY=sk_live_your_key_here\nVITE_STRIPE_PUBLISHABLE_KEY=pk_live_your_key_here\n\n# Server Port (default: 5000)\nPORT=5000\nNODE_ENV=production\n```\n\n### 4. Install Production Dependencies\n```bash\nnpm install --production\n```\n\n**IMPORTANT**: Make sure `mysql2` is installed. If you get MySQL connection errors, run:\n```bash\nnpm install mysql2\n```\n\n### 4.1. Run Database Diagnostics (Optional but Recommended)\nBefore starting the server, test your database connection:\n```bash\nnode diagnose-db.js\n```\n\nThis will check:\n- âœ… mysql2 package installation\n- âœ… Database connectivity\n- âœ… Required tables existence\n- âœ… Environment configuration\n\n### 5. Start the Production Server\n\n**Recommended: Use the automated startup script** (checks everything automatically):\n```bash\nnpm run start:auto\n```\n\nOr on Windows:\n```bash\nstart.bat\n```\n\nOr on Linux/Mac:\n```bash\nchmod +x start.sh\n./start.sh\n```\n\n**Manual start** (if you prefer):\n```bash\nnpm start\n```\n\nOr directly:\n```bash\nNODE_ENV=production node dist/index.cjs\n```\n\n**What the automated script does:**\n- âœ… Checks Node.js version (requires 20+)\n- âœ… Verifies project files exist\n- âœ… Installs missing dependencies automatically\n- âœ… Tests MySQL database connection\n- âœ… Checks if production build exists\n- âœ… Builds project if needed\n- âœ… Starts the server with proper configuration\n\nThe server will:\n- Connect to MySQL database\n- Initialize all database tables if they don't exist\n- Start on port 5000 (or PORT environment variable)\n- Serve the frontend from `dist/public/`\n\n### 6. Verify Deployment\n1. Open your browser and navigate to `http://your-server:5000`\n2. Test the following:\n   - âœ… Homepage loads\n   - âœ… Trips/Hotels/Cars pages work\n   - âœ… Admin login works (admin@voyager.com / admin123)\n   - âœ… Booking functionality\n   - âœ… Database connections\n\n## Production Checklist\n\n### Before Going Live:\n- [ ] Configure Stripe API keys in Admin â†’ Settings â†’ Payments\n- [ ] Configure email settings in Admin â†’ Settings â†’ Email\n- [ ] Set up bank transfer details in Admin â†’ Settings â†’ Payments\n- [ ] Test all payment methods\n- [ ] Verify database backups are set up\n- [ ] Set up SSL/HTTPS certificate\n- [ ] Configure firewall rules\n- [ ] Set up process manager (PM2, systemd, etc.)\n\n### Recommended Process Manager (PM2)\n```bash\n# Install PM2 globally\nnpm install -g pm2\n\n# Start the application\npm2 start dist/index.cjs --name voyagerluxury\n\n# Save PM2 configuration\npm2 save\n\n# Set up PM2 to start on system boot\npm2 startup\n```\n\n### Systemd Service (Alternative)\nCreate `/etc/systemd/system/voyagerluxury.service`:\n```ini\n[Unit]\nDescription=VoyagerLuxury Application\nAfter=network.target\n\n[Service]\nType=simple\nUser=your-user\nWorkingDirectory=/path/to/VoyagerLuxury\nExecStart=/usr/bin/node dist/index.cjs\nRestart=always\nEnvironment=NODE_ENV=production\nEnvironment=PORT=5000\n\n[Install]\nWantedBy=multi-user.target\n```\n\nThen:\n```bash\nsudo systemctl enable voyagerluxury\nsudo systemctl start voyagerluxury\n```\n\n## Performance Optimization\n\n### Current Build Stats:\n- Client JS: 1.74 MB (429.80 KB gzipped)\n- Client CSS: 129.81 KB (20.29 KB gzipped)\n- Server: 962.8 KB\n\n### Recommendations:\n1. **Enable Gzip compression** on your web server (Nginx/Apache)\n2. **Use CDN** for static assets\n3. **Enable HTTP/2** for better performance\n4. **Set up caching** for static assets\n5. **Consider code splitting** for large chunks (warning shown in build)\n\n## Security Checklist\n\n- [ ] Change default admin credentials\n- [ ] Use strong database passwords\n- [ ] Enable HTTPS/SSL\n- [ ] Set up CORS properly if needed\n- [ ] Configure rate limiting\n- [ ] Set up firewall rules\n- [ ] Regular security updates\n- [ ] Database backup strategy\n\n## Troubleshooting\n\n### âš ï¸ MySQL Not Reading After Deployment\n\n**Most Common Issue**: The build has been updated to include `mysql2` in the bundle. If you're still having issues:\n\n1. **Run diagnostics first**:\n   ```bash\n   node diagnose-db.js\n   ```\n\n2. **Check server startup logs** - You should see:\n   ```\n   âœ… Database connected successfully\n   âœ… Database tables initialized successfully\n   ```\n\n3. **Verify mysql2 is installed**:\n   ```bash\n   npm install mysql2\n   ```\n\n4. **Rebuild if needed**:\n   ```bash\n   npm run build\n   ```\n\n5. **Check network connectivity**:\n   - Ensure server can reach `mysql-200-131.mysql.prositehosting.net:3306`\n   - Check firewall rules\n   - Verify MySQL allows remote connections\n\n6. **See detailed troubleshooting**: Check `DEPLOYMENT_TROUBLESHOOTING.md`\n\n### Server won't start:\n- Check if port 5000 is available\n- Verify database connection\n- Check Node.js version (requires 20+)\n- Review server logs\n\n### Database connection errors:\n- Verify database credentials in `server/db.ts`\n- Check firewall rules allow MySQL connections\n- Ensure database server is running\n- Run `node diagnose-db.js` for detailed diagnostics\n\n### Payment errors:\n- Configure Stripe keys in Admin panel\n- Check Stripe API key validity\n- Verify webhook endpoints if using webhooks\n\n## Support\n\nFor issues or questions:\n1. Check server logs\n2. Check browser console for frontend errors\n3. Verify database connectivity\n4. Review this deployment guide\n\n---\n\n**Build Date**: $(Get-Date -Format \"yyyy-MM-dd HH:mm:ss\")\n**Version**: 1.0.0\n**Status**: âœ… Ready for Production\n\n","path":null,"size_bytes":6580,"size_tokens":null},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","path":null,"size_bytes":1753,"size_tokens":null},"start.js":{"content":"#!/usr/bin/env node\n\n/**\n * VoyagerLuxury - Automated Startup Script\n * This script ensures everything is set up correctly before starting the server\n */\n\nconst { execSync, spawn } = require('child_process');\nconst fs = require('fs');\nconst path = require('path');\n\nconst colors = {\n  reset: '\\x1b[0m',\n  green: '\\x1b[32m',\n  red: '\\x1b[31m',\n  yellow: '\\x1b[33m',\n  blue: '\\x1b[34m',\n  cyan: '\\x1b[36m',\n};\n\nfunction log(message, color = 'reset') {\n  console.log(`${colors[color]}${message}${colors.reset}`);\n}\n\nfunction logStep(step, message) {\n  log(`\\n[${step}] ${message}`, 'cyan');\n}\n\nfunction logSuccess(message) {\n  log(`âœ… ${message}`, 'green');\n}\n\nfunction logError(message) {\n  log(`âŒ ${message}`, 'red');\n}\n\nfunction logWarning(message) {\n  log(`âš ï¸  ${message}`, 'yellow');\n}\n\nfunction logInfo(message) {\n  log(`â„¹ï¸  ${message}`, 'blue');\n}\n\n// Check if command exists\nfunction commandExists(command) {\n  try {\n    execSync(`which ${command}`, { stdio: 'ignore' });\n    return true;\n  } catch {\n    try {\n      execSync(`where ${command}`, { stdio: 'ignore' });\n      return true;\n    } catch {\n      return false;\n    }\n  }\n}\n\n// Check Node.js version\nfunction checkNodeVersion() {\n  logStep('1', 'Checking Node.js version...');\n  try {\n    const version = execSync('node --version', { encoding: 'utf-8' }).trim();\n    const majorVersion = parseInt(version.replace('v', '').split('.')[0]);\n    \n    if (majorVersion >= 20) {\n      logSuccess(`Node.js ${version} detected`);\n      return true;\n    } else {\n      logError(`Node.js ${version} detected. Requires Node.js 20 or higher.`);\n      logInfo('Please upgrade Node.js: https://nodejs.org/');\n      return false;\n    }\n  } catch (error) {\n    logError('Node.js not found. Please install Node.js 20+ from https://nodejs.org/');\n    return false;\n  }\n}\n\n// Check if package.json exists\nfunction checkPackageJson() {\n  logStep('2', 'Checking project files...');\n  if (!fs.existsSync('package.json')) {\n    logError('package.json not found. Are you in the correct directory?');\n    return false;\n  }\n  logSuccess('package.json found');\n  return true;\n}\n\n// Check and install dependencies\nasync function checkDependencies() {\n  logStep('3', 'Checking dependencies...');\n  \n  const nodeModulesExists = fs.existsSync('node_modules');\n  const packageJson = JSON.parse(fs.readFileSync('package.json', 'utf-8'));\n  const requiredDeps = ['mysql2', 'express', 'react', 'react-dom'];\n  \n  let needsInstall = false;\n  \n  if (!nodeModulesExists) {\n    logWarning('node_modules not found');\n    needsInstall = true;\n  } else {\n    // Check for critical dependencies\n    for (const dep of requiredDeps) {\n      const depPath = path.join('node_modules', dep);\n      if (!fs.existsSync(depPath)) {\n        logWarning(`${dep} not found in node_modules`);\n        needsInstall = true;\n        break;\n      }\n    }\n  }\n  \n  if (needsInstall) {\n    logInfo('Installing dependencies...');\n    try {\n      execSync('npm install', { stdio: 'inherit' });\n      logSuccess('Dependencies installed successfully');\n    } catch (error) {\n      logError('Failed to install dependencies');\n      logError(error.message);\n      return false;\n    }\n  } else {\n    logSuccess('All dependencies are installed');\n  }\n  \n  return true;\n}\n\n// Test MySQL connection\nasync function testDatabaseConnection() {\n  logStep('4', 'Testing MySQL database connection...');\n  \n  // Load mysql2 dynamically (it should be installed by now)\n  let mysql;\n  try {\n    mysql = require('mysql2/promise');\n  } catch (e) {\n    logError('mysql2 package not found. It should have been installed in step 3.');\n    logInfo('Please run: npm install mysql2');\n    return false;\n  }\n  \n  const dbConfig = {\n    host: 'mysql-200-131.mysql.prositehosting.net',\n    user: 'voyageruser12',\n    password: '19982206m.M',\n    database: 'ocidb_01Raay53dC',\n    connectTimeout: 15000,\n  };\n  \n  try {\n    logInfo('Attempting to connect to database...');\n    const connection = await mysql.createConnection(dbConfig);\n    \n    // Test query\n    await connection.execute('SELECT 1 as test');\n    logSuccess('Database connection successful');\n    \n    // Check if database exists and has tables\n    const [tables] = await connection.execute(`\n      SELECT COUNT(*) as count \n      FROM information_schema.tables \n      WHERE table_schema = ?\n    `, [dbConfig.database]);\n    \n    logInfo(`Database has ${tables[0].count} tables`);\n    \n    // Check for required tables\n    const [requiredTables] = await connection.execute(`\n      SELECT table_name \n      FROM information_schema.tables \n      WHERE table_schema = ? \n      AND table_name IN ('trips', 'hotels', 'cars', 'bookings', 'reviews', 'users')\n    `, [dbConfig.database]);\n    \n    const foundTables = requiredTables.map(t => t.table_name);\n    const allRequired = ['trips', 'hotels', 'cars', 'bookings', 'reviews', 'users'];\n    const missingTables = allRequired.filter(t => !foundTables.includes(t));\n    \n    if (missingTables.length > 0) {\n      logWarning(`Some tables are missing: ${missingTables.join(', ')}`);\n      logInfo('Tables will be created automatically on server startup');\n    } else {\n      logSuccess('All required tables exist');\n    }\n    \n    await connection.end();\n    return true;\n  } catch (error) {\n    logError('Database connection failed!');\n    logError(`Error: ${error.message}`);\n    logWarning('The server will still start, but database features may not work.');\n    logInfo('Please check:');\n    logInfo('  - Database server is running');\n    logInfo('  - Network connectivity to MySQL server');\n    logInfo('  - Firewall rules allow MySQL connections (port 3306)');\n    logInfo('  - Database credentials are correct');\n    return false;\n  }\n}\n\n// Check if build exists\nfunction checkBuild() {\n  logStep('5', 'Checking production build...');\n  \n  const distPath = path.join('dist', 'index.cjs');\n  const publicPath = path.join('dist', 'public', 'index.html');\n  \n  if (fs.existsSync(distPath) && fs.existsSync(publicPath)) {\n    const stats = fs.statSync(distPath);\n    logSuccess(`Production build found (${(stats.size / 1024 / 1024).toFixed(2)} MB)`);\n    return true;\n  } else {\n    logWarning('Production build not found');\n    return false;\n  }\n}\n\n// Build the project\nfunction buildProject() {\n  logStep('6', 'Building project for production...');\n  \n  try {\n    logInfo('This may take a few minutes...');\n    execSync('npm run build', { stdio: 'inherit' });\n    logSuccess('Build completed successfully');\n    return true;\n  } catch (error) {\n    logError('Build failed!');\n    logError('Please check the error messages above');\n    return false;\n  }\n}\n\n// Start the server\nfunction startServer() {\n  logStep('7', 'Starting server...');\n  \n  const isProduction = process.env.NODE_ENV === 'production' || fs.existsSync('dist');\n  \n  if (isProduction && fs.existsSync('dist/index.cjs')) {\n    logInfo('Starting production server...');\n    logInfo('Server will be available at http://localhost:5000');\n    logInfo('Press Ctrl+C to stop the server\\n');\n    \n    const server = spawn('node', ['dist/index.cjs'], {\n      stdio: 'inherit',\n      env: { ...process.env, NODE_ENV: 'production' }\n    });\n    \n    server.on('error', (error) => {\n      logError(`Failed to start server: ${error.message}`);\n      process.exit(1);\n    });\n    \n    server.on('exit', (code) => {\n      if (code !== 0 && code !== null) {\n        logError(`Server exited with code ${code}`);\n      }\n    });\n    \n    // Handle graceful shutdown\n    process.on('SIGINT', () => {\n      log('\\n\\nShutting down server...', 'yellow');\n      server.kill('SIGINT');\n      process.exit(0);\n    });\n    \n    process.on('SIGTERM', () => {\n      log('\\n\\nShutting down server...', 'yellow');\n      server.kill('SIGTERM');\n      process.exit(0);\n    });\n    \n    return server;\n  } else {\n    logInfo('Starting development server...');\n    logInfo('Server will be available at http://localhost:5000');\n    logInfo('Press Ctrl+C to stop the server\\n');\n    \n    const server = spawn('npm', ['run', 'dev'], {\n      stdio: 'inherit',\n      shell: true\n    });\n    \n    server.on('error', (error) => {\n      logError(`Failed to start server: ${error.message}`);\n      process.exit(1);\n    });\n    \n    // Handle graceful shutdown\n    process.on('SIGINT', () => {\n      log('\\n\\nShutting down server...', 'yellow');\n      server.kill('SIGINT');\n      process.exit(0);\n    });\n    \n    process.on('SIGTERM', () => {\n      log('\\n\\nShutting down server...', 'yellow');\n      server.kill('SIGTERM');\n      process.exit(0);\n    });\n    \n    return server;\n  }\n}\n\n// Main execution\nasync function main() {\n  log('\\n' + '='.repeat(60), 'cyan');\n  log('  VoyagerLuxury - Automated Startup Script', 'cyan');\n  log('='.repeat(60) + '\\n', 'cyan');\n  \n  // Step 1: Check Node.js\n  if (!checkNodeVersion()) {\n    process.exit(1);\n  }\n  \n  // Step 2: Check package.json\n  if (!checkPackageJson()) {\n    process.exit(1);\n  }\n  \n  // Step 3: Check and install dependencies\n  if (!(await checkDependencies())) {\n    process.exit(1);\n  }\n  \n  // Step 4: Test database connection\n  const dbConnected = await testDatabaseConnection();\n  if (!dbConnected) {\n    logWarning('Continuing despite database connection issues...');\n    logWarning('The server will attempt to connect on startup');\n  }\n  \n  // Step 5 & 6: Check and build if needed\n  const buildExists = checkBuild();\n  if (!buildExists) {\n    logInfo('Building project for production...');\n    if (!buildProject()) {\n      logError('Cannot start server without a successful build');\n      process.exit(1);\n    }\n  }\n  \n  // Step 7: Start server\n  log('\\n' + '='.repeat(60), 'green');\n  log('  All checks passed! Starting server...', 'green');\n  log('='.repeat(60) + '\\n', 'green');\n  \n  startServer();\n}\n\n// Run the script\nmain().catch((error) => {\n  logError('Fatal error during startup:');\n  logError(error.message);\n  console.error(error);\n  process.exit(1);\n});\n\n","path":null,"size_bytes":9956,"size_tokens":null},"client/src/components/ui/label.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","path":null,"size_bytes":724,"size_tokens":null},"node_modules/.vite/deps/@radix-ui_react-tooltip.js":{"content":"\"use client\";\nimport {\n  Root\n} from \"./chunk-U7AKGNNJ.js\";\nimport {\n  Anchor,\n  Arrow,\n  Content,\n  Root2,\n  createPopperScope\n} from \"./chunk-KBNPYQPR.js\";\nimport \"./chunk-UBWUW3DH.js\";\nimport {\n  Presence\n} from \"./chunk-F2O2PWMG.js\";\nimport {\n  DismissableLayer,\n  Portal\n} from \"./chunk-LIRJVJKB.js\";\nimport \"./chunk-RQSKBWDH.js\";\nimport {\n  useId\n} from \"./chunk-FTOBKFDQ.js\";\nimport {\n  Primitive\n} from \"./chunk-GAO6O33O.js\";\nimport {\n  createContextScope\n} from \"./chunk-RHO474TS.js\";\nimport \"./chunk-3NDCRRCM.js\";\nimport {\n  useLayoutEffect2\n} from \"./chunk-GUZOPJU6.js\";\nimport {\n  composeRefs,\n  useComposedRefs\n} from \"./chunk-MS2BCRFE.js\";\nimport \"./chunk-I3XRBTSS.js\";\nimport {\n  require_jsx_runtime\n} from \"./chunk-T7ATK2ZT.js\";\nimport {\n  require_react\n} from \"./chunk-YX2XZWS3.js\";\nimport {\n  __toESM\n} from \"./chunk-G3PMV62Z.js\";\n\n// node_modules/@radix-ui/react-tooltip/dist/index.mjs\nvar React3 = __toESM(require_react(), 1);\n\n// node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/primitive/dist/index.mjs\nvar canUseDOM = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\nfunction composeEventHandlers(originalEventHandler, ourEventHandler, { checkForDefaultPrevented = true } = {}) {\n  return function handleEvent(event) {\n    originalEventHandler?.(event);\n    if (checkForDefaultPrevented === false || !event.defaultPrevented) {\n      return ourEventHandler?.(event);\n    }\n  };\n}\n\n// node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-slot/dist/index.mjs\nvar React = __toESM(require_react(), 1);\nvar import_jsx_runtime = __toESM(require_jsx_runtime(), 1);\nfunction createSlot(ownerName) {\n  const SlotClone = createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return (0, import_jsx_runtime.jsx)(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return (0, import_jsx_runtime.jsx)(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = createSlot(\"Slot\");\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\nfunction createSlottable(ownerName) {\n  const Slottable22 = ({ children }) => {\n    return (0, import_jsx_runtime.jsx)(import_jsx_runtime.Fragment, { children });\n  };\n  Slottable22.displayName = `${ownerName}.Slottable`;\n  Slottable22.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable22;\n}\nvar Slottable = createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\n\n// node_modules/@radix-ui/react-tooltip/node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs\nvar React2 = __toESM(require_react(), 1);\nvar React22 = __toESM(require_react(), 1);\nvar useInsertionEffect = React2[\" useInsertionEffect \".trim().toString()] || useLayoutEffect2;\nfunction useControllableState({\n  prop,\n  defaultProp,\n  onChange = () => {\n  },\n  caller\n}) {\n  const [uncontrolledProp, setUncontrolledProp, onChangeRef] = useUncontrolledState({\n    defaultProp,\n    onChange\n  });\n  const isControlled = prop !== void 0;\n  const value = isControlled ? prop : uncontrolledProp;\n  if (true) {\n    const isControlledRef = React2.useRef(prop !== void 0);\n    React2.useEffect(() => {\n      const wasControlled = isControlledRef.current;\n      if (wasControlled !== isControlled) {\n        const from = wasControlled ? \"controlled\" : \"uncontrolled\";\n        const to = isControlled ? \"controlled\" : \"uncontrolled\";\n        console.warn(\n          `${caller} is changing from ${from} to ${to}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`\n        );\n      }\n      isControlledRef.current = isControlled;\n    }, [isControlled, caller]);\n  }\n  const setValue = React2.useCallback(\n    (nextValue) => {\n      if (isControlled) {\n        const value2 = isFunction(nextValue) ? nextValue(prop) : nextValue;\n        if (value2 !== prop) {\n          onChangeRef.current?.(value2);\n        }\n      } else {\n        setUncontrolledProp(nextValue);\n      }\n    },\n    [isControlled, prop, setUncontrolledProp, onChangeRef]\n  );\n  return [value, setValue];\n}\nfunction useUncontrolledState({\n  defaultProp,\n  onChange\n}) {\n  const [value, setValue] = React2.useState(defaultProp);\n  const prevValueRef = React2.useRef(value);\n  const onChangeRef = React2.useRef(onChange);\n  useInsertionEffect(() => {\n    onChangeRef.current = onChange;\n  }, [onChange]);\n  React2.useEffect(() => {\n    if (prevValueRef.current !== value) {\n      onChangeRef.current?.(value);\n      prevValueRef.current = value;\n    }\n  }, [value, prevValueRef]);\n  return [value, setValue, onChangeRef];\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nvar SYNC_STATE = Symbol(\"RADIX:SYNC_STATE\");\n\n// node_modules/@radix-ui/react-tooltip/dist/index.mjs\nvar import_jsx_runtime2 = __toESM(require_jsx_runtime(), 1);\nvar [createTooltipContext, createTooltipScope] = createContextScope(\"Tooltip\", [\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar PROVIDER_NAME = \"TooltipProvider\";\nvar DEFAULT_DELAY_DURATION = 700;\nvar TOOLTIP_OPEN = \"tooltip.open\";\nvar [TooltipProviderContextProvider, useTooltipProviderContext] = createTooltipContext(PROVIDER_NAME);\nvar TooltipProvider = (props) => {\n  const {\n    __scopeTooltip,\n    delayDuration = DEFAULT_DELAY_DURATION,\n    skipDelayDuration = 300,\n    disableHoverableContent = false,\n    children\n  } = props;\n  const isOpenDelayedRef = React3.useRef(true);\n  const isPointerInTransitRef = React3.useRef(false);\n  const skipDelayTimerRef = React3.useRef(0);\n  React3.useEffect(() => {\n    const skipDelayTimer = skipDelayTimerRef.current;\n    return () => window.clearTimeout(skipDelayTimer);\n  }, []);\n  return (0, import_jsx_runtime2.jsx)(\n    TooltipProviderContextProvider,\n    {\n      scope: __scopeTooltip,\n      isOpenDelayedRef,\n      delayDuration,\n      onOpen: React3.useCallback(() => {\n        window.clearTimeout(skipDelayTimerRef.current);\n        isOpenDelayedRef.current = false;\n      }, []),\n      onClose: React3.useCallback(() => {\n        window.clearTimeout(skipDelayTimerRef.current);\n        skipDelayTimerRef.current = window.setTimeout(\n          () => isOpenDelayedRef.current = true,\n          skipDelayDuration\n        );\n      }, [skipDelayDuration]),\n      isPointerInTransitRef,\n      onPointerInTransitChange: React3.useCallback((inTransit) => {\n        isPointerInTransitRef.current = inTransit;\n      }, []),\n      disableHoverableContent,\n      children\n    }\n  );\n};\nTooltipProvider.displayName = PROVIDER_NAME;\nvar TOOLTIP_NAME = \"Tooltip\";\nvar [TooltipContextProvider, useTooltipContext] = createTooltipContext(TOOLTIP_NAME);\nvar Tooltip = (props) => {\n  const {\n    __scopeTooltip,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    disableHoverableContent: disableHoverableContentProp,\n    delayDuration: delayDurationProp\n  } = props;\n  const providerContext = useTooltipProviderContext(TOOLTIP_NAME, props.__scopeTooltip);\n  const popperScope = usePopperScope(__scopeTooltip);\n  const [trigger, setTrigger] = React3.useState(null);\n  const contentId = useId();\n  const openTimerRef = React3.useRef(0);\n  const disableHoverableContent = disableHoverableContentProp ?? providerContext.disableHoverableContent;\n  const delayDuration = delayDurationProp ?? providerContext.delayDuration;\n  const wasOpenDelayedRef = React3.useRef(false);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: (open2) => {\n      if (open2) {\n        providerContext.onOpen();\n        document.dispatchEvent(new CustomEvent(TOOLTIP_OPEN));\n      } else {\n        providerContext.onClose();\n      }\n      onOpenChange?.(open2);\n    },\n    caller: TOOLTIP_NAME\n  });\n  const stateAttribute = React3.useMemo(() => {\n    return open ? wasOpenDelayedRef.current ? \"delayed-open\" : \"instant-open\" : \"closed\";\n  }, [open]);\n  const handleOpen = React3.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = 0;\n    wasOpenDelayedRef.current = false;\n    setOpen(true);\n  }, [setOpen]);\n  const handleClose = React3.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = 0;\n    setOpen(false);\n  }, [setOpen]);\n  const handleDelayedOpen = React3.useCallback(() => {\n    window.clearTimeout(openTimerRef.current);\n    openTimerRef.current = window.setTimeout(() => {\n      wasOpenDelayedRef.current = true;\n      setOpen(true);\n      openTimerRef.current = 0;\n    }, delayDuration);\n  }, [delayDuration, setOpen]);\n  React3.useEffect(() => {\n    return () => {\n      if (openTimerRef.current) {\n        window.clearTimeout(openTimerRef.current);\n        openTimerRef.current = 0;\n      }\n    };\n  }, []);\n  return (0, import_jsx_runtime2.jsx)(Root2, { ...popperScope, children: (0, import_jsx_runtime2.jsx)(\n    TooltipContextProvider,\n    {\n      scope: __scopeTooltip,\n      contentId,\n      open,\n      stateAttribute,\n      trigger,\n      onTriggerChange: setTrigger,\n      onTriggerEnter: React3.useCallback(() => {\n        if (providerContext.isOpenDelayedRef.current) handleDelayedOpen();\n        else handleOpen();\n      }, [providerContext.isOpenDelayedRef, handleDelayedOpen, handleOpen]),\n      onTriggerLeave: React3.useCallback(() => {\n        if (disableHoverableContent) {\n          handleClose();\n        } else {\n          window.clearTimeout(openTimerRef.current);\n          openTimerRef.current = 0;\n        }\n      }, [handleClose, disableHoverableContent]),\n      onOpen: handleOpen,\n      onClose: handleClose,\n      disableHoverableContent,\n      children\n    }\n  ) });\n};\nTooltip.displayName = TOOLTIP_NAME;\nvar TRIGGER_NAME = \"TooltipTrigger\";\nvar TooltipTrigger = React3.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTooltip, ...triggerProps } = props;\n    const context = useTooltipContext(TRIGGER_NAME, __scopeTooltip);\n    const providerContext = useTooltipProviderContext(TRIGGER_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const ref = React3.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref, context.onTriggerChange);\n    const isPointerDownRef = React3.useRef(false);\n    const hasPointerMoveOpenedRef = React3.useRef(false);\n    const handlePointerUp = React3.useCallback(() => isPointerDownRef.current = false, []);\n    React3.useEffect(() => {\n      return () => document.removeEventListener(\"pointerup\", handlePointerUp);\n    }, [handlePointerUp]);\n    return (0, import_jsx_runtime2.jsx)(Anchor, { asChild: true, ...popperScope, children: (0, import_jsx_runtime2.jsx)(\n      Primitive.button,\n      {\n        \"aria-describedby\": context.open ? context.contentId : void 0,\n        \"data-state\": context.stateAttribute,\n        ...triggerProps,\n        ref: composedRefs,\n        onPointerMove: composeEventHandlers(props.onPointerMove, (event) => {\n          if (event.pointerType === \"touch\") return;\n          if (!hasPointerMoveOpenedRef.current && !providerContext.isPointerInTransitRef.current) {\n            context.onTriggerEnter();\n            hasPointerMoveOpenedRef.current = true;\n          }\n        }),\n        onPointerLeave: composeEventHandlers(props.onPointerLeave, () => {\n          context.onTriggerLeave();\n          hasPointerMoveOpenedRef.current = false;\n        }),\n        onPointerDown: composeEventHandlers(props.onPointerDown, () => {\n          if (context.open) {\n            context.onClose();\n          }\n          isPointerDownRef.current = true;\n          document.addEventListener(\"pointerup\", handlePointerUp, { once: true });\n        }),\n        onFocus: composeEventHandlers(props.onFocus, () => {\n          if (!isPointerDownRef.current) context.onOpen();\n        }),\n        onBlur: composeEventHandlers(props.onBlur, context.onClose),\n        onClick: composeEventHandlers(props.onClick, context.onClose)\n      }\n    ) });\n  }\n);\nTooltipTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"TooltipPortal\";\nvar [PortalProvider, usePortalContext] = createTooltipContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar TooltipPortal = (props) => {\n  const { __scopeTooltip, forceMount, children, container } = props;\n  const context = useTooltipContext(PORTAL_NAME, __scopeTooltip);\n  return (0, import_jsx_runtime2.jsx)(PortalProvider, { scope: __scopeTooltip, forceMount, children: (0, import_jsx_runtime2.jsx)(Presence, { present: forceMount || context.open, children: (0, import_jsx_runtime2.jsx)(Portal, { asChild: true, container, children }) }) });\n};\nTooltipPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"TooltipContent\";\nvar TooltipContent = React3.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeTooltip);\n    const { forceMount = portalContext.forceMount, side = \"top\", ...contentProps } = props;\n    const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n    return (0, import_jsx_runtime2.jsx)(Presence, { present: forceMount || context.open, children: context.disableHoverableContent ? (0, import_jsx_runtime2.jsx)(TooltipContentImpl, { side, ...contentProps, ref: forwardedRef }) : (0, import_jsx_runtime2.jsx)(TooltipContentHoverable, { side, ...contentProps, ref: forwardedRef }) });\n  }\n);\nvar TooltipContentHoverable = React3.forwardRef((props, forwardedRef) => {\n  const context = useTooltipContext(CONTENT_NAME, props.__scopeTooltip);\n  const providerContext = useTooltipProviderContext(CONTENT_NAME, props.__scopeTooltip);\n  const ref = React3.useRef(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const [pointerGraceArea, setPointerGraceArea] = React3.useState(null);\n  const { trigger, onClose } = context;\n  const content = ref.current;\n  const { onPointerInTransitChange } = providerContext;\n  const handleRemoveGraceArea = React3.useCallback(() => {\n    setPointerGraceArea(null);\n    onPointerInTransitChange(false);\n  }, [onPointerInTransitChange]);\n  const handleCreateGraceArea = React3.useCallback(\n    (event, hoverTarget) => {\n      const currentTarget = event.currentTarget;\n      const exitPoint = { x: event.clientX, y: event.clientY };\n      const exitSide = getExitSideFromRect(exitPoint, currentTarget.getBoundingClientRect());\n      const paddedExitPoints = getPaddedExitPoints(exitPoint, exitSide);\n      const hoverTargetPoints = getPointsFromRect(hoverTarget.getBoundingClientRect());\n      const graceArea = getHull([...paddedExitPoints, ...hoverTargetPoints]);\n      setPointerGraceArea(graceArea);\n      onPointerInTransitChange(true);\n    },\n    [onPointerInTransitChange]\n  );\n  React3.useEffect(() => {\n    return () => handleRemoveGraceArea();\n  }, [handleRemoveGraceArea]);\n  React3.useEffect(() => {\n    if (trigger && content) {\n      const handleTriggerLeave = (event) => handleCreateGraceArea(event, content);\n      const handleContentLeave = (event) => handleCreateGraceArea(event, trigger);\n      trigger.addEventListener(\"pointerleave\", handleTriggerLeave);\n      content.addEventListener(\"pointerleave\", handleContentLeave);\n      return () => {\n        trigger.removeEventListener(\"pointerleave\", handleTriggerLeave);\n        content.removeEventListener(\"pointerleave\", handleContentLeave);\n      };\n    }\n  }, [trigger, content, handleCreateGraceArea, handleRemoveGraceArea]);\n  React3.useEffect(() => {\n    if (pointerGraceArea) {\n      const handleTrackPointerGrace = (event) => {\n        const target = event.target;\n        const pointerPosition = { x: event.clientX, y: event.clientY };\n        const hasEnteredTarget = trigger?.contains(target) || content?.contains(target);\n        const isPointerOutsideGraceArea = !isPointInPolygon(pointerPosition, pointerGraceArea);\n        if (hasEnteredTarget) {\n          handleRemoveGraceArea();\n        } else if (isPointerOutsideGraceArea) {\n          handleRemoveGraceArea();\n          onClose();\n        }\n      };\n      document.addEventListener(\"pointermove\", handleTrackPointerGrace);\n      return () => document.removeEventListener(\"pointermove\", handleTrackPointerGrace);\n    }\n  }, [trigger, content, pointerGraceArea, onClose, handleRemoveGraceArea]);\n  return (0, import_jsx_runtime2.jsx)(TooltipContentImpl, { ...props, ref: composedRefs });\n});\nvar [VisuallyHiddenContentContextProvider, useVisuallyHiddenContentContext] = createTooltipContext(TOOLTIP_NAME, { isInside: false });\nvar Slottable2 = createSlottable(\"TooltipContent\");\nvar TooltipContentImpl = React3.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeTooltip,\n      children,\n      \"aria-label\": ariaLabel,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      ...contentProps\n    } = props;\n    const context = useTooltipContext(CONTENT_NAME, __scopeTooltip);\n    const popperScope = usePopperScope(__scopeTooltip);\n    const { onClose } = context;\n    React3.useEffect(() => {\n      document.addEventListener(TOOLTIP_OPEN, onClose);\n      return () => document.removeEventListener(TOOLTIP_OPEN, onClose);\n    }, [onClose]);\n    React3.useEffect(() => {\n      if (context.trigger) {\n        const handleScroll = (event) => {\n          const target = event.target;\n          if (target?.contains(context.trigger)) onClose();\n        };\n        window.addEventListener(\"scroll\", handleScroll, { capture: true });\n        return () => window.removeEventListener(\"scroll\", handleScroll, { capture: true });\n      }\n    }, [context.trigger, onClose]);\n    return (0, import_jsx_runtime2.jsx)(\n      DismissableLayer,\n      {\n        asChild: true,\n        disableOutsidePointerEvents: false,\n        onEscapeKeyDown,\n        onPointerDownOutside,\n        onFocusOutside: (event) => event.preventDefault(),\n        onDismiss: onClose,\n        children: (0, import_jsx_runtime2.jsxs)(\n          Content,\n          {\n            \"data-state\": context.stateAttribute,\n            ...popperScope,\n            ...contentProps,\n            ref: forwardedRef,\n            style: {\n              ...contentProps.style,\n              // re-namespace exposed content custom properties\n              ...{\n                \"--radix-tooltip-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n                \"--radix-tooltip-content-available-width\": \"var(--radix-popper-available-width)\",\n                \"--radix-tooltip-content-available-height\": \"var(--radix-popper-available-height)\",\n                \"--radix-tooltip-trigger-width\": \"var(--radix-popper-anchor-width)\",\n                \"--radix-tooltip-trigger-height\": \"var(--radix-popper-anchor-height)\"\n              }\n            },\n            children: [\n              (0, import_jsx_runtime2.jsx)(Slottable2, { children }),\n              (0, import_jsx_runtime2.jsx)(VisuallyHiddenContentContextProvider, { scope: __scopeTooltip, isInside: true, children: (0, import_jsx_runtime2.jsx)(Root, { id: context.contentId, role: \"tooltip\", children: ariaLabel || children }) })\n            ]\n          }\n        )\n      }\n    );\n  }\n);\nTooltipContent.displayName = CONTENT_NAME;\nvar ARROW_NAME = \"TooltipArrow\";\nvar TooltipArrow = React3.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTooltip, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeTooltip);\n    const visuallyHiddenContentContext = useVisuallyHiddenContentContext(\n      ARROW_NAME,\n      __scopeTooltip\n    );\n    return visuallyHiddenContentContext.isInside ? null : (0, import_jsx_runtime2.jsx)(Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nTooltipArrow.displayName = ARROW_NAME;\nfunction getExitSideFromRect(point, rect) {\n  const top = Math.abs(rect.top - point.y);\n  const bottom = Math.abs(rect.bottom - point.y);\n  const right = Math.abs(rect.right - point.x);\n  const left = Math.abs(rect.left - point.x);\n  switch (Math.min(top, bottom, right, left)) {\n    case left:\n      return \"left\";\n    case right:\n      return \"right\";\n    case top:\n      return \"top\";\n    case bottom:\n      return \"bottom\";\n    default:\n      throw new Error(\"unreachable\");\n  }\n}\nfunction getPaddedExitPoints(exitPoint, exitSide, padding = 5) {\n  const paddedExitPoints = [];\n  switch (exitSide) {\n    case \"top\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y + padding },\n        { x: exitPoint.x + padding, y: exitPoint.y + padding }\n      );\n      break;\n    case \"bottom\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y - padding },\n        { x: exitPoint.x + padding, y: exitPoint.y - padding }\n      );\n      break;\n    case \"left\":\n      paddedExitPoints.push(\n        { x: exitPoint.x + padding, y: exitPoint.y - padding },\n        { x: exitPoint.x + padding, y: exitPoint.y + padding }\n      );\n      break;\n    case \"right\":\n      paddedExitPoints.push(\n        { x: exitPoint.x - padding, y: exitPoint.y - padding },\n        { x: exitPoint.x - padding, y: exitPoint.y + padding }\n      );\n      break;\n  }\n  return paddedExitPoints;\n}\nfunction getPointsFromRect(rect) {\n  const { top, right, bottom, left } = rect;\n  return [\n    { x: left, y: top },\n    { x: right, y: top },\n    { x: right, y: bottom },\n    { x: left, y: bottom }\n  ];\n}\nfunction isPointInPolygon(point, polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const ii = polygon[i];\n    const jj = polygon[j];\n    const xi = ii.x;\n    const yi = ii.y;\n    const xj = jj.x;\n    const yj = jj.y;\n    const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) inside = !inside;\n  }\n  return inside;\n}\nfunction getHull(points) {\n  const newPoints = points.slice();\n  newPoints.sort((a, b) => {\n    if (a.x < b.x) return -1;\n    else if (a.x > b.x) return 1;\n    else if (a.y < b.y) return -1;\n    else if (a.y > b.y) return 1;\n    else return 0;\n  });\n  return getHullPresorted(newPoints);\n}\nfunction getHullPresorted(points) {\n  if (points.length <= 1) return points.slice();\n  const upperHull = [];\n  for (let i = 0; i < points.length; i++) {\n    const p = points[i];\n    while (upperHull.length >= 2) {\n      const q = upperHull[upperHull.length - 1];\n      const r = upperHull[upperHull.length - 2];\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) upperHull.pop();\n      else break;\n    }\n    upperHull.push(p);\n  }\n  upperHull.pop();\n  const lowerHull = [];\n  for (let i = points.length - 1; i >= 0; i--) {\n    const p = points[i];\n    while (lowerHull.length >= 2) {\n      const q = lowerHull[lowerHull.length - 1];\n      const r = lowerHull[lowerHull.length - 2];\n      if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) lowerHull.pop();\n      else break;\n    }\n    lowerHull.push(p);\n  }\n  lowerHull.pop();\n  if (upperHull.length === 1 && lowerHull.length === 1 && upperHull[0].x === lowerHull[0].x && upperHull[0].y === lowerHull[0].y) {\n    return upperHull;\n  } else {\n    return upperHull.concat(lowerHull);\n  }\n}\nvar Provider = TooltipProvider;\nvar Root3 = Tooltip;\nvar Trigger = TooltipTrigger;\nvar Portal2 = TooltipPortal;\nvar Content2 = TooltipContent;\nvar Arrow2 = TooltipArrow;\nexport {\n  Arrow2 as Arrow,\n  Content2 as Content,\n  Portal2 as Portal,\n  Provider,\n  Root3 as Root,\n  Tooltip,\n  TooltipArrow,\n  TooltipContent,\n  TooltipPortal,\n  TooltipProvider,\n  TooltipTrigger,\n  Trigger,\n  createTooltipScope\n};\n//# sourceMappingURL=@radix-ui_react-tooltip.js.map\n","path":null,"size_bytes":26411,"size_tokens":null},"node_modules/.vite/deps/@radix-ui_react-avatar.js":{"content":"\"use client\";\nimport {\n  require_shim\n} from \"./chunk-OU2WKKYC.js\";\nimport {\n  useCallbackRef\n} from \"./chunk-3NDCRRCM.js\";\nimport {\n  useLayoutEffect2\n} from \"./chunk-GUZOPJU6.js\";\nimport {\n  createSlot\n} from \"./chunk-6VTNUJCA.js\";\nimport \"./chunk-MS2BCRFE.js\";\nimport {\n  require_react_dom\n} from \"./chunk-I3XRBTSS.js\";\nimport {\n  require_jsx_runtime\n} from \"./chunk-T7ATK2ZT.js\";\nimport {\n  require_react\n} from \"./chunk-YX2XZWS3.js\";\nimport {\n  __toESM\n} from \"./chunk-G3PMV62Z.js\";\n\n// node_modules/@radix-ui/react-avatar/dist/index.mjs\nvar React3 = __toESM(require_react(), 1);\n\n// node_modules/@radix-ui/react-avatar/node_modules/@radix-ui/react-context/dist/index.mjs\nvar React = __toESM(require_react(), 1);\nvar import_jsx_runtime = __toESM(require_jsx_runtime(), 1);\nfunction createContextScope(scopeName, createContextScopeDeps = []) {\n  let defaultContexts = [];\n  function createContext3(rootComponentName, defaultContext) {\n    const BaseContext = React.createContext(defaultContext);\n    BaseContext.displayName = rootComponentName + \"Context\";\n    const index = defaultContexts.length;\n    defaultContexts = [...defaultContexts, defaultContext];\n    const Provider = (props) => {\n      const { scope, children, ...context } = props;\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const value = React.useMemo(() => context, Object.values(context));\n      return (0, import_jsx_runtime.jsx)(Context.Provider, { value, children });\n    };\n    Provider.displayName = rootComponentName + \"Provider\";\n    function useContext2(consumerName, scope) {\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const context = React.useContext(Context);\n      if (context) return context;\n      if (defaultContext !== void 0) return defaultContext;\n      throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n    }\n    return [Provider, useContext2];\n  }\n  const createScope = () => {\n    const scopeContexts = defaultContexts.map((defaultContext) => {\n      return React.createContext(defaultContext);\n    });\n    return function useScope(scope) {\n      const contexts = scope?.[scopeName] || scopeContexts;\n      return React.useMemo(\n        () => ({ [`__scope${scopeName}`]: { ...scope, [scopeName]: contexts } }),\n        [scope, contexts]\n      );\n    };\n  };\n  createScope.scopeName = scopeName;\n  return [createContext3, composeContextScopes(createScope, ...createContextScopeDeps)];\n}\nfunction composeContextScopes(...scopes) {\n  const baseScope = scopes[0];\n  if (scopes.length === 1) return baseScope;\n  const createScope = () => {\n    const scopeHooks = scopes.map((createScope2) => ({\n      useScope: createScope2(),\n      scopeName: createScope2.scopeName\n    }));\n    return function useComposedScopes(overrideScopes) {\n      const nextScopes = scopeHooks.reduce((nextScopes2, { useScope, scopeName }) => {\n        const scopeProps = useScope(overrideScopes);\n        const currentScope = scopeProps[`__scope${scopeName}`];\n        return { ...nextScopes2, ...currentScope };\n      }, {});\n      return React.useMemo(() => ({ [`__scope${baseScope.scopeName}`]: nextScopes }), [nextScopes]);\n    };\n  };\n  createScope.scopeName = baseScope.scopeName;\n  return createScope;\n}\n\n// node_modules/@radix-ui/react-avatar/node_modules/@radix-ui/react-primitive/dist/index.mjs\nvar React2 = __toESM(require_react(), 1);\nvar ReactDOM = __toESM(require_react_dom(), 1);\nvar import_jsx_runtime2 = __toESM(require_jsx_runtime(), 1);\nvar NODES = [\n  \"a\",\n  \"button\",\n  \"div\",\n  \"form\",\n  \"h2\",\n  \"h3\",\n  \"img\",\n  \"input\",\n  \"label\",\n  \"li\",\n  \"nav\",\n  \"ol\",\n  \"p\",\n  \"select\",\n  \"span\",\n  \"svg\",\n  \"ul\"\n];\nvar Primitive = NODES.reduce((primitive, node) => {\n  const Slot = createSlot(`Primitive.${node}`);\n  const Node = React2.forwardRef((props, forwardedRef) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp = asChild ? Slot : node;\n    if (typeof window !== \"undefined\") {\n      window[Symbol.for(\"radix-ui\")] = true;\n    }\n    return (0, import_jsx_runtime2.jsx)(Comp, { ...primitiveProps, ref: forwardedRef });\n  });\n  Node.displayName = `Primitive.${node}`;\n  return { ...primitive, [node]: Node };\n}, {});\n\n// node_modules/@radix-ui/react-use-is-hydrated/dist/index.mjs\nvar import_shim = __toESM(require_shim(), 1);\nfunction useIsHydrated() {\n  return (0, import_shim.useSyncExternalStore)(\n    subscribe,\n    () => true,\n    () => false\n  );\n}\nfunction subscribe() {\n  return () => {\n  };\n}\n\n// node_modules/@radix-ui/react-avatar/dist/index.mjs\nvar import_jsx_runtime3 = __toESM(require_jsx_runtime(), 1);\nvar AVATAR_NAME = \"Avatar\";\nvar [createAvatarContext, createAvatarScope] = createContextScope(AVATAR_NAME);\nvar [AvatarProvider, useAvatarContext] = createAvatarContext(AVATAR_NAME);\nvar Avatar = React3.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, ...avatarProps } = props;\n    const [imageLoadingStatus, setImageLoadingStatus] = React3.useState(\"idle\");\n    return (0, import_jsx_runtime3.jsx)(\n      AvatarProvider,\n      {\n        scope: __scopeAvatar,\n        imageLoadingStatus,\n        onImageLoadingStatusChange: setImageLoadingStatus,\n        children: (0, import_jsx_runtime3.jsx)(Primitive.span, { ...avatarProps, ref: forwardedRef })\n      }\n    );\n  }\n);\nAvatar.displayName = AVATAR_NAME;\nvar IMAGE_NAME = \"AvatarImage\";\nvar AvatarImage = React3.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, src, onLoadingStatusChange = () => {\n    }, ...imageProps } = props;\n    const context = useAvatarContext(IMAGE_NAME, __scopeAvatar);\n    const imageLoadingStatus = useImageLoadingStatus(src, imageProps);\n    const handleLoadingStatusChange = useCallbackRef((status) => {\n      onLoadingStatusChange(status);\n      context.onImageLoadingStatusChange(status);\n    });\n    useLayoutEffect2(() => {\n      if (imageLoadingStatus !== \"idle\") {\n        handleLoadingStatusChange(imageLoadingStatus);\n      }\n    }, [imageLoadingStatus, handleLoadingStatusChange]);\n    return imageLoadingStatus === \"loaded\" ? (0, import_jsx_runtime3.jsx)(Primitive.img, { ...imageProps, ref: forwardedRef, src }) : null;\n  }\n);\nAvatarImage.displayName = IMAGE_NAME;\nvar FALLBACK_NAME = \"AvatarFallback\";\nvar AvatarFallback = React3.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeAvatar, delayMs, ...fallbackProps } = props;\n    const context = useAvatarContext(FALLBACK_NAME, __scopeAvatar);\n    const [canRender, setCanRender] = React3.useState(delayMs === void 0);\n    React3.useEffect(() => {\n      if (delayMs !== void 0) {\n        const timerId = window.setTimeout(() => setCanRender(true), delayMs);\n        return () => window.clearTimeout(timerId);\n      }\n    }, [delayMs]);\n    return canRender && context.imageLoadingStatus !== \"loaded\" ? (0, import_jsx_runtime3.jsx)(Primitive.span, { ...fallbackProps, ref: forwardedRef }) : null;\n  }\n);\nAvatarFallback.displayName = FALLBACK_NAME;\nfunction resolveLoadingStatus(image, src) {\n  if (!image) {\n    return \"idle\";\n  }\n  if (!src) {\n    return \"error\";\n  }\n  if (image.src !== src) {\n    image.src = src;\n  }\n  return image.complete && image.naturalWidth > 0 ? \"loaded\" : \"loading\";\n}\nfunction useImageLoadingStatus(src, { referrerPolicy, crossOrigin }) {\n  const isHydrated = useIsHydrated();\n  const imageRef = React3.useRef(null);\n  const image = (() => {\n    if (!isHydrated) return null;\n    if (!imageRef.current) {\n      imageRef.current = new window.Image();\n    }\n    return imageRef.current;\n  })();\n  const [loadingStatus, setLoadingStatus] = React3.useState(\n    () => resolveLoadingStatus(image, src)\n  );\n  useLayoutEffect2(() => {\n    setLoadingStatus(resolveLoadingStatus(image, src));\n  }, [image, src]);\n  useLayoutEffect2(() => {\n    const updateStatus = (status) => () => {\n      setLoadingStatus(status);\n    };\n    if (!image) return;\n    const handleLoad = updateStatus(\"loaded\");\n    const handleError = updateStatus(\"error\");\n    image.addEventListener(\"load\", handleLoad);\n    image.addEventListener(\"error\", handleError);\n    if (referrerPolicy) {\n      image.referrerPolicy = referrerPolicy;\n    }\n    if (typeof crossOrigin === \"string\") {\n      image.crossOrigin = crossOrigin;\n    }\n    return () => {\n      image.removeEventListener(\"load\", handleLoad);\n      image.removeEventListener(\"error\", handleError);\n    };\n  }, [image, crossOrigin, referrerPolicy]);\n  return loadingStatus;\n}\nvar Root = Avatar;\nvar Image = AvatarImage;\nvar Fallback = AvatarFallback;\nexport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n  Fallback,\n  Image,\n  Root,\n  createAvatarScope\n};\n//# sourceMappingURL=@radix-ui_react-avatar.js.map\n","path":null,"size_bytes":8660,"size_tokens":null},"replit.md":{"content":"# VoyagerLuxury - Luxury Travel Booking Platform\n\n## Overview\n\nVoyagerLuxury is a full-stack luxury travel booking platform that enables users to browse and book premium travel packages, hotels, car rentals, and last-minute deals. The system features an admin dashboard for content management, integrated payment processing via Stripe, user authentication, reviews, and a comprehensive booking system.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n\n**Framework**: React 18 with TypeScript and Vite\n- **UI Library**: Radix UI components with shadcn/ui design system\n- **Styling**: Tailwind CSS with custom theme variables for luxury branding\n- **State Management**: React Context API for global state (Auth, Store)\n- **Data Fetching**: TanStack Query (React Query) for server state management\n- **Routing**: Wouter for client-side routing\n- **Animations**: Framer Motion for smooth transitions and interactions\n- **Forms**: React Hook Form with Zod validation\n\n**Key Design Decisions**:\n- Context-based architecture separates authentication (AuthContext) from business data (StoreContext)\n- Component composition using Radix UI primitives ensures accessibility\n- Custom theme system with CSS variables enables light/dark mode and luxury color palette\n- Client-side routing with dynamic slug-based URLs for SEO-friendly paths\n\n### Backend Architecture\n\n**Framework**: Express.js with TypeScript\n- **Runtime**: Node.js 20+\n- **Build Tool**: esbuild for fast server bundling\n- **Database ORM**: Drizzle ORM (configured for PostgreSQL in schema, MySQL in implementation)\n- **Session Management**: Express sessions with memory store (configurable for production)\n- **API Design**: RESTful API with `/api` prefix for all endpoints\n\n**Key Design Decisions**:\n- Dual database support: Drizzle schema defines PostgreSQL structure, but MySQL is used in production via mysql2 driver\n- Automatic database initialization on server startup creates tables if missing\n- Separation of concerns: routes.ts handles endpoints, storage.ts abstracts database operations\n- Server-side rendering fallback serves index.html for all non-API routes (SPA support)\n\n**Database Schema**:\nThe application uses a comprehensive schema including:\n- Users (authentication and roles)\n- Trips (travel packages with features, pricing, ratings)\n- Hotels (accommodations with room types, availability windows)\n- Cars (luxury vehicle rentals with specifications)\n- Last-Minute Offers (time-limited deals with discounts)\n- Bookings (user reservations with payment tracking)\n- Reviews (user feedback with approval workflow)\n- Payment Settings (configurable payment provider credentials)\n- Subscribers (newsletter email collection)\n- Support Tickets (customer service system)\n\n### Authentication & Authorization\n\n**Strategy**: Context-based authentication with role-based access control\n- **Roles**: Admin, User, Guest\n- **Storage**: localStorage for session persistence\n- **Protected Routes**: Admin dashboard requires admin role\n- **Default Credentials**: Hardcoded demo credentials for testing (admin@voyager.com / admin123)\n\n**Architectural Choice**:\nSimple authentication system using client-side storage rather than JWT or session cookies. Suitable for MVP but should be replaced with secure backend authentication for production.\n\n### Payment Integration\n\n**Provider**: Stripe\n- **Configuration**: Dynamic Stripe key loading from database settings table\n- **Fallback**: Environment variables (STRIPE_SECRET_KEY, VITE_STRIPE_PUBLISHABLE_KEY)\n- **Implementation**: Stripe Elements for PCI-compliant card collection\n- **Payment Flow**: Create PaymentIntent â†’ Confirm via Stripe Elements â†’ Update booking status\n\n**Key Decision**:\nPayment settings stored in database allow runtime configuration without redeployment. This enables admin panel management of API keys and supports future multi-provider scenarios.\n\n### Build & Deployment\n\n**Development**:\n- Separate dev servers: Vite dev server (port 5000) for client, tsx for hot-reloading backend\n- Concurrent development with HMR and runtime error overlays\n\n**Production**:\n- Client built to `dist/public` via Vite\n- Server bundled to `dist/index.cjs` via esbuild with selective dependency bundling\n- Static file serving from Express with SPA fallback\n- Automated startup script (`start.js`) validates dependencies and database connection\n\n**Architectural Choice**:\nTwo-stage build process separates client and server artifacts. Server bundling uses allowlist to reduce cold start times by minimizing file system calls. Production bundle includes database drivers (mysql2) but externalizes most dependencies.\n\n### Data Flow Patterns\n\n1. **Client â†’ API â†’ Database**: Standard CRUD operations via REST endpoints\n2. **Real-time Updates**: Client refetches after mutations (React Query invalidation)\n3. **Slug-based Routing**: Dynamic URL generation from titles for SEO\n4. **Review Workflow**: Reviews require admin approval before display\n5. **Booking Process**: Multi-step flow with date selection, payment, and confirmation\n\n## External Dependencies\n\n### Third-Party Services\n\n**Stripe Payment Processing**:\n- API Version: 2025-11-17.clover\n- Required: Secret key (server) and Publishable key (client)\n- Configuration: Database-first with environment variable fallback\n\n**Unsplash Images**:\n- Used for hero images and travel photography throughout the UI\n- No API integration; direct image URLs\n\n### Database\n\n**Production Database**: MySQL (ProSite Hosting)\n- Host: mysql-200-131.mysql.prositehosting.net\n- Database: ocidb_01Raay53dC\n- Connection pooling via mysql2 (max 10 connections)\n- Automatic schema initialization via raw SQL queries\n\n**Schema Management**: Drizzle ORM\n- Schema defined in TypeScript (shared/schema.ts)\n- PostgreSQL dialect in drizzle.config.ts\n- Actual implementation uses MySQL via mysql2 driver\n- Migration strategy: Auto-initialization rather than migration files\n\n**Architectural Note**:\nMismatch between Drizzle schema (PostgreSQL) and runtime database (MySQL) suggests migration in progress or dual-target support. Production uses MySQL with manual table creation in `server/db.ts`, while schema files prepare for PostgreSQL deployment.\n\n### SEO Features\n\n**Meta Descriptions**:\n- All entity types (trips, hotels, cars, last-minute offers) support custom meta descriptions\n- Meta descriptions editable from admin panel with 160-character counter\n- Stored in database `meta_description` column (TEXT type)\n- Available for consumption by frontend detail pages for head meta tags\n\n**Dynamic Sitemap**:\n- Endpoint: `/sitemap.xml` generates valid XML sitemap\n- Includes all static pages (/trips, /hotels, /cars, /last-minute, /about, /contact, /support)\n- Includes all dynamic entity pages with human-readable slugs\n- Uses absolute URLs derived from request protocol and host\n\n### Email Services\n\n**Newsletter Subscription**:\n- Subscriber emails stored in database\n- No external email service currently integrated\n- Prepared for future integration (schema includes subscribers table)\n\n### Development Tools\n\n**Replit Integration**:\n- Custom Vite plugins for Replit deployment (cartographer, dev-banner)\n- Meta image plugin for OpenGraph tags\n- Runtime error modal overlay\n\n**Key Dependencies**:\n- **UI**: Radix UI primitives, shadcn/ui components\n- **Forms**: React Hook Form, Zod validation, @hookform/resolvers\n- **State**: TanStack Query, React Context\n- **Styling**: Tailwind CSS, class-variance-authority, clsx\n- **Database**: Drizzle ORM, mysql2, @neondatabase/serverless\n- **Payments**: Stripe SDK (@stripe/stripe-js, @stripe/react-stripe-js)\n- **Charts**: Recharts (admin dashboard analytics)\n\n### Environment Configuration\n\nRequired environment variables:\n- `DATABASE_URL`: PostgreSQL connection string (for Drizzle, currently unused)\n- `STRIPE_SECRET_KEY`: Stripe API secret (fallback if not in database)\n- `VITE_STRIPE_PUBLISHABLE_KEY`: Stripe publishable key (client-side)\n- `NODE_ENV`: Environment flag (development/production)\n- `PORT`: Server port (default 5000)\n\nOptional configuration:\n- Payment settings managed via admin panel (stored in database)\n- MySQL credentials hardcoded in server/db.ts (should be environment variables)","path":null,"size_bytes":8274,"size_tokens":null},"node_modules/.vite/deps/@radix-ui_react-radio-group.js":{"content":"\"use client\";\nimport {\n  Item,\n  Root,\n  createRovingFocusGroupScope\n} from \"./chunk-DQ3QZ2TV.js\";\nimport {\n  useDirection\n} from \"./chunk-BGGJPDNT.js\";\nimport {\n  usePrevious\n} from \"./chunk-4ND5KXFG.js\";\nimport {\n  useSize\n} from \"./chunk-UBWUW3DH.js\";\nimport {\n  Presence\n} from \"./chunk-F2O2PWMG.js\";\nimport \"./chunk-FTOBKFDQ.js\";\nimport {\n  Primitive\n} from \"./chunk-GAO6O33O.js\";\nimport {\n  createContextScope\n} from \"./chunk-RHO474TS.js\";\nimport \"./chunk-3NDCRRCM.js\";\nimport {\n  useLayoutEffect2\n} from \"./chunk-GUZOPJU6.js\";\nimport {\n  useComposedRefs\n} from \"./chunk-MS2BCRFE.js\";\nimport \"./chunk-I3XRBTSS.js\";\nimport {\n  require_jsx_runtime\n} from \"./chunk-T7ATK2ZT.js\";\nimport {\n  require_react\n} from \"./chunk-YX2XZWS3.js\";\nimport {\n  __toESM\n} from \"./chunk-G3PMV62Z.js\";\n\n// node_modules/@radix-ui/react-radio-group/dist/index.mjs\nvar React22 = __toESM(require_react(), 1);\n\n// node_modules/@radix-ui/react-radio-group/node_modules/@radix-ui/primitive/dist/index.mjs\nvar canUseDOM = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\nfunction composeEventHandlers(originalEventHandler, ourEventHandler, { checkForDefaultPrevented = true } = {}) {\n  return function handleEvent(event) {\n    originalEventHandler?.(event);\n    if (checkForDefaultPrevented === false || !event.defaultPrevented) {\n      return ourEventHandler?.(event);\n    }\n  };\n}\n\n// node_modules/@radix-ui/react-radio-group/node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs\nvar React = __toESM(require_react(), 1);\nvar React2 = __toESM(require_react(), 1);\nvar useInsertionEffect = React[\" useInsertionEffect \".trim().toString()] || useLayoutEffect2;\nfunction useControllableState({\n  prop,\n  defaultProp,\n  onChange = () => {\n  },\n  caller\n}) {\n  const [uncontrolledProp, setUncontrolledProp, onChangeRef] = useUncontrolledState({\n    defaultProp,\n    onChange\n  });\n  const isControlled = prop !== void 0;\n  const value = isControlled ? prop : uncontrolledProp;\n  if (true) {\n    const isControlledRef = React.useRef(prop !== void 0);\n    React.useEffect(() => {\n      const wasControlled = isControlledRef.current;\n      if (wasControlled !== isControlled) {\n        const from = wasControlled ? \"controlled\" : \"uncontrolled\";\n        const to = isControlled ? \"controlled\" : \"uncontrolled\";\n        console.warn(\n          `${caller} is changing from ${from} to ${to}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`\n        );\n      }\n      isControlledRef.current = isControlled;\n    }, [isControlled, caller]);\n  }\n  const setValue = React.useCallback(\n    (nextValue) => {\n      if (isControlled) {\n        const value2 = isFunction(nextValue) ? nextValue(prop) : nextValue;\n        if (value2 !== prop) {\n          onChangeRef.current?.(value2);\n        }\n      } else {\n        setUncontrolledProp(nextValue);\n      }\n    },\n    [isControlled, prop, setUncontrolledProp, onChangeRef]\n  );\n  return [value, setValue];\n}\nfunction useUncontrolledState({\n  defaultProp,\n  onChange\n}) {\n  const [value, setValue] = React.useState(defaultProp);\n  const prevValueRef = React.useRef(value);\n  const onChangeRef = React.useRef(onChange);\n  useInsertionEffect(() => {\n    onChangeRef.current = onChange;\n  }, [onChange]);\n  React.useEffect(() => {\n    if (prevValueRef.current !== value) {\n      onChangeRef.current?.(value);\n      prevValueRef.current = value;\n    }\n  }, [value, prevValueRef]);\n  return [value, setValue, onChangeRef];\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nvar SYNC_STATE = Symbol(\"RADIX:SYNC_STATE\");\n\n// node_modules/@radix-ui/react-radio-group/dist/index.mjs\nvar React3 = __toESM(require_react(), 1);\nvar import_jsx_runtime = __toESM(require_jsx_runtime(), 1);\nvar import_jsx_runtime2 = __toESM(require_jsx_runtime(), 1);\nvar RADIO_NAME = \"Radio\";\nvar [createRadioContext, createRadioScope] = createContextScope(RADIO_NAME);\nvar [RadioProvider, useRadioContext] = createRadioContext(RADIO_NAME);\nvar Radio = React3.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeRadio,\n      name,\n      checked = false,\n      required,\n      disabled,\n      value = \"on\",\n      onCheck,\n      form,\n      ...radioProps\n    } = props;\n    const [button, setButton] = React3.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setButton(node));\n    const hasConsumerStoppedPropagationRef = React3.useRef(false);\n    const isFormControl = button ? form || !!button.closest(\"form\") : true;\n    return (0, import_jsx_runtime.jsxs)(RadioProvider, { scope: __scopeRadio, checked, disabled, children: [\n      (0, import_jsx_runtime.jsx)(\n        Primitive.button,\n        {\n          type: \"button\",\n          role: \"radio\",\n          \"aria-checked\": checked,\n          \"data-state\": getState(checked),\n          \"data-disabled\": disabled ? \"\" : void 0,\n          disabled,\n          value,\n          ...radioProps,\n          ref: composedRefs,\n          onClick: composeEventHandlers(props.onClick, (event) => {\n            if (!checked) onCheck?.();\n            if (isFormControl) {\n              hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n              if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n            }\n          })\n        }\n      ),\n      isFormControl && (0, import_jsx_runtime.jsx)(\n        RadioBubbleInput,\n        {\n          control: button,\n          bubbles: !hasConsumerStoppedPropagationRef.current,\n          name,\n          value,\n          checked,\n          required,\n          disabled,\n          form,\n          style: { transform: \"translateX(-100%)\" }\n        }\n      )\n    ] });\n  }\n);\nRadio.displayName = RADIO_NAME;\nvar INDICATOR_NAME = \"RadioIndicator\";\nvar RadioIndicator = React3.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeRadio, forceMount, ...indicatorProps } = props;\n    const context = useRadioContext(INDICATOR_NAME, __scopeRadio);\n    return (0, import_jsx_runtime.jsx)(Presence, { present: forceMount || context.checked, children: (0, import_jsx_runtime.jsx)(\n      Primitive.span,\n      {\n        \"data-state\": getState(context.checked),\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        ...indicatorProps,\n        ref: forwardedRef\n      }\n    ) });\n  }\n);\nRadioIndicator.displayName = INDICATOR_NAME;\nvar BUBBLE_INPUT_NAME = \"RadioBubbleInput\";\nvar RadioBubbleInput = React3.forwardRef(\n  ({\n    __scopeRadio,\n    control,\n    checked,\n    bubbles = true,\n    ...props\n  }, forwardedRef) => {\n    const ref = React3.useRef(null);\n    const composedRefs = useComposedRefs(ref, forwardedRef);\n    const prevChecked = usePrevious(checked);\n    const controlSize = useSize(control);\n    React3.useEffect(() => {\n      const input = ref.current;\n      if (!input) return;\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        inputProto,\n        \"checked\"\n      );\n      const setChecked = descriptor.set;\n      if (prevChecked !== checked && setChecked) {\n        const event = new Event(\"click\", { bubbles });\n        setChecked.call(input, checked);\n        input.dispatchEvent(event);\n      }\n    }, [prevChecked, checked, bubbles]);\n    return (0, import_jsx_runtime.jsx)(\n      Primitive.input,\n      {\n        type: \"radio\",\n        \"aria-hidden\": true,\n        defaultChecked: checked,\n        ...props,\n        tabIndex: -1,\n        ref: composedRefs,\n        style: {\n          ...props.style,\n          ...controlSize,\n          position: \"absolute\",\n          pointerEvents: \"none\",\n          opacity: 0,\n          margin: 0\n        }\n      }\n    );\n  }\n);\nRadioBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction getState(checked) {\n  return checked ? \"checked\" : \"unchecked\";\n}\nvar ARROW_KEYS = [\"ArrowUp\", \"ArrowDown\", \"ArrowLeft\", \"ArrowRight\"];\nvar RADIO_GROUP_NAME = \"RadioGroup\";\nvar [createRadioGroupContext, createRadioGroupScope] = createContextScope(RADIO_GROUP_NAME, [\n  createRovingFocusGroupScope,\n  createRadioScope\n]);\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar useRadioScope = createRadioScope();\nvar [RadioGroupProvider, useRadioGroupContext] = createRadioGroupContext(RADIO_GROUP_NAME);\nvar RadioGroup = React22.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeRadioGroup,\n      name,\n      defaultValue,\n      value: valueProp,\n      required = false,\n      disabled = false,\n      orientation,\n      dir,\n      loop = true,\n      onValueChange,\n      ...groupProps\n    } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeRadioGroup);\n    const direction = useDirection(dir);\n    const [value, setValue] = useControllableState({\n      prop: valueProp,\n      defaultProp: defaultValue ?? null,\n      onChange: onValueChange,\n      caller: RADIO_GROUP_NAME\n    });\n    return (0, import_jsx_runtime2.jsx)(\n      RadioGroupProvider,\n      {\n        scope: __scopeRadioGroup,\n        name,\n        required,\n        disabled,\n        value,\n        onValueChange: setValue,\n        children: (0, import_jsx_runtime2.jsx)(\n          Root,\n          {\n            asChild: true,\n            ...rovingFocusGroupScope,\n            orientation,\n            dir: direction,\n            loop,\n            children: (0, import_jsx_runtime2.jsx)(\n              Primitive.div,\n              {\n                role: \"radiogroup\",\n                \"aria-required\": required,\n                \"aria-orientation\": orientation,\n                \"data-disabled\": disabled ? \"\" : void 0,\n                dir: direction,\n                ...groupProps,\n                ref: forwardedRef\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nRadioGroup.displayName = RADIO_GROUP_NAME;\nvar ITEM_NAME = \"RadioGroupItem\";\nvar RadioGroupItem = React22.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeRadioGroup, disabled, ...itemProps } = props;\n    const context = useRadioGroupContext(ITEM_NAME, __scopeRadioGroup);\n    const isDisabled = context.disabled || disabled;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeRadioGroup);\n    const radioScope = useRadioScope(__scopeRadioGroup);\n    const ref = React22.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const checked = context.value === itemProps.value;\n    const isArrowKeyPressedRef = React22.useRef(false);\n    React22.useEffect(() => {\n      const handleKeyDown = (event) => {\n        if (ARROW_KEYS.includes(event.key)) {\n          isArrowKeyPressedRef.current = true;\n        }\n      };\n      const handleKeyUp = () => isArrowKeyPressedRef.current = false;\n      document.addEventListener(\"keydown\", handleKeyDown);\n      document.addEventListener(\"keyup\", handleKeyUp);\n      return () => {\n        document.removeEventListener(\"keydown\", handleKeyDown);\n        document.removeEventListener(\"keyup\", handleKeyUp);\n      };\n    }, []);\n    return (0, import_jsx_runtime2.jsx)(\n      Item,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        focusable: !isDisabled,\n        active: checked,\n        children: (0, import_jsx_runtime2.jsx)(\n          Radio,\n          {\n            disabled: isDisabled,\n            required: context.required,\n            checked,\n            ...radioScope,\n            ...itemProps,\n            name: context.name,\n            ref: composedRefs,\n            onCheck: () => context.onValueChange(itemProps.value),\n            onKeyDown: composeEventHandlers((event) => {\n              if (event.key === \"Enter\") event.preventDefault();\n            }),\n            onFocus: composeEventHandlers(itemProps.onFocus, () => {\n              if (isArrowKeyPressedRef.current) ref.current?.click();\n            })\n          }\n        )\n      }\n    );\n  }\n);\nRadioGroupItem.displayName = ITEM_NAME;\nvar INDICATOR_NAME2 = \"RadioGroupIndicator\";\nvar RadioGroupIndicator = React22.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeRadioGroup, ...indicatorProps } = props;\n    const radioScope = useRadioScope(__scopeRadioGroup);\n    return (0, import_jsx_runtime2.jsx)(RadioIndicator, { ...radioScope, ...indicatorProps, ref: forwardedRef });\n  }\n);\nRadioGroupIndicator.displayName = INDICATOR_NAME2;\nvar Root2 = RadioGroup;\nvar Item2 = RadioGroupItem;\nvar Indicator = RadioGroupIndicator;\nexport {\n  Indicator,\n  Item2 as Item,\n  RadioGroup,\n  RadioGroupIndicator,\n  RadioGroupItem,\n  Root2 as Root,\n  createRadioGroupScope\n};\n//# sourceMappingURL=@radix-ui_react-radio-group.js.map\n","path":null,"size_bytes":12689,"size_tokens":null},"node_modules/.vite/deps/@radix-ui_react-dialog.js":{"content":"\"use client\";\nimport {\n  Presence\n} from \"./chunk-F2O2PWMG.js\";\nimport {\n  Combination_default,\n  FocusScope,\n  hideOthers,\n  useFocusGuards\n} from \"./chunk-EVEOP7WR.js\";\nimport {\n  DismissableLayer,\n  Portal\n} from \"./chunk-LIRJVJKB.js\";\nimport \"./chunk-RQSKBWDH.js\";\nimport {\n  useId\n} from \"./chunk-FTOBKFDQ.js\";\nimport {\n  Primitive\n} from \"./chunk-GAO6O33O.js\";\nimport {\n  createContext2,\n  createContextScope\n} from \"./chunk-RHO474TS.js\";\nimport \"./chunk-3NDCRRCM.js\";\nimport {\n  useLayoutEffect2\n} from \"./chunk-GUZOPJU6.js\";\nimport {\n  composeRefs,\n  useComposedRefs\n} from \"./chunk-MS2BCRFE.js\";\nimport \"./chunk-I3XRBTSS.js\";\nimport {\n  require_jsx_runtime\n} from \"./chunk-T7ATK2ZT.js\";\nimport {\n  require_react\n} from \"./chunk-YX2XZWS3.js\";\nimport {\n  __toESM\n} from \"./chunk-G3PMV62Z.js\";\n\n// node_modules/@radix-ui/react-dialog/dist/index.mjs\nvar React4 = __toESM(require_react(), 1);\n\n// node_modules/@radix-ui/react-dialog/node_modules/@radix-ui/primitive/dist/index.mjs\nvar canUseDOM = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\nfunction composeEventHandlers(originalEventHandler, ourEventHandler, { checkForDefaultPrevented = true } = {}) {\n  return function handleEvent(event) {\n    originalEventHandler?.(event);\n    if (checkForDefaultPrevented === false || !event.defaultPrevented) {\n      return ourEventHandler?.(event);\n    }\n  };\n}\n\n// node_modules/@radix-ui/react-dialog/node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs\nvar React = __toESM(require_react(), 1);\nvar React2 = __toESM(require_react(), 1);\nvar useInsertionEffect = React[\" useInsertionEffect \".trim().toString()] || useLayoutEffect2;\nfunction useControllableState({\n  prop,\n  defaultProp,\n  onChange = () => {\n  },\n  caller\n}) {\n  const [uncontrolledProp, setUncontrolledProp, onChangeRef] = useUncontrolledState({\n    defaultProp,\n    onChange\n  });\n  const isControlled = prop !== void 0;\n  const value = isControlled ? prop : uncontrolledProp;\n  if (true) {\n    const isControlledRef = React.useRef(prop !== void 0);\n    React.useEffect(() => {\n      const wasControlled = isControlledRef.current;\n      if (wasControlled !== isControlled) {\n        const from = wasControlled ? \"controlled\" : \"uncontrolled\";\n        const to = isControlled ? \"controlled\" : \"uncontrolled\";\n        console.warn(\n          `${caller} is changing from ${from} to ${to}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`\n        );\n      }\n      isControlledRef.current = isControlled;\n    }, [isControlled, caller]);\n  }\n  const setValue = React.useCallback(\n    (nextValue) => {\n      if (isControlled) {\n        const value2 = isFunction(nextValue) ? nextValue(prop) : nextValue;\n        if (value2 !== prop) {\n          onChangeRef.current?.(value2);\n        }\n      } else {\n        setUncontrolledProp(nextValue);\n      }\n    },\n    [isControlled, prop, setUncontrolledProp, onChangeRef]\n  );\n  return [value, setValue];\n}\nfunction useUncontrolledState({\n  defaultProp,\n  onChange\n}) {\n  const [value, setValue] = React.useState(defaultProp);\n  const prevValueRef = React.useRef(value);\n  const onChangeRef = React.useRef(onChange);\n  useInsertionEffect(() => {\n    onChangeRef.current = onChange;\n  }, [onChange]);\n  React.useEffect(() => {\n    if (prevValueRef.current !== value) {\n      onChangeRef.current?.(value);\n      prevValueRef.current = value;\n    }\n  }, [value, prevValueRef]);\n  return [value, setValue, onChangeRef];\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nvar SYNC_STATE = Symbol(\"RADIX:SYNC_STATE\");\n\n// node_modules/@radix-ui/react-dialog/node_modules/@radix-ui/react-slot/dist/index.mjs\nvar React3 = __toESM(require_react(), 1);\nvar import_jsx_runtime = __toESM(require_jsx_runtime(), 1);\nfunction createSlot(ownerName) {\n  const SlotClone = createSlotClone(ownerName);\n  const Slot22 = React3.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React3.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React3.Children.count(newElement) > 1) return React3.Children.only(null);\n          return React3.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return (0, import_jsx_runtime.jsx)(SlotClone, { ...slotProps, ref: forwardedRef, children: React3.isValidElement(newElement) ? React3.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return (0, import_jsx_runtime.jsx)(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot22.displayName = `${ownerName}.Slot`;\n  return Slot22;\n}\nvar Slot = createSlot(\"Slot\");\nfunction createSlotClone(ownerName) {\n  const SlotClone = React3.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React3.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React3.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React3.cloneElement(children, props2);\n    }\n    return React3.Children.count(children) > 1 ? React3.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return (0, import_jsx_runtime.jsx)(import_jsx_runtime.Fragment, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React3.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\n\n// node_modules/@radix-ui/react-dialog/dist/index.mjs\nvar import_jsx_runtime2 = __toESM(require_jsx_runtime(), 1);\nvar DIALOG_NAME = \"Dialog\";\nvar [createDialogContext, createDialogScope] = createContextScope(DIALOG_NAME);\nvar [DialogProvider, useDialogContext] = createDialogContext(DIALOG_NAME);\nvar Dialog = (props) => {\n  const {\n    __scopeDialog,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = true\n  } = props;\n  const triggerRef = React4.useRef(null);\n  const contentRef = React4.useRef(null);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: DIALOG_NAME\n  });\n  return (0, import_jsx_runtime2.jsx)(\n    DialogProvider,\n    {\n      scope: __scopeDialog,\n      triggerRef,\n      contentRef,\n      contentId: useId(),\n      titleId: useId(),\n      descriptionId: useId(),\n      open,\n      onOpenChange: setOpen,\n      onOpenToggle: React4.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),\n      modal,\n      children\n    }\n  );\n};\nDialog.displayName = DIALOG_NAME;\nvar TRIGGER_NAME = \"DialogTrigger\";\nvar DialogTrigger = React4.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...triggerProps } = props;\n    const context = useDialogContext(TRIGGER_NAME, __scopeDialog);\n    const composedTriggerRef = useComposedRefs(forwardedRef, context.triggerRef);\n    return (0, import_jsx_runtime2.jsx)(\n      Primitive.button,\n      {\n        type: \"button\",\n        \"aria-haspopup\": \"dialog\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.contentId,\n        \"data-state\": getState(context.open),\n        ...triggerProps,\n        ref: composedTriggerRef,\n        onClick: composeEventHandlers(props.onClick, context.onOpenToggle)\n      }\n    );\n  }\n);\nDialogTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"DialogPortal\";\nvar [PortalProvider, usePortalContext] = createDialogContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar DialogPortal = (props) => {\n  const { __scopeDialog, forceMount, children, container } = props;\n  const context = useDialogContext(PORTAL_NAME, __scopeDialog);\n  return (0, import_jsx_runtime2.jsx)(PortalProvider, { scope: __scopeDialog, forceMount, children: React4.Children.map(children, (child) => (0, import_jsx_runtime2.jsx)(Presence, { present: forceMount || context.open, children: (0, import_jsx_runtime2.jsx)(Portal, { asChild: true, container, children: child }) })) });\n};\nDialogPortal.displayName = PORTAL_NAME;\nvar OVERLAY_NAME = \"DialogOverlay\";\nvar DialogOverlay = React4.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(OVERLAY_NAME, props.__scopeDialog);\n    const { forceMount = portalContext.forceMount, ...overlayProps } = props;\n    const context = useDialogContext(OVERLAY_NAME, props.__scopeDialog);\n    return context.modal ? (0, import_jsx_runtime2.jsx)(Presence, { present: forceMount || context.open, children: (0, import_jsx_runtime2.jsx)(DialogOverlayImpl, { ...overlayProps, ref: forwardedRef }) }) : null;\n  }\n);\nDialogOverlay.displayName = OVERLAY_NAME;\nvar Slot2 = createSlot(\"DialogOverlay.RemoveScroll\");\nvar DialogOverlayImpl = React4.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...overlayProps } = props;\n    const context = useDialogContext(OVERLAY_NAME, __scopeDialog);\n    return (\n      // Make sure `Content` is scrollable even when it doesn't live inside `RemoveScroll`\n      // ie. when `Overlay` and `Content` are siblings\n      (0, import_jsx_runtime2.jsx)(Combination_default, { as: Slot2, allowPinchZoom: true, shards: [context.contentRef], children: (0, import_jsx_runtime2.jsx)(\n        Primitive.div,\n        {\n          \"data-state\": getState(context.open),\n          ...overlayProps,\n          ref: forwardedRef,\n          style: { pointerEvents: \"auto\", ...overlayProps.style }\n        }\n      ) })\n    );\n  }\n);\nvar CONTENT_NAME = \"DialogContent\";\nvar DialogContent = React4.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeDialog);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = useDialogContext(CONTENT_NAME, props.__scopeDialog);\n    return (0, import_jsx_runtime2.jsx)(Presence, { present: forceMount || context.open, children: context.modal ? (0, import_jsx_runtime2.jsx)(DialogContentModal, { ...contentProps, ref: forwardedRef }) : (0, import_jsx_runtime2.jsx)(DialogContentNonModal, { ...contentProps, ref: forwardedRef }) });\n  }\n);\nDialogContent.displayName = CONTENT_NAME;\nvar DialogContentModal = React4.forwardRef(\n  (props, forwardedRef) => {\n    const context = useDialogContext(CONTENT_NAME, props.__scopeDialog);\n    const contentRef = React4.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, context.contentRef, contentRef);\n    React4.useEffect(() => {\n      const content = contentRef.current;\n      if (content) return hideOthers(content);\n    }, []);\n    return (0, import_jsx_runtime2.jsx)(\n      DialogContentImpl,\n      {\n        ...props,\n        ref: composedRefs,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: true,\n        onCloseAutoFocus: composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          event.preventDefault();\n          context.triggerRef.current?.focus();\n        }),\n        onPointerDownOutside: composeEventHandlers(props.onPointerDownOutside, (event) => {\n          const originalEvent = event.detail.originalEvent;\n          const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n          const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n          if (isRightClick) event.preventDefault();\n        }),\n        onFocusOutside: composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault()\n        )\n      }\n    );\n  }\n);\nvar DialogContentNonModal = React4.forwardRef(\n  (props, forwardedRef) => {\n    const context = useDialogContext(CONTENT_NAME, props.__scopeDialog);\n    const hasInteractedOutsideRef = React4.useRef(false);\n    const hasPointerDownOutsideRef = React4.useRef(false);\n    return (0, import_jsx_runtime2.jsx)(\n      DialogContentImpl,\n      {\n        ...props,\n        ref: forwardedRef,\n        trapFocus: false,\n        disableOutsidePointerEvents: false,\n        onCloseAutoFocus: (event) => {\n          props.onCloseAutoFocus?.(event);\n          if (!event.defaultPrevented) {\n            if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n            event.preventDefault();\n          }\n          hasInteractedOutsideRef.current = false;\n          hasPointerDownOutsideRef.current = false;\n        },\n        onInteractOutside: (event) => {\n          props.onInteractOutside?.(event);\n          if (!event.defaultPrevented) {\n            hasInteractedOutsideRef.current = true;\n            if (event.detail.originalEvent.type === \"pointerdown\") {\n              hasPointerDownOutsideRef.current = true;\n            }\n          }\n          const target = event.target;\n          const targetIsTrigger = context.triggerRef.current?.contains(target);\n          if (targetIsTrigger) event.preventDefault();\n          if (event.detail.originalEvent.type === \"focusin\" && hasPointerDownOutsideRef.current) {\n            event.preventDefault();\n          }\n        }\n      }\n    );\n  }\n);\nvar DialogContentImpl = React4.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, trapFocus, onOpenAutoFocus, onCloseAutoFocus, ...contentProps } = props;\n    const context = useDialogContext(CONTENT_NAME, __scopeDialog);\n    const contentRef = React4.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    useFocusGuards();\n    return (0, import_jsx_runtime2.jsxs)(import_jsx_runtime2.Fragment, { children: [\n      (0, import_jsx_runtime2.jsx)(\n        FocusScope,\n        {\n          asChild: true,\n          loop: true,\n          trapped: trapFocus,\n          onMountAutoFocus: onOpenAutoFocus,\n          onUnmountAutoFocus: onCloseAutoFocus,\n          children: (0, import_jsx_runtime2.jsx)(\n            DismissableLayer,\n            {\n              role: \"dialog\",\n              id: context.contentId,\n              \"aria-describedby\": context.descriptionId,\n              \"aria-labelledby\": context.titleId,\n              \"data-state\": getState(context.open),\n              ...contentProps,\n              ref: composedRefs,\n              onDismiss: () => context.onOpenChange(false)\n            }\n          )\n        }\n      ),\n      (0, import_jsx_runtime2.jsxs)(import_jsx_runtime2.Fragment, { children: [\n        (0, import_jsx_runtime2.jsx)(TitleWarning, { titleId: context.titleId }),\n        (0, import_jsx_runtime2.jsx)(DescriptionWarning, { contentRef, descriptionId: context.descriptionId })\n      ] })\n    ] });\n  }\n);\nvar TITLE_NAME = \"DialogTitle\";\nvar DialogTitle = React4.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...titleProps } = props;\n    const context = useDialogContext(TITLE_NAME, __scopeDialog);\n    return (0, import_jsx_runtime2.jsx)(Primitive.h2, { id: context.titleId, ...titleProps, ref: forwardedRef });\n  }\n);\nDialogTitle.displayName = TITLE_NAME;\nvar DESCRIPTION_NAME = \"DialogDescription\";\nvar DialogDescription = React4.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...descriptionProps } = props;\n    const context = useDialogContext(DESCRIPTION_NAME, __scopeDialog);\n    return (0, import_jsx_runtime2.jsx)(Primitive.p, { id: context.descriptionId, ...descriptionProps, ref: forwardedRef });\n  }\n);\nDialogDescription.displayName = DESCRIPTION_NAME;\nvar CLOSE_NAME = \"DialogClose\";\nvar DialogClose = React4.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDialog, ...closeProps } = props;\n    const context = useDialogContext(CLOSE_NAME, __scopeDialog);\n    return (0, import_jsx_runtime2.jsx)(\n      Primitive.button,\n      {\n        type: \"button\",\n        ...closeProps,\n        ref: forwardedRef,\n        onClick: composeEventHandlers(props.onClick, () => context.onOpenChange(false))\n      }\n    );\n  }\n);\nDialogClose.displayName = CLOSE_NAME;\nfunction getState(open) {\n  return open ? \"open\" : \"closed\";\n}\nvar TITLE_WARNING_NAME = \"DialogTitleWarning\";\nvar [WarningProvider, useWarningContext] = createContext2(TITLE_WARNING_NAME, {\n  contentName: CONTENT_NAME,\n  titleName: TITLE_NAME,\n  docsSlug: \"dialog\"\n});\nvar TitleWarning = ({ titleId }) => {\n  const titleWarningContext = useWarningContext(TITLE_WARNING_NAME);\n  const MESSAGE = `\\`${titleWarningContext.contentName}\\` requires a \\`${titleWarningContext.titleName}\\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \\`${titleWarningContext.titleName}\\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${titleWarningContext.docsSlug}`;\n  React4.useEffect(() => {\n    if (titleId) {\n      const hasTitle = document.getElementById(titleId);\n      if (!hasTitle) console.error(MESSAGE);\n    }\n  }, [MESSAGE, titleId]);\n  return null;\n};\nvar DESCRIPTION_WARNING_NAME = \"DialogDescriptionWarning\";\nvar DescriptionWarning = ({ contentRef, descriptionId }) => {\n  const descriptionWarningContext = useWarningContext(DESCRIPTION_WARNING_NAME);\n  const MESSAGE = `Warning: Missing \\`Description\\` or \\`aria-describedby={undefined}\\` for {${descriptionWarningContext.contentName}}.`;\n  React4.useEffect(() => {\n    const describedById = contentRef.current?.getAttribute(\"aria-describedby\");\n    if (descriptionId && describedById) {\n      const hasDescription = document.getElementById(descriptionId);\n      if (!hasDescription) console.warn(MESSAGE);\n    }\n  }, [MESSAGE, contentRef, descriptionId]);\n  return null;\n};\nvar Root = Dialog;\nvar Trigger = DialogTrigger;\nvar Portal2 = DialogPortal;\nvar Overlay = DialogOverlay;\nvar Content = DialogContent;\nvar Title = DialogTitle;\nvar Description = DialogDescription;\nvar Close = DialogClose;\nexport {\n  Close,\n  Content,\n  Description,\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n  Overlay,\n  Portal2 as Portal,\n  Root,\n  Title,\n  Trigger,\n  WarningProvider,\n  createDialogScope\n};\n//# sourceMappingURL=@radix-ui_react-dialog.js.map\n","path":null,"size_bytes":20062,"size_tokens":null},"node_modules/.vite/deps/@radix-ui_react-dropdown-menu.js":{"content":"\"use client\";\nimport {\n  Item,\n  Root,\n  createRovingFocusGroupScope\n} from \"./chunk-DQ3QZ2TV.js\";\nimport {\n  createCollection,\n  useDirection\n} from \"./chunk-BGGJPDNT.js\";\nimport {\n  Anchor,\n  Arrow,\n  Content,\n  Root2,\n  createPopperScope\n} from \"./chunk-KBNPYQPR.js\";\nimport \"./chunk-UBWUW3DH.js\";\nimport {\n  Presence\n} from \"./chunk-F2O2PWMG.js\";\nimport {\n  Combination_default,\n  FocusScope,\n  hideOthers,\n  useFocusGuards\n} from \"./chunk-EVEOP7WR.js\";\nimport {\n  DismissableLayer,\n  Portal\n} from \"./chunk-LIRJVJKB.js\";\nimport \"./chunk-RQSKBWDH.js\";\nimport {\n  useId\n} from \"./chunk-FTOBKFDQ.js\";\nimport {\n  Primitive,\n  dispatchDiscreteCustomEvent\n} from \"./chunk-GAO6O33O.js\";\nimport {\n  createContextScope\n} from \"./chunk-RHO474TS.js\";\nimport {\n  useCallbackRef\n} from \"./chunk-3NDCRRCM.js\";\nimport {\n  useLayoutEffect2\n} from \"./chunk-GUZOPJU6.js\";\nimport {\n  composeRefs,\n  useComposedRefs\n} from \"./chunk-MS2BCRFE.js\";\nimport \"./chunk-I3XRBTSS.js\";\nimport {\n  require_jsx_runtime\n} from \"./chunk-T7ATK2ZT.js\";\nimport {\n  require_react\n} from \"./chunk-YX2XZWS3.js\";\nimport {\n  __toESM\n} from \"./chunk-G3PMV62Z.js\";\n\n// node_modules/@radix-ui/react-dropdown-menu/dist/index.mjs\nvar React5 = __toESM(require_react(), 1);\n\n// node_modules/@radix-ui/react-dropdown-menu/node_modules/@radix-ui/primitive/dist/index.mjs\nvar canUseDOM = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\nfunction composeEventHandlers(originalEventHandler, ourEventHandler, { checkForDefaultPrevented = true } = {}) {\n  return function handleEvent(event) {\n    originalEventHandler?.(event);\n    if (checkForDefaultPrevented === false || !event.defaultPrevented) {\n      return ourEventHandler?.(event);\n    }\n  };\n}\n\n// node_modules/@radix-ui/react-dropdown-menu/node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs\nvar React = __toESM(require_react(), 1);\nvar React2 = __toESM(require_react(), 1);\nvar useInsertionEffect = React[\" useInsertionEffect \".trim().toString()] || useLayoutEffect2;\nfunction useControllableState({\n  prop,\n  defaultProp,\n  onChange = () => {\n  },\n  caller\n}) {\n  const [uncontrolledProp, setUncontrolledProp, onChangeRef] = useUncontrolledState({\n    defaultProp,\n    onChange\n  });\n  const isControlled = prop !== void 0;\n  const value = isControlled ? prop : uncontrolledProp;\n  if (true) {\n    const isControlledRef = React.useRef(prop !== void 0);\n    React.useEffect(() => {\n      const wasControlled = isControlledRef.current;\n      if (wasControlled !== isControlled) {\n        const from = wasControlled ? \"controlled\" : \"uncontrolled\";\n        const to = isControlled ? \"controlled\" : \"uncontrolled\";\n        console.warn(\n          `${caller} is changing from ${from} to ${to}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`\n        );\n      }\n      isControlledRef.current = isControlled;\n    }, [isControlled, caller]);\n  }\n  const setValue = React.useCallback(\n    (nextValue) => {\n      if (isControlled) {\n        const value2 = isFunction(nextValue) ? nextValue(prop) : nextValue;\n        if (value2 !== prop) {\n          onChangeRef.current?.(value2);\n        }\n      } else {\n        setUncontrolledProp(nextValue);\n      }\n    },\n    [isControlled, prop, setUncontrolledProp, onChangeRef]\n  );\n  return [value, setValue];\n}\nfunction useUncontrolledState({\n  defaultProp,\n  onChange\n}) {\n  const [value, setValue] = React.useState(defaultProp);\n  const prevValueRef = React.useRef(value);\n  const onChangeRef = React.useRef(onChange);\n  useInsertionEffect(() => {\n    onChangeRef.current = onChange;\n  }, [onChange]);\n  React.useEffect(() => {\n    if (prevValueRef.current !== value) {\n      onChangeRef.current?.(value);\n      prevValueRef.current = value;\n    }\n  }, [value, prevValueRef]);\n  return [value, setValue, onChangeRef];\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nvar SYNC_STATE = Symbol(\"RADIX:SYNC_STATE\");\n\n// node_modules/@radix-ui/react-menu/dist/index.mjs\nvar React4 = __toESM(require_react(), 1);\n\n// node_modules/@radix-ui/react-menu/node_modules/@radix-ui/primitive/dist/index.mjs\nvar canUseDOM2 = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\nfunction composeEventHandlers2(originalEventHandler, ourEventHandler, { checkForDefaultPrevented = true } = {}) {\n  return function handleEvent(event) {\n    originalEventHandler?.(event);\n    if (checkForDefaultPrevented === false || !event.defaultPrevented) {\n      return ourEventHandler?.(event);\n    }\n  };\n}\n\n// node_modules/@radix-ui/react-menu/node_modules/@radix-ui/react-slot/dist/index.mjs\nvar React3 = __toESM(require_react(), 1);\nvar import_jsx_runtime = __toESM(require_jsx_runtime(), 1);\nfunction createSlot(ownerName) {\n  const SlotClone = createSlotClone(ownerName);\n  const Slot22 = React3.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React3.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React3.Children.count(newElement) > 1) return React3.Children.only(null);\n          return React3.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return (0, import_jsx_runtime.jsx)(SlotClone, { ...slotProps, ref: forwardedRef, children: React3.isValidElement(newElement) ? React3.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return (0, import_jsx_runtime.jsx)(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot22.displayName = `${ownerName}.Slot`;\n  return Slot22;\n}\nvar Slot = createSlot(\"Slot\");\nfunction createSlotClone(ownerName) {\n  const SlotClone = React3.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React3.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React3.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React3.cloneElement(children, props2);\n    }\n    return React3.Children.count(children) > 1 ? React3.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return (0, import_jsx_runtime.jsx)(import_jsx_runtime.Fragment, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React3.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\n\n// node_modules/@radix-ui/react-menu/dist/index.mjs\nvar import_jsx_runtime2 = __toESM(require_jsx_runtime(), 1);\nvar SELECTION_KEYS = [\"Enter\", \" \"];\nvar FIRST_KEYS = [\"ArrowDown\", \"PageUp\", \"Home\"];\nvar LAST_KEYS = [\"ArrowUp\", \"PageDown\", \"End\"];\nvar FIRST_LAST_KEYS = [...FIRST_KEYS, ...LAST_KEYS];\nvar SUB_OPEN_KEYS = {\n  ltr: [...SELECTION_KEYS, \"ArrowRight\"],\n  rtl: [...SELECTION_KEYS, \"ArrowLeft\"]\n};\nvar SUB_CLOSE_KEYS = {\n  ltr: [\"ArrowLeft\"],\n  rtl: [\"ArrowRight\"]\n};\nvar MENU_NAME = \"Menu\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(MENU_NAME);\nvar [createMenuContext, createMenuScope] = createContextScope(MENU_NAME, [\n  createCollectionScope,\n  createPopperScope,\n  createRovingFocusGroupScope\n]);\nvar usePopperScope = createPopperScope();\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar [MenuProvider, useMenuContext] = createMenuContext(MENU_NAME);\nvar [MenuRootProvider, useMenuRootContext] = createMenuContext(MENU_NAME);\nvar Menu = (props) => {\n  const { __scopeMenu, open = false, children, dir, onOpenChange, modal = true } = props;\n  const popperScope = usePopperScope(__scopeMenu);\n  const [content, setContent] = React4.useState(null);\n  const isUsingKeyboardRef = React4.useRef(false);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n  const direction = useDirection(dir);\n  React4.useEffect(() => {\n    const handleKeyDown = () => {\n      isUsingKeyboardRef.current = true;\n      document.addEventListener(\"pointerdown\", handlePointer, { capture: true, once: true });\n      document.addEventListener(\"pointermove\", handlePointer, { capture: true, once: true });\n    };\n    const handlePointer = () => isUsingKeyboardRef.current = false;\n    document.addEventListener(\"keydown\", handleKeyDown, { capture: true });\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown, { capture: true });\n      document.removeEventListener(\"pointerdown\", handlePointer, { capture: true });\n      document.removeEventListener(\"pointermove\", handlePointer, { capture: true });\n    };\n  }, []);\n  return (0, import_jsx_runtime2.jsx)(Root2, { ...popperScope, children: (0, import_jsx_runtime2.jsx)(\n    MenuProvider,\n    {\n      scope: __scopeMenu,\n      open,\n      onOpenChange: handleOpenChange,\n      content,\n      onContentChange: setContent,\n      children: (0, import_jsx_runtime2.jsx)(\n        MenuRootProvider,\n        {\n          scope: __scopeMenu,\n          onClose: React4.useCallback(() => handleOpenChange(false), [handleOpenChange]),\n          isUsingKeyboardRef,\n          dir: direction,\n          modal,\n          children\n        }\n      )\n    }\n  ) });\n};\nMenu.displayName = MENU_NAME;\nvar ANCHOR_NAME = \"MenuAnchor\";\nvar MenuAnchor = React4.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...anchorProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return (0, import_jsx_runtime2.jsx)(Anchor, { ...popperScope, ...anchorProps, ref: forwardedRef });\n  }\n);\nMenuAnchor.displayName = ANCHOR_NAME;\nvar PORTAL_NAME = \"MenuPortal\";\nvar [PortalProvider, usePortalContext] = createMenuContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar MenuPortal = (props) => {\n  const { __scopeMenu, forceMount, children, container } = props;\n  const context = useMenuContext(PORTAL_NAME, __scopeMenu);\n  return (0, import_jsx_runtime2.jsx)(PortalProvider, { scope: __scopeMenu, forceMount, children: (0, import_jsx_runtime2.jsx)(Presence, { present: forceMount || context.open, children: (0, import_jsx_runtime2.jsx)(Portal, { asChild: true, container, children }) }) });\n};\nMenuPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"MenuContent\";\nvar [MenuContentProvider, useMenuContentContext] = createMenuContext(CONTENT_NAME);\nvar MenuContent = React4.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n    return (0, import_jsx_runtime2.jsx)(Collection.Provider, { scope: props.__scopeMenu, children: (0, import_jsx_runtime2.jsx)(Presence, { present: forceMount || context.open, children: (0, import_jsx_runtime2.jsx)(Collection.Slot, { scope: props.__scopeMenu, children: rootContext.modal ? (0, import_jsx_runtime2.jsx)(MenuRootContentModal, { ...contentProps, ref: forwardedRef }) : (0, import_jsx_runtime2.jsx)(MenuRootContentNonModal, { ...contentProps, ref: forwardedRef }) }) }) });\n  }\n);\nvar MenuRootContentModal = React4.forwardRef(\n  (props, forwardedRef) => {\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const ref = React4.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    React4.useEffect(() => {\n      const content = ref.current;\n      if (content) return hideOthers(content);\n    }, []);\n    return (0, import_jsx_runtime2.jsx)(\n      MenuContentImpl,\n      {\n        ...props,\n        ref: composedRefs,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: context.open,\n        disableOutsideScroll: true,\n        onFocusOutside: composeEventHandlers2(\n          props.onFocusOutside,\n          (event) => event.preventDefault(),\n          { checkForDefaultPrevented: false }\n        ),\n        onDismiss: () => context.onOpenChange(false)\n      }\n    );\n  }\n);\nvar MenuRootContentNonModal = React4.forwardRef((props, forwardedRef) => {\n  const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n  return (0, import_jsx_runtime2.jsx)(\n    MenuContentImpl,\n    {\n      ...props,\n      ref: forwardedRef,\n      trapFocus: false,\n      disableOutsidePointerEvents: false,\n      disableOutsideScroll: false,\n      onDismiss: () => context.onOpenChange(false)\n    }\n  );\n});\nvar Slot2 = createSlot(\"MenuContent.ScrollLock\");\nvar MenuContentImpl = React4.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeMenu,\n      loop = false,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEntryFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      onDismiss,\n      disableOutsideScroll,\n      ...contentProps\n    } = props;\n    const context = useMenuContext(CONTENT_NAME, __scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, __scopeMenu);\n    const popperScope = usePopperScope(__scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const getItems = useCollection(__scopeMenu);\n    const [currentItemId, setCurrentItemId] = React4.useState(null);\n    const contentRef = React4.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef, context.onContentChange);\n    const timerRef = React4.useRef(0);\n    const searchRef = React4.useRef(\"\");\n    const pointerGraceTimerRef = React4.useRef(0);\n    const pointerGraceIntentRef = React4.useRef(null);\n    const pointerDirRef = React4.useRef(\"right\");\n    const lastPointerXRef = React4.useRef(0);\n    const ScrollLockWrapper = disableOutsideScroll ? Combination_default : React4.Fragment;\n    const scrollLockWrapperProps = disableOutsideScroll ? { as: Slot2, allowPinchZoom: true } : void 0;\n    const handleTypeaheadSearch = (key) => {\n      const search = searchRef.current + key;\n      const items = getItems().filter((item) => !item.disabled);\n      const currentItem = document.activeElement;\n      const currentMatch = items.find((item) => item.ref.current === currentItem)?.textValue;\n      const values = items.map((item) => item.textValue);\n      const nextMatch = getNextMatch(values, search, currentMatch);\n      const newItem = items.find((item) => item.textValue === nextMatch)?.ref.current;\n      (function updateSearch(value) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        if (value !== \"\") timerRef.current = window.setTimeout(() => updateSearch(\"\"), 1e3);\n      })(search);\n      if (newItem) {\n        setTimeout(() => newItem.focus());\n      }\n    };\n    React4.useEffect(() => {\n      return () => window.clearTimeout(timerRef.current);\n    }, []);\n    useFocusGuards();\n    const isPointerMovingToSubmenu = React4.useCallback((event) => {\n      const isMovingTowards = pointerDirRef.current === pointerGraceIntentRef.current?.side;\n      return isMovingTowards && isPointerInGraceArea(event, pointerGraceIntentRef.current?.area);\n    }, []);\n    return (0, import_jsx_runtime2.jsx)(\n      MenuContentProvider,\n      {\n        scope: __scopeMenu,\n        searchRef,\n        onItemEnter: React4.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        onItemLeave: React4.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) return;\n            contentRef.current?.focus();\n            setCurrentItemId(null);\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        onTriggerLeave: React4.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        pointerGraceTimerRef,\n        onPointerGraceIntentChange: React4.useCallback((intent) => {\n          pointerGraceIntentRef.current = intent;\n        }, []),\n        children: (0, import_jsx_runtime2.jsx)(ScrollLockWrapper, { ...scrollLockWrapperProps, children: (0, import_jsx_runtime2.jsx)(\n          FocusScope,\n          {\n            asChild: true,\n            trapped: trapFocus,\n            onMountAutoFocus: composeEventHandlers2(onOpenAutoFocus, (event) => {\n              event.preventDefault();\n              contentRef.current?.focus({ preventScroll: true });\n            }),\n            onUnmountAutoFocus: onCloseAutoFocus,\n            children: (0, import_jsx_runtime2.jsx)(\n              DismissableLayer,\n              {\n                asChild: true,\n                disableOutsidePointerEvents,\n                onEscapeKeyDown,\n                onPointerDownOutside,\n                onFocusOutside,\n                onInteractOutside,\n                onDismiss,\n                children: (0, import_jsx_runtime2.jsx)(\n                  Root,\n                  {\n                    asChild: true,\n                    ...rovingFocusGroupScope,\n                    dir: rootContext.dir,\n                    orientation: \"vertical\",\n                    loop,\n                    currentTabStopId: currentItemId,\n                    onCurrentTabStopIdChange: setCurrentItemId,\n                    onEntryFocus: composeEventHandlers2(onEntryFocus, (event) => {\n                      if (!rootContext.isUsingKeyboardRef.current) event.preventDefault();\n                    }),\n                    preventScrollOnEntryFocus: true,\n                    children: (0, import_jsx_runtime2.jsx)(\n                      Content,\n                      {\n                        role: \"menu\",\n                        \"aria-orientation\": \"vertical\",\n                        \"data-state\": getOpenState(context.open),\n                        \"data-radix-menu-content\": \"\",\n                        dir: rootContext.dir,\n                        ...popperScope,\n                        ...contentProps,\n                        ref: composedRefs,\n                        style: { outline: \"none\", ...contentProps.style },\n                        onKeyDown: composeEventHandlers2(contentProps.onKeyDown, (event) => {\n                          const target = event.target;\n                          const isKeyDownInside = target.closest(\"[data-radix-menu-content]\") === event.currentTarget;\n                          const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                          const isCharacterKey = event.key.length === 1;\n                          if (isKeyDownInside) {\n                            if (event.key === \"Tab\") event.preventDefault();\n                            if (!isModifierKey && isCharacterKey) handleTypeaheadSearch(event.key);\n                          }\n                          const content = contentRef.current;\n                          if (event.target !== content) return;\n                          if (!FIRST_LAST_KEYS.includes(event.key)) return;\n                          event.preventDefault();\n                          const items = getItems().filter((item) => !item.disabled);\n                          const candidateNodes = items.map((item) => item.ref.current);\n                          if (LAST_KEYS.includes(event.key)) candidateNodes.reverse();\n                          focusFirst(candidateNodes);\n                        }),\n                        onBlur: composeEventHandlers2(props.onBlur, (event) => {\n                          if (!event.currentTarget.contains(event.target)) {\n                            window.clearTimeout(timerRef.current);\n                            searchRef.current = \"\";\n                          }\n                        }),\n                        onPointerMove: composeEventHandlers2(\n                          props.onPointerMove,\n                          whenMouse((event) => {\n                            const target = event.target;\n                            const pointerXHasChanged = lastPointerXRef.current !== event.clientX;\n                            if (event.currentTarget.contains(target) && pointerXHasChanged) {\n                              const newDir = event.clientX > lastPointerXRef.current ? \"right\" : \"left\";\n                              pointerDirRef.current = newDir;\n                              lastPointerXRef.current = event.clientX;\n                            }\n                          })\n                        )\n                      }\n                    )\n                  }\n                )\n              }\n            )\n          }\n        ) })\n      }\n    );\n  }\n);\nMenuContent.displayName = CONTENT_NAME;\nvar GROUP_NAME = \"MenuGroup\";\nvar MenuGroup = React4.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...groupProps } = props;\n    return (0, import_jsx_runtime2.jsx)(Primitive.div, { role: \"group\", ...groupProps, ref: forwardedRef });\n  }\n);\nMenuGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"MenuLabel\";\nvar MenuLabel = React4.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...labelProps } = props;\n    return (0, import_jsx_runtime2.jsx)(Primitive.div, { ...labelProps, ref: forwardedRef });\n  }\n);\nMenuLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"MenuItem\";\nvar ITEM_SELECT = \"menu.itemSelect\";\nvar MenuItem = React4.forwardRef(\n  (props, forwardedRef) => {\n    const { disabled = false, onSelect, ...itemProps } = props;\n    const ref = React4.useRef(null);\n    const rootContext = useMenuRootContext(ITEM_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(ITEM_NAME, props.__scopeMenu);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const isPointerDownRef = React4.useRef(false);\n    const handleSelect = () => {\n      const menuItem = ref.current;\n      if (!disabled && menuItem) {\n        const itemSelectEvent = new CustomEvent(ITEM_SELECT, { bubbles: true, cancelable: true });\n        menuItem.addEventListener(ITEM_SELECT, (event) => onSelect?.(event), { once: true });\n        dispatchDiscreteCustomEvent(menuItem, itemSelectEvent);\n        if (itemSelectEvent.defaultPrevented) {\n          isPointerDownRef.current = false;\n        } else {\n          rootContext.onClose();\n        }\n      }\n    };\n    return (0, import_jsx_runtime2.jsx)(\n      MenuItemImpl,\n      {\n        ...itemProps,\n        ref: composedRefs,\n        disabled,\n        onClick: composeEventHandlers2(props.onClick, handleSelect),\n        onPointerDown: (event) => {\n          props.onPointerDown?.(event);\n          isPointerDownRef.current = true;\n        },\n        onPointerUp: composeEventHandlers2(props.onPointerUp, (event) => {\n          if (!isPointerDownRef.current) event.currentTarget?.click();\n        }),\n        onKeyDown: composeEventHandlers2(props.onKeyDown, (event) => {\n          const isTypingAhead = contentContext.searchRef.current !== \"\";\n          if (disabled || isTypingAhead && event.key === \" \") return;\n          if (SELECTION_KEYS.includes(event.key)) {\n            event.currentTarget.click();\n            event.preventDefault();\n          }\n        })\n      }\n    );\n  }\n);\nMenuItem.displayName = ITEM_NAME;\nvar MenuItemImpl = React4.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, disabled = false, textValue, ...itemProps } = props;\n    const contentContext = useMenuContentContext(ITEM_NAME, __scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const ref = React4.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const [isFocused, setIsFocused] = React4.useState(false);\n    const [textContent, setTextContent] = React4.useState(\"\");\n    React4.useEffect(() => {\n      const menuItem = ref.current;\n      if (menuItem) {\n        setTextContent((menuItem.textContent ?? \"\").trim());\n      }\n    }, [itemProps.children]);\n    return (0, import_jsx_runtime2.jsx)(\n      Collection.ItemSlot,\n      {\n        scope: __scopeMenu,\n        disabled,\n        textValue: textValue ?? textContent,\n        children: (0, import_jsx_runtime2.jsx)(Item, { asChild: true, ...rovingFocusGroupScope, focusable: !disabled, children: (0, import_jsx_runtime2.jsx)(\n          Primitive.div,\n          {\n            role: \"menuitem\",\n            \"data-highlighted\": isFocused ? \"\" : void 0,\n            \"aria-disabled\": disabled || void 0,\n            \"data-disabled\": disabled ? \"\" : void 0,\n            ...itemProps,\n            ref: composedRefs,\n            onPointerMove: composeEventHandlers2(\n              props.onPointerMove,\n              whenMouse((event) => {\n                if (disabled) {\n                  contentContext.onItemLeave(event);\n                } else {\n                  contentContext.onItemEnter(event);\n                  if (!event.defaultPrevented) {\n                    const item = event.currentTarget;\n                    item.focus({ preventScroll: true });\n                  }\n                }\n              })\n            ),\n            onPointerLeave: composeEventHandlers2(\n              props.onPointerLeave,\n              whenMouse((event) => contentContext.onItemLeave(event))\n            ),\n            onFocus: composeEventHandlers2(props.onFocus, () => setIsFocused(true)),\n            onBlur: composeEventHandlers2(props.onBlur, () => setIsFocused(false))\n          }\n        ) })\n      }\n    );\n  }\n);\nvar CHECKBOX_ITEM_NAME = \"MenuCheckboxItem\";\nvar MenuCheckboxItem = React4.forwardRef(\n  (props, forwardedRef) => {\n    const { checked = false, onCheckedChange, ...checkboxItemProps } = props;\n    return (0, import_jsx_runtime2.jsx)(ItemIndicatorProvider, { scope: props.__scopeMenu, checked, children: (0, import_jsx_runtime2.jsx)(\n      MenuItem,\n      {\n        role: \"menuitemcheckbox\",\n        \"aria-checked\": isIndeterminate(checked) ? \"mixed\" : checked,\n        ...checkboxItemProps,\n        ref: forwardedRef,\n        \"data-state\": getCheckedState(checked),\n        onSelect: composeEventHandlers2(\n          checkboxItemProps.onSelect,\n          () => onCheckedChange?.(isIndeterminate(checked) ? true : !checked),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\nvar RADIO_GROUP_NAME = \"MenuRadioGroup\";\nvar [RadioGroupProvider, useRadioGroupContext] = createMenuContext(\n  RADIO_GROUP_NAME,\n  { value: void 0, onValueChange: () => {\n  } }\n);\nvar MenuRadioGroup = React4.forwardRef(\n  (props, forwardedRef) => {\n    const { value, onValueChange, ...groupProps } = props;\n    const handleValueChange = useCallbackRef(onValueChange);\n    return (0, import_jsx_runtime2.jsx)(RadioGroupProvider, { scope: props.__scopeMenu, value, onValueChange: handleValueChange, children: (0, import_jsx_runtime2.jsx)(MenuGroup, { ...groupProps, ref: forwardedRef }) });\n  }\n);\nMenuRadioGroup.displayName = RADIO_GROUP_NAME;\nvar RADIO_ITEM_NAME = \"MenuRadioItem\";\nvar MenuRadioItem = React4.forwardRef(\n  (props, forwardedRef) => {\n    const { value, ...radioItemProps } = props;\n    const context = useRadioGroupContext(RADIO_ITEM_NAME, props.__scopeMenu);\n    const checked = value === context.value;\n    return (0, import_jsx_runtime2.jsx)(ItemIndicatorProvider, { scope: props.__scopeMenu, checked, children: (0, import_jsx_runtime2.jsx)(\n      MenuItem,\n      {\n        role: \"menuitemradio\",\n        \"aria-checked\": checked,\n        ...radioItemProps,\n        ref: forwardedRef,\n        \"data-state\": getCheckedState(checked),\n        onSelect: composeEventHandlers2(\n          radioItemProps.onSelect,\n          () => context.onValueChange?.(value),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nMenuRadioItem.displayName = RADIO_ITEM_NAME;\nvar ITEM_INDICATOR_NAME = \"MenuItemIndicator\";\nvar [ItemIndicatorProvider, useItemIndicatorContext] = createMenuContext(\n  ITEM_INDICATOR_NAME,\n  { checked: false }\n);\nvar MenuItemIndicator = React4.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, forceMount, ...itemIndicatorProps } = props;\n    const indicatorContext = useItemIndicatorContext(ITEM_INDICATOR_NAME, __scopeMenu);\n    return (0, import_jsx_runtime2.jsx)(\n      Presence,\n      {\n        present: forceMount || isIndeterminate(indicatorContext.checked) || indicatorContext.checked === true,\n        children: (0, import_jsx_runtime2.jsx)(\n          Primitive.span,\n          {\n            ...itemIndicatorProps,\n            ref: forwardedRef,\n            \"data-state\": getCheckedState(indicatorContext.checked)\n          }\n        )\n      }\n    );\n  }\n);\nMenuItemIndicator.displayName = ITEM_INDICATOR_NAME;\nvar SEPARATOR_NAME = \"MenuSeparator\";\nvar MenuSeparator = React4.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...separatorProps } = props;\n    return (0, import_jsx_runtime2.jsx)(\n      Primitive.div,\n      {\n        role: \"separator\",\n        \"aria-orientation\": \"horizontal\",\n        ...separatorProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nMenuSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"MenuArrow\";\nvar MenuArrow = React4.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return (0, import_jsx_runtime2.jsx)(Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nMenuArrow.displayName = ARROW_NAME;\nvar SUB_NAME = \"MenuSub\";\nvar [MenuSubProvider, useMenuSubContext] = createMenuContext(SUB_NAME);\nvar MenuSub = (props) => {\n  const { __scopeMenu, children, open = false, onOpenChange } = props;\n  const parentMenuContext = useMenuContext(SUB_NAME, __scopeMenu);\n  const popperScope = usePopperScope(__scopeMenu);\n  const [trigger, setTrigger] = React4.useState(null);\n  const [content, setContent] = React4.useState(null);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n  React4.useEffect(() => {\n    if (parentMenuContext.open === false) handleOpenChange(false);\n    return () => handleOpenChange(false);\n  }, [parentMenuContext.open, handleOpenChange]);\n  return (0, import_jsx_runtime2.jsx)(Root2, { ...popperScope, children: (0, import_jsx_runtime2.jsx)(\n    MenuProvider,\n    {\n      scope: __scopeMenu,\n      open,\n      onOpenChange: handleOpenChange,\n      content,\n      onContentChange: setContent,\n      children: (0, import_jsx_runtime2.jsx)(\n        MenuSubProvider,\n        {\n          scope: __scopeMenu,\n          contentId: useId(),\n          triggerId: useId(),\n          trigger,\n          onTriggerChange: setTrigger,\n          children\n        }\n      )\n    }\n  ) });\n};\nMenuSub.displayName = SUB_NAME;\nvar SUB_TRIGGER_NAME = \"MenuSubTrigger\";\nvar MenuSubTrigger = React4.forwardRef(\n  (props, forwardedRef) => {\n    const context = useMenuContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const openTimerRef = React4.useRef(null);\n    const { pointerGraceTimerRef, onPointerGraceIntentChange } = contentContext;\n    const scope = { __scopeMenu: props.__scopeMenu };\n    const clearOpenTimer = React4.useCallback(() => {\n      if (openTimerRef.current) window.clearTimeout(openTimerRef.current);\n      openTimerRef.current = null;\n    }, []);\n    React4.useEffect(() => clearOpenTimer, [clearOpenTimer]);\n    React4.useEffect(() => {\n      const pointerGraceTimer = pointerGraceTimerRef.current;\n      return () => {\n        window.clearTimeout(pointerGraceTimer);\n        onPointerGraceIntentChange(null);\n      };\n    }, [pointerGraceTimerRef, onPointerGraceIntentChange]);\n    return (0, import_jsx_runtime2.jsx)(MenuAnchor, { asChild: true, ...scope, children: (0, import_jsx_runtime2.jsx)(\n      MenuItemImpl,\n      {\n        id: subContext.triggerId,\n        \"aria-haspopup\": \"menu\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": subContext.contentId,\n        \"data-state\": getOpenState(context.open),\n        ...props,\n        ref: composeRefs(forwardedRef, subContext.onTriggerChange),\n        onClick: (event) => {\n          props.onClick?.(event);\n          if (props.disabled || event.defaultPrevented) return;\n          event.currentTarget.focus();\n          if (!context.open) context.onOpenChange(true);\n        },\n        onPointerMove: composeEventHandlers2(\n          props.onPointerMove,\n          whenMouse((event) => {\n            contentContext.onItemEnter(event);\n            if (event.defaultPrevented) return;\n            if (!props.disabled && !context.open && !openTimerRef.current) {\n              contentContext.onPointerGraceIntentChange(null);\n              openTimerRef.current = window.setTimeout(() => {\n                context.onOpenChange(true);\n                clearOpenTimer();\n              }, 100);\n            }\n          })\n        ),\n        onPointerLeave: composeEventHandlers2(\n          props.onPointerLeave,\n          whenMouse((event) => {\n            clearOpenTimer();\n            const contentRect = context.content?.getBoundingClientRect();\n            if (contentRect) {\n              const side = context.content?.dataset.side;\n              const rightSide = side === \"right\";\n              const bleed = rightSide ? -5 : 5;\n              const contentNearEdge = contentRect[rightSide ? \"left\" : \"right\"];\n              const contentFarEdge = contentRect[rightSide ? \"right\" : \"left\"];\n              contentContext.onPointerGraceIntentChange({\n                area: [\n                  // Apply a bleed on clientX to ensure that our exit point is\n                  // consistently within polygon bounds\n                  { x: event.clientX + bleed, y: event.clientY },\n                  { x: contentNearEdge, y: contentRect.top },\n                  { x: contentFarEdge, y: contentRect.top },\n                  { x: contentFarEdge, y: contentRect.bottom },\n                  { x: contentNearEdge, y: contentRect.bottom }\n                ],\n                side\n              });\n              window.clearTimeout(pointerGraceTimerRef.current);\n              pointerGraceTimerRef.current = window.setTimeout(\n                () => contentContext.onPointerGraceIntentChange(null),\n                300\n              );\n            } else {\n              contentContext.onTriggerLeave(event);\n              if (event.defaultPrevented) return;\n              contentContext.onPointerGraceIntentChange(null);\n            }\n          })\n        ),\n        onKeyDown: composeEventHandlers2(props.onKeyDown, (event) => {\n          const isTypingAhead = contentContext.searchRef.current !== \"\";\n          if (props.disabled || isTypingAhead && event.key === \" \") return;\n          if (SUB_OPEN_KEYS[rootContext.dir].includes(event.key)) {\n            context.onOpenChange(true);\n            context.content?.focus();\n            event.preventDefault();\n          }\n        })\n      }\n    ) });\n  }\n);\nMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\nvar SUB_CONTENT_NAME = \"MenuSubContent\";\nvar MenuSubContent = React4.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...subContentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_CONTENT_NAME, props.__scopeMenu);\n    const ref = React4.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    return (0, import_jsx_runtime2.jsx)(Collection.Provider, { scope: props.__scopeMenu, children: (0, import_jsx_runtime2.jsx)(Presence, { present: forceMount || context.open, children: (0, import_jsx_runtime2.jsx)(Collection.Slot, { scope: props.__scopeMenu, children: (0, import_jsx_runtime2.jsx)(\n      MenuContentImpl,\n      {\n        id: subContext.contentId,\n        \"aria-labelledby\": subContext.triggerId,\n        ...subContentProps,\n        ref: composedRefs,\n        align: \"start\",\n        side: rootContext.dir === \"rtl\" ? \"left\" : \"right\",\n        disableOutsidePointerEvents: false,\n        disableOutsideScroll: false,\n        trapFocus: false,\n        onOpenAutoFocus: (event) => {\n          if (rootContext.isUsingKeyboardRef.current) ref.current?.focus();\n          event.preventDefault();\n        },\n        onCloseAutoFocus: (event) => event.preventDefault(),\n        onFocusOutside: composeEventHandlers2(props.onFocusOutside, (event) => {\n          if (event.target !== subContext.trigger) context.onOpenChange(false);\n        }),\n        onEscapeKeyDown: composeEventHandlers2(props.onEscapeKeyDown, (event) => {\n          rootContext.onClose();\n          event.preventDefault();\n        }),\n        onKeyDown: composeEventHandlers2(props.onKeyDown, (event) => {\n          const isKeyDownInside = event.currentTarget.contains(event.target);\n          const isCloseKey = SUB_CLOSE_KEYS[rootContext.dir].includes(event.key);\n          if (isKeyDownInside && isCloseKey) {\n            context.onOpenChange(false);\n            subContext.trigger?.focus();\n            event.preventDefault();\n          }\n        })\n      }\n    ) }) }) });\n  }\n);\nMenuSubContent.displayName = SUB_CONTENT_NAME;\nfunction getOpenState(open) {\n  return open ? \"open\" : \"closed\";\n}\nfunction isIndeterminate(checked) {\n  return checked === \"indeterminate\";\n}\nfunction getCheckedState(checked) {\n  return isIndeterminate(checked) ? \"indeterminate\" : checked ? \"checked\" : \"unchecked\";\n}\nfunction focusFirst(candidates) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus();\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nfunction getNextMatch(values, search, currentMatch) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0] : search;\n  const currentMatchIndex = currentMatch ? values.indexOf(currentMatch) : -1;\n  let wrappedValues = wrapArray(values, Math.max(currentMatchIndex, 0));\n  const excludeCurrentMatch = normalizedSearch.length === 1;\n  if (excludeCurrentMatch) wrappedValues = wrappedValues.filter((v) => v !== currentMatch);\n  const nextMatch = wrappedValues.find(\n    (value) => value.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextMatch !== currentMatch ? nextMatch : void 0;\n}\nfunction isPointInPolygon(point, polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const ii = polygon[i];\n    const jj = polygon[j];\n    const xi = ii.x;\n    const yi = ii.y;\n    const xj = jj.x;\n    const yj = jj.y;\n    const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) inside = !inside;\n  }\n  return inside;\n}\nfunction isPointerInGraceArea(event, area) {\n  if (!area) return false;\n  const cursorPos = { x: event.clientX, y: event.clientY };\n  return isPointInPolygon(cursorPos, area);\n}\nfunction whenMouse(handler) {\n  return (event) => event.pointerType === \"mouse\" ? handler(event) : void 0;\n}\nvar Root3 = Menu;\nvar Anchor2 = MenuAnchor;\nvar Portal2 = MenuPortal;\nvar Content2 = MenuContent;\nvar Group = MenuGroup;\nvar Label = MenuLabel;\nvar Item2 = MenuItem;\nvar CheckboxItem = MenuCheckboxItem;\nvar RadioGroup = MenuRadioGroup;\nvar RadioItem = MenuRadioItem;\nvar ItemIndicator = MenuItemIndicator;\nvar Separator = MenuSeparator;\nvar Arrow2 = MenuArrow;\nvar Sub = MenuSub;\nvar SubTrigger = MenuSubTrigger;\nvar SubContent = MenuSubContent;\n\n// node_modules/@radix-ui/react-dropdown-menu/dist/index.mjs\nvar import_jsx_runtime3 = __toESM(require_jsx_runtime(), 1);\nvar DROPDOWN_MENU_NAME = \"DropdownMenu\";\nvar [createDropdownMenuContext, createDropdownMenuScope] = createContextScope(\n  DROPDOWN_MENU_NAME,\n  [createMenuScope]\n);\nvar useMenuScope = createMenuScope();\nvar [DropdownMenuProvider, useDropdownMenuContext] = createDropdownMenuContext(DROPDOWN_MENU_NAME);\nvar DropdownMenu = (props) => {\n  const {\n    __scopeDropdownMenu,\n    children,\n    dir,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = true\n  } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const triggerRef = React5.useRef(null);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: DROPDOWN_MENU_NAME\n  });\n  return (0, import_jsx_runtime3.jsx)(\n    DropdownMenuProvider,\n    {\n      scope: __scopeDropdownMenu,\n      triggerId: useId(),\n      triggerRef,\n      contentId: useId(),\n      open,\n      onOpenChange: setOpen,\n      onOpenToggle: React5.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),\n      modal,\n      children: (0, import_jsx_runtime3.jsx)(Root3, { ...menuScope, open, onOpenChange: setOpen, dir, modal, children })\n    }\n  );\n};\nDropdownMenu.displayName = DROPDOWN_MENU_NAME;\nvar TRIGGER_NAME = \"DropdownMenuTrigger\";\nvar DropdownMenuTrigger = React5.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, disabled = false, ...triggerProps } = props;\n    const context = useDropdownMenuContext(TRIGGER_NAME, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return (0, import_jsx_runtime3.jsx)(Anchor2, { asChild: true, ...menuScope, children: (0, import_jsx_runtime3.jsx)(\n      Primitive.button,\n      {\n        type: \"button\",\n        id: context.triggerId,\n        \"aria-haspopup\": \"menu\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.open ? context.contentId : void 0,\n        \"data-state\": context.open ? \"open\" : \"closed\",\n        \"data-disabled\": disabled ? \"\" : void 0,\n        disabled,\n        ...triggerProps,\n        ref: composeRefs(forwardedRef, context.triggerRef),\n        onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {\n          if (!disabled && event.button === 0 && event.ctrlKey === false) {\n            context.onOpenToggle();\n            if (!context.open) event.preventDefault();\n          }\n        }),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          if (disabled) return;\n          if ([\"Enter\", \" \"].includes(event.key)) context.onOpenToggle();\n          if (event.key === \"ArrowDown\") context.onOpenChange(true);\n          if ([\"Enter\", \" \", \"ArrowDown\"].includes(event.key)) event.preventDefault();\n        })\n      }\n    ) });\n  }\n);\nDropdownMenuTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME2 = \"DropdownMenuPortal\";\nvar DropdownMenuPortal = (props) => {\n  const { __scopeDropdownMenu, ...portalProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return (0, import_jsx_runtime3.jsx)(Portal2, { ...menuScope, ...portalProps });\n};\nDropdownMenuPortal.displayName = PORTAL_NAME2;\nvar CONTENT_NAME2 = \"DropdownMenuContent\";\nvar DropdownMenuContent = React5.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...contentProps } = props;\n    const context = useDropdownMenuContext(CONTENT_NAME2, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    const hasInteractedOutsideRef = React5.useRef(false);\n    return (0, import_jsx_runtime3.jsx)(\n      Content2,\n      {\n        id: context.contentId,\n        \"aria-labelledby\": context.triggerId,\n        ...menuScope,\n        ...contentProps,\n        ref: forwardedRef,\n        onCloseAutoFocus: composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n          hasInteractedOutsideRef.current = false;\n          event.preventDefault();\n        }),\n        onInteractOutside: composeEventHandlers(props.onInteractOutside, (event) => {\n          const originalEvent = event.detail.originalEvent;\n          const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n          const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n          if (!context.modal || isRightClick) hasInteractedOutsideRef.current = true;\n        }),\n        style: {\n          ...props.style,\n          // re-namespace exposed content custom properties\n          ...{\n            \"--radix-dropdown-menu-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n            \"--radix-dropdown-menu-content-available-width\": \"var(--radix-popper-available-width)\",\n            \"--radix-dropdown-menu-content-available-height\": \"var(--radix-popper-available-height)\",\n            \"--radix-dropdown-menu-trigger-width\": \"var(--radix-popper-anchor-width)\",\n            \"--radix-dropdown-menu-trigger-height\": \"var(--radix-popper-anchor-height)\"\n          }\n        }\n      }\n    );\n  }\n);\nDropdownMenuContent.displayName = CONTENT_NAME2;\nvar GROUP_NAME2 = \"DropdownMenuGroup\";\nvar DropdownMenuGroup = React5.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...groupProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return (0, import_jsx_runtime3.jsx)(Group, { ...menuScope, ...groupProps, ref: forwardedRef });\n  }\n);\nDropdownMenuGroup.displayName = GROUP_NAME2;\nvar LABEL_NAME2 = \"DropdownMenuLabel\";\nvar DropdownMenuLabel = React5.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...labelProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return (0, import_jsx_runtime3.jsx)(Label, { ...menuScope, ...labelProps, ref: forwardedRef });\n  }\n);\nDropdownMenuLabel.displayName = LABEL_NAME2;\nvar ITEM_NAME2 = \"DropdownMenuItem\";\nvar DropdownMenuItem = React5.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...itemProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return (0, import_jsx_runtime3.jsx)(Item2, { ...menuScope, ...itemProps, ref: forwardedRef });\n  }\n);\nDropdownMenuItem.displayName = ITEM_NAME2;\nvar CHECKBOX_ITEM_NAME2 = \"DropdownMenuCheckboxItem\";\nvar DropdownMenuCheckboxItem = React5.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...checkboxItemProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return (0, import_jsx_runtime3.jsx)(CheckboxItem, { ...menuScope, ...checkboxItemProps, ref: forwardedRef });\n});\nDropdownMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME2;\nvar RADIO_GROUP_NAME2 = \"DropdownMenuRadioGroup\";\nvar DropdownMenuRadioGroup = React5.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...radioGroupProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return (0, import_jsx_runtime3.jsx)(RadioGroup, { ...menuScope, ...radioGroupProps, ref: forwardedRef });\n});\nDropdownMenuRadioGroup.displayName = RADIO_GROUP_NAME2;\nvar RADIO_ITEM_NAME2 = \"DropdownMenuRadioItem\";\nvar DropdownMenuRadioItem = React5.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...radioItemProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return (0, import_jsx_runtime3.jsx)(RadioItem, { ...menuScope, ...radioItemProps, ref: forwardedRef });\n});\nDropdownMenuRadioItem.displayName = RADIO_ITEM_NAME2;\nvar INDICATOR_NAME = \"DropdownMenuItemIndicator\";\nvar DropdownMenuItemIndicator = React5.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...itemIndicatorProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return (0, import_jsx_runtime3.jsx)(ItemIndicator, { ...menuScope, ...itemIndicatorProps, ref: forwardedRef });\n});\nDropdownMenuItemIndicator.displayName = INDICATOR_NAME;\nvar SEPARATOR_NAME2 = \"DropdownMenuSeparator\";\nvar DropdownMenuSeparator = React5.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...separatorProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return (0, import_jsx_runtime3.jsx)(Separator, { ...menuScope, ...separatorProps, ref: forwardedRef });\n});\nDropdownMenuSeparator.displayName = SEPARATOR_NAME2;\nvar ARROW_NAME2 = \"DropdownMenuArrow\";\nvar DropdownMenuArrow = React5.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...arrowProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return (0, import_jsx_runtime3.jsx)(Arrow2, { ...menuScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nDropdownMenuArrow.displayName = ARROW_NAME2;\nvar DropdownMenuSub = (props) => {\n  const { __scopeDropdownMenu, children, open: openProp, onOpenChange, defaultOpen } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: \"DropdownMenuSub\"\n  });\n  return (0, import_jsx_runtime3.jsx)(Sub, { ...menuScope, open, onOpenChange: setOpen, children });\n};\nvar SUB_TRIGGER_NAME2 = \"DropdownMenuSubTrigger\";\nvar DropdownMenuSubTrigger = React5.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...subTriggerProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return (0, import_jsx_runtime3.jsx)(SubTrigger, { ...menuScope, ...subTriggerProps, ref: forwardedRef });\n});\nDropdownMenuSubTrigger.displayName = SUB_TRIGGER_NAME2;\nvar SUB_CONTENT_NAME2 = \"DropdownMenuSubContent\";\nvar DropdownMenuSubContent = React5.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...subContentProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return (0, import_jsx_runtime3.jsx)(\n    SubContent,\n    {\n      ...menuScope,\n      ...subContentProps,\n      ref: forwardedRef,\n      style: {\n        ...props.style,\n        // re-namespace exposed content custom properties\n        ...{\n          \"--radix-dropdown-menu-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n          \"--radix-dropdown-menu-content-available-width\": \"var(--radix-popper-available-width)\",\n          \"--radix-dropdown-menu-content-available-height\": \"var(--radix-popper-available-height)\",\n          \"--radix-dropdown-menu-trigger-width\": \"var(--radix-popper-anchor-width)\",\n          \"--radix-dropdown-menu-trigger-height\": \"var(--radix-popper-anchor-height)\"\n        }\n      }\n    }\n  );\n});\nDropdownMenuSubContent.displayName = SUB_CONTENT_NAME2;\nvar Root22 = DropdownMenu;\nvar Trigger = DropdownMenuTrigger;\nvar Portal22 = DropdownMenuPortal;\nvar Content22 = DropdownMenuContent;\nvar Group2 = DropdownMenuGroup;\nvar Label2 = DropdownMenuLabel;\nvar Item22 = DropdownMenuItem;\nvar CheckboxItem2 = DropdownMenuCheckboxItem;\nvar RadioGroup2 = DropdownMenuRadioGroup;\nvar RadioItem2 = DropdownMenuRadioItem;\nvar ItemIndicator2 = DropdownMenuItemIndicator;\nvar Separator2 = DropdownMenuSeparator;\nvar Arrow22 = DropdownMenuArrow;\nvar Sub2 = DropdownMenuSub;\nvar SubTrigger2 = DropdownMenuSubTrigger;\nvar SubContent2 = DropdownMenuSubContent;\nexport {\n  Arrow22 as Arrow,\n  CheckboxItem2 as CheckboxItem,\n  Content22 as Content,\n  DropdownMenu,\n  DropdownMenuArrow,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuItemIndicator,\n  DropdownMenuLabel,\n  DropdownMenuPortal,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n  Group2 as Group,\n  Item22 as Item,\n  ItemIndicator2 as ItemIndicator,\n  Label2 as Label,\n  Portal22 as Portal,\n  RadioGroup2 as RadioGroup,\n  RadioItem2 as RadioItem,\n  Root22 as Root,\n  Separator2 as Separator,\n  Sub2 as Sub,\n  SubContent2 as SubContent,\n  SubTrigger2 as SubTrigger,\n  Trigger,\n  createDropdownMenuScope\n};\n//# sourceMappingURL=@radix-ui_react-dropdown-menu.js.map\n","path":null,"size_bytes":54106,"size_tokens":null},"shared/utils.ts":{"content":"export function generateSlug(title: string): string {\n  return title\n    .toLowerCase()\n    .trim()\n    .replace(/[^\\w\\s-]/g, '')\n    .replace(/[\\s_-]+/g, '-')\n    .replace(/^-+|-+$/g, '');\n}\n\nexport function matchSlug(itemTitle: string, slug: string): boolean {\n  return generateSlug(itemTitle) === slug;\n}\n","path":null,"size_bytes":308,"size_tokens":null},"node_modules/.vite/deps/recharts.js":{"content":"import {\n  require_prop_types\n} from \"./chunk-LYDJGXSN.js\";\nimport {\n  clsx_default\n} from \"./chunk-U7P2NEEE.js\";\nimport {\n  require_react_dom\n} from \"./chunk-I3XRBTSS.js\";\nimport {\n  require_react\n} from \"./chunk-YX2XZWS3.js\";\nimport {\n  __commonJS,\n  __export,\n  __toESM\n} from \"./chunk-G3PMV62Z.js\";\n\n// node_modules/lodash/isArray.js\nvar require_isArray = __commonJS({\n  \"node_modules/lodash/isArray.js\"(exports, module) {\n    var isArray2 = Array.isArray;\n    module.exports = isArray2;\n  }\n});\n\n// node_modules/lodash/_freeGlobal.js\nvar require_freeGlobal = __commonJS({\n  \"node_modules/lodash/_freeGlobal.js\"(exports, module) {\n    var freeGlobal = typeof global == \"object\" && global && global.Object === Object && global;\n    module.exports = freeGlobal;\n  }\n});\n\n// node_modules/lodash/_root.js\nvar require_root = __commonJS({\n  \"node_modules/lodash/_root.js\"(exports, module) {\n    var freeGlobal = require_freeGlobal();\n    var freeSelf = typeof self == \"object\" && self && self.Object === Object && self;\n    var root = freeGlobal || freeSelf || Function(\"return this\")();\n    module.exports = root;\n  }\n});\n\n// node_modules/lodash/_Symbol.js\nvar require_Symbol = __commonJS({\n  \"node_modules/lodash/_Symbol.js\"(exports, module) {\n    var root = require_root();\n    var Symbol3 = root.Symbol;\n    module.exports = Symbol3;\n  }\n});\n\n// node_modules/lodash/_getRawTag.js\nvar require_getRawTag = __commonJS({\n  \"node_modules/lodash/_getRawTag.js\"(exports, module) {\n    var Symbol3 = require_Symbol();\n    var objectProto = Object.prototype;\n    var hasOwnProperty2 = objectProto.hasOwnProperty;\n    var nativeObjectToString = objectProto.toString;\n    var symToStringTag = Symbol3 ? Symbol3.toStringTag : void 0;\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty2.call(value, symToStringTag), tag = value[symToStringTag];\n      try {\n        value[symToStringTag] = void 0;\n        var unmasked = true;\n      } catch (e) {\n      }\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n    module.exports = getRawTag;\n  }\n});\n\n// node_modules/lodash/_objectToString.js\nvar require_objectToString = __commonJS({\n  \"node_modules/lodash/_objectToString.js\"(exports, module) {\n    var objectProto = Object.prototype;\n    var nativeObjectToString = objectProto.toString;\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n    module.exports = objectToString;\n  }\n});\n\n// node_modules/lodash/_baseGetTag.js\nvar require_baseGetTag = __commonJS({\n  \"node_modules/lodash/_baseGetTag.js\"(exports, module) {\n    var Symbol3 = require_Symbol();\n    var getRawTag = require_getRawTag();\n    var objectToString = require_objectToString();\n    var nullTag = \"[object Null]\";\n    var undefinedTag = \"[object Undefined]\";\n    var symToStringTag = Symbol3 ? Symbol3.toStringTag : void 0;\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === void 0 ? undefinedTag : nullTag;\n      }\n      return symToStringTag && symToStringTag in Object(value) ? getRawTag(value) : objectToString(value);\n    }\n    module.exports = baseGetTag;\n  }\n});\n\n// node_modules/lodash/isObjectLike.js\nvar require_isObjectLike = __commonJS({\n  \"node_modules/lodash/isObjectLike.js\"(exports, module) {\n    function isObjectLike(value) {\n      return value != null && typeof value == \"object\";\n    }\n    module.exports = isObjectLike;\n  }\n});\n\n// node_modules/lodash/isSymbol.js\nvar require_isSymbol = __commonJS({\n  \"node_modules/lodash/isSymbol.js\"(exports, module) {\n    var baseGetTag = require_baseGetTag();\n    var isObjectLike = require_isObjectLike();\n    var symbolTag = \"[object Symbol]\";\n    function isSymbol(value) {\n      return typeof value == \"symbol\" || isObjectLike(value) && baseGetTag(value) == symbolTag;\n    }\n    module.exports = isSymbol;\n  }\n});\n\n// node_modules/lodash/_isKey.js\nvar require_isKey = __commonJS({\n  \"node_modules/lodash/_isKey.js\"(exports, module) {\n    var isArray2 = require_isArray();\n    var isSymbol = require_isSymbol();\n    var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/;\n    var reIsPlainProp = /^\\w*$/;\n    function isKey(value, object) {\n      if (isArray2(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == \"number\" || type == \"symbol\" || type == \"boolean\" || value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object != null && value in Object(object);\n    }\n    module.exports = isKey;\n  }\n});\n\n// node_modules/lodash/isObject.js\nvar require_isObject = __commonJS({\n  \"node_modules/lodash/isObject.js\"(exports, module) {\n    function isObject5(value) {\n      var type = typeof value;\n      return value != null && (type == \"object\" || type == \"function\");\n    }\n    module.exports = isObject5;\n  }\n});\n\n// node_modules/lodash/isFunction.js\nvar require_isFunction = __commonJS({\n  \"node_modules/lodash/isFunction.js\"(exports, module) {\n    var baseGetTag = require_baseGetTag();\n    var isObject5 = require_isObject();\n    var asyncTag = \"[object AsyncFunction]\";\n    var funcTag = \"[object Function]\";\n    var genTag = \"[object GeneratorFunction]\";\n    var proxyTag = \"[object Proxy]\";\n    function isFunction30(value) {\n      if (!isObject5(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n    module.exports = isFunction30;\n  }\n});\n\n// node_modules/lodash/_coreJsData.js\nvar require_coreJsData = __commonJS({\n  \"node_modules/lodash/_coreJsData.js\"(exports, module) {\n    var root = require_root();\n    var coreJsData = root[\"__core-js_shared__\"];\n    module.exports = coreJsData;\n  }\n});\n\n// node_modules/lodash/_isMasked.js\nvar require_isMasked = __commonJS({\n  \"node_modules/lodash/_isMasked.js\"(exports, module) {\n    var coreJsData = require_coreJsData();\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || \"\");\n      return uid ? \"Symbol(src)_1.\" + uid : \"\";\n    })();\n    function isMasked(func) {\n      return !!maskSrcKey && maskSrcKey in func;\n    }\n    module.exports = isMasked;\n  }\n});\n\n// node_modules/lodash/_toSource.js\nvar require_toSource = __commonJS({\n  \"node_modules/lodash/_toSource.js\"(exports, module) {\n    var funcProto = Function.prototype;\n    var funcToString = funcProto.toString;\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {\n        }\n        try {\n          return func + \"\";\n        } catch (e) {\n        }\n      }\n      return \"\";\n    }\n    module.exports = toSource;\n  }\n});\n\n// node_modules/lodash/_baseIsNative.js\nvar require_baseIsNative = __commonJS({\n  \"node_modules/lodash/_baseIsNative.js\"(exports, module) {\n    var isFunction30 = require_isFunction();\n    var isMasked = require_isMasked();\n    var isObject5 = require_isObject();\n    var toSource = require_toSource();\n    var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n    var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n    var funcProto = Function.prototype;\n    var objectProto = Object.prototype;\n    var funcToString = funcProto.toString;\n    var hasOwnProperty2 = objectProto.hasOwnProperty;\n    var reIsNative = RegExp(\n      \"^\" + funcToString.call(hasOwnProperty2).replace(reRegExpChar, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\"\n    );\n    function baseIsNative(value) {\n      if (!isObject5(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction30(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n    module.exports = baseIsNative;\n  }\n});\n\n// node_modules/lodash/_getValue.js\nvar require_getValue = __commonJS({\n  \"node_modules/lodash/_getValue.js\"(exports, module) {\n    function getValue3(object, key) {\n      return object == null ? void 0 : object[key];\n    }\n    module.exports = getValue3;\n  }\n});\n\n// node_modules/lodash/_getNative.js\nvar require_getNative = __commonJS({\n  \"node_modules/lodash/_getNative.js\"(exports, module) {\n    var baseIsNative = require_baseIsNative();\n    var getValue3 = require_getValue();\n    function getNative(object, key) {\n      var value = getValue3(object, key);\n      return baseIsNative(value) ? value : void 0;\n    }\n    module.exports = getNative;\n  }\n});\n\n// node_modules/lodash/_nativeCreate.js\nvar require_nativeCreate = __commonJS({\n  \"node_modules/lodash/_nativeCreate.js\"(exports, module) {\n    var getNative = require_getNative();\n    var nativeCreate = getNative(Object, \"create\");\n    module.exports = nativeCreate;\n  }\n});\n\n// node_modules/lodash/_hashClear.js\nvar require_hashClear = __commonJS({\n  \"node_modules/lodash/_hashClear.js\"(exports, module) {\n    var nativeCreate = require_nativeCreate();\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n    module.exports = hashClear;\n  }\n});\n\n// node_modules/lodash/_hashDelete.js\nvar require_hashDelete = __commonJS({\n  \"node_modules/lodash/_hashDelete.js\"(exports, module) {\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n    module.exports = hashDelete;\n  }\n});\n\n// node_modules/lodash/_hashGet.js\nvar require_hashGet = __commonJS({\n  \"node_modules/lodash/_hashGet.js\"(exports, module) {\n    var nativeCreate = require_nativeCreate();\n    var HASH_UNDEFINED = \"__lodash_hash_undefined__\";\n    var objectProto = Object.prototype;\n    var hasOwnProperty2 = objectProto.hasOwnProperty;\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? void 0 : result;\n      }\n      return hasOwnProperty2.call(data, key) ? data[key] : void 0;\n    }\n    module.exports = hashGet;\n  }\n});\n\n// node_modules/lodash/_hashHas.js\nvar require_hashHas = __commonJS({\n  \"node_modules/lodash/_hashHas.js\"(exports, module) {\n    var nativeCreate = require_nativeCreate();\n    var objectProto = Object.prototype;\n    var hasOwnProperty2 = objectProto.hasOwnProperty;\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? data[key] !== void 0 : hasOwnProperty2.call(data, key);\n    }\n    module.exports = hashHas;\n  }\n});\n\n// node_modules/lodash/_hashSet.js\nvar require_hashSet = __commonJS({\n  \"node_modules/lodash/_hashSet.js\"(exports, module) {\n    var nativeCreate = require_nativeCreate();\n    var HASH_UNDEFINED = \"__lodash_hash_undefined__\";\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = nativeCreate && value === void 0 ? HASH_UNDEFINED : value;\n      return this;\n    }\n    module.exports = hashSet;\n  }\n});\n\n// node_modules/lodash/_Hash.js\nvar require_Hash = __commonJS({\n  \"node_modules/lodash/_Hash.js\"(exports, module) {\n    var hashClear = require_hashClear();\n    var hashDelete = require_hashDelete();\n    var hashGet = require_hashGet();\n    var hashHas = require_hashHas();\n    var hashSet = require_hashSet();\n    function Hash(entries) {\n      var index2 = -1, length = entries == null ? 0 : entries.length;\n      this.clear();\n      while (++index2 < length) {\n        var entry = entries[index2];\n        this.set(entry[0], entry[1]);\n      }\n    }\n    Hash.prototype.clear = hashClear;\n    Hash.prototype[\"delete\"] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n    module.exports = Hash;\n  }\n});\n\n// node_modules/lodash/_listCacheClear.js\nvar require_listCacheClear = __commonJS({\n  \"node_modules/lodash/_listCacheClear.js\"(exports, module) {\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n    module.exports = listCacheClear;\n  }\n});\n\n// node_modules/lodash/eq.js\nvar require_eq = __commonJS({\n  \"node_modules/lodash/eq.js\"(exports, module) {\n    function eq(value, other) {\n      return value === other || value !== value && other !== other;\n    }\n    module.exports = eq;\n  }\n});\n\n// node_modules/lodash/_assocIndexOf.js\nvar require_assocIndexOf = __commonJS({\n  \"node_modules/lodash/_assocIndexOf.js\"(exports, module) {\n    var eq = require_eq();\n    function assocIndexOf(array2, key) {\n      var length = array2.length;\n      while (length--) {\n        if (eq(array2[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n    module.exports = assocIndexOf;\n  }\n});\n\n// node_modules/lodash/_listCacheDelete.js\nvar require_listCacheDelete = __commonJS({\n  \"node_modules/lodash/_listCacheDelete.js\"(exports, module) {\n    var assocIndexOf = require_assocIndexOf();\n    var arrayProto = Array.prototype;\n    var splice = arrayProto.splice;\n    function listCacheDelete(key) {\n      var data = this.__data__, index2 = assocIndexOf(data, key);\n      if (index2 < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index2 == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index2, 1);\n      }\n      --this.size;\n      return true;\n    }\n    module.exports = listCacheDelete;\n  }\n});\n\n// node_modules/lodash/_listCacheGet.js\nvar require_listCacheGet = __commonJS({\n  \"node_modules/lodash/_listCacheGet.js\"(exports, module) {\n    var assocIndexOf = require_assocIndexOf();\n    function listCacheGet(key) {\n      var data = this.__data__, index2 = assocIndexOf(data, key);\n      return index2 < 0 ? void 0 : data[index2][1];\n    }\n    module.exports = listCacheGet;\n  }\n});\n\n// node_modules/lodash/_listCacheHas.js\nvar require_listCacheHas = __commonJS({\n  \"node_modules/lodash/_listCacheHas.js\"(exports, module) {\n    var assocIndexOf = require_assocIndexOf();\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n    module.exports = listCacheHas;\n  }\n});\n\n// node_modules/lodash/_listCacheSet.js\nvar require_listCacheSet = __commonJS({\n  \"node_modules/lodash/_listCacheSet.js\"(exports, module) {\n    var assocIndexOf = require_assocIndexOf();\n    function listCacheSet(key, value) {\n      var data = this.__data__, index2 = assocIndexOf(data, key);\n      if (index2 < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index2][1] = value;\n      }\n      return this;\n    }\n    module.exports = listCacheSet;\n  }\n});\n\n// node_modules/lodash/_ListCache.js\nvar require_ListCache = __commonJS({\n  \"node_modules/lodash/_ListCache.js\"(exports, module) {\n    var listCacheClear = require_listCacheClear();\n    var listCacheDelete = require_listCacheDelete();\n    var listCacheGet = require_listCacheGet();\n    var listCacheHas = require_listCacheHas();\n    var listCacheSet = require_listCacheSet();\n    function ListCache(entries) {\n      var index2 = -1, length = entries == null ? 0 : entries.length;\n      this.clear();\n      while (++index2 < length) {\n        var entry = entries[index2];\n        this.set(entry[0], entry[1]);\n      }\n    }\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype[\"delete\"] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n    module.exports = ListCache;\n  }\n});\n\n// node_modules/lodash/_Map.js\nvar require_Map = __commonJS({\n  \"node_modules/lodash/_Map.js\"(exports, module) {\n    var getNative = require_getNative();\n    var root = require_root();\n    var Map2 = getNative(root, \"Map\");\n    module.exports = Map2;\n  }\n});\n\n// node_modules/lodash/_mapCacheClear.js\nvar require_mapCacheClear = __commonJS({\n  \"node_modules/lodash/_mapCacheClear.js\"(exports, module) {\n    var Hash = require_Hash();\n    var ListCache = require_ListCache();\n    var Map2 = require_Map();\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        \"hash\": new Hash(),\n        \"map\": new (Map2 || ListCache)(),\n        \"string\": new Hash()\n      };\n    }\n    module.exports = mapCacheClear;\n  }\n});\n\n// node_modules/lodash/_isKeyable.js\nvar require_isKeyable = __commonJS({\n  \"node_modules/lodash/_isKeyable.js\"(exports, module) {\n    function isKeyable(value) {\n      var type = typeof value;\n      return type == \"string\" || type == \"number\" || type == \"symbol\" || type == \"boolean\" ? value !== \"__proto__\" : value === null;\n    }\n    module.exports = isKeyable;\n  }\n});\n\n// node_modules/lodash/_getMapData.js\nvar require_getMapData = __commonJS({\n  \"node_modules/lodash/_getMapData.js\"(exports, module) {\n    var isKeyable = require_isKeyable();\n    function getMapData(map5, key) {\n      var data = map5.__data__;\n      return isKeyable(key) ? data[typeof key == \"string\" ? \"string\" : \"hash\"] : data.map;\n    }\n    module.exports = getMapData;\n  }\n});\n\n// node_modules/lodash/_mapCacheDelete.js\nvar require_mapCacheDelete = __commonJS({\n  \"node_modules/lodash/_mapCacheDelete.js\"(exports, module) {\n    var getMapData = require_getMapData();\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)[\"delete\"](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n    module.exports = mapCacheDelete;\n  }\n});\n\n// node_modules/lodash/_mapCacheGet.js\nvar require_mapCacheGet = __commonJS({\n  \"node_modules/lodash/_mapCacheGet.js\"(exports, module) {\n    var getMapData = require_getMapData();\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n    module.exports = mapCacheGet;\n  }\n});\n\n// node_modules/lodash/_mapCacheHas.js\nvar require_mapCacheHas = __commonJS({\n  \"node_modules/lodash/_mapCacheHas.js\"(exports, module) {\n    var getMapData = require_getMapData();\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n    module.exports = mapCacheHas;\n  }\n});\n\n// node_modules/lodash/_mapCacheSet.js\nvar require_mapCacheSet = __commonJS({\n  \"node_modules/lodash/_mapCacheSet.js\"(exports, module) {\n    var getMapData = require_getMapData();\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key), size = data.size;\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n    module.exports = mapCacheSet;\n  }\n});\n\n// node_modules/lodash/_MapCache.js\nvar require_MapCache = __commonJS({\n  \"node_modules/lodash/_MapCache.js\"(exports, module) {\n    var mapCacheClear = require_mapCacheClear();\n    var mapCacheDelete = require_mapCacheDelete();\n    var mapCacheGet = require_mapCacheGet();\n    var mapCacheHas = require_mapCacheHas();\n    var mapCacheSet = require_mapCacheSet();\n    function MapCache(entries) {\n      var index2 = -1, length = entries == null ? 0 : entries.length;\n      this.clear();\n      while (++index2 < length) {\n        var entry = entries[index2];\n        this.set(entry[0], entry[1]);\n      }\n    }\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype[\"delete\"] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n    module.exports = MapCache;\n  }\n});\n\n// node_modules/lodash/memoize.js\nvar require_memoize = __commonJS({\n  \"node_modules/lodash/memoize.js\"(exports, module) {\n    var MapCache = require_MapCache();\n    var FUNC_ERROR_TEXT = \"Expected a function\";\n    function memoize4(func, resolver) {\n      if (typeof func != \"function\" || resolver != null && typeof resolver != \"function\") {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments, key = resolver ? resolver.apply(this, args) : args[0], cache = memoized.cache;\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize4.Cache || MapCache)();\n      return memoized;\n    }\n    memoize4.Cache = MapCache;\n    module.exports = memoize4;\n  }\n});\n\n// node_modules/lodash/_memoizeCapped.js\nvar require_memoizeCapped = __commonJS({\n  \"node_modules/lodash/_memoizeCapped.js\"(exports, module) {\n    var memoize4 = require_memoize();\n    var MAX_MEMOIZE_SIZE = 500;\n    function memoizeCapped(func) {\n      var result = memoize4(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n      var cache = result.cache;\n      return result;\n    }\n    module.exports = memoizeCapped;\n  }\n});\n\n// node_modules/lodash/_stringToPath.js\nvar require_stringToPath = __commonJS({\n  \"node_modules/lodash/_stringToPath.js\"(exports, module) {\n    var memoizeCapped = require_memoizeCapped();\n    var rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n    var reEscapeChar = /\\\\(\\\\)?/g;\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46) {\n        result.push(\"\");\n      }\n      string.replace(rePropName, function(match, number4, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, \"$1\") : number4 || match);\n      });\n      return result;\n    });\n    module.exports = stringToPath;\n  }\n});\n\n// node_modules/lodash/_arrayMap.js\nvar require_arrayMap = __commonJS({\n  \"node_modules/lodash/_arrayMap.js\"(exports, module) {\n    function arrayMap(array2, iteratee) {\n      var index2 = -1, length = array2 == null ? 0 : array2.length, result = Array(length);\n      while (++index2 < length) {\n        result[index2] = iteratee(array2[index2], index2, array2);\n      }\n      return result;\n    }\n    module.exports = arrayMap;\n  }\n});\n\n// node_modules/lodash/_baseToString.js\nvar require_baseToString = __commonJS({\n  \"node_modules/lodash/_baseToString.js\"(exports, module) {\n    var Symbol3 = require_Symbol();\n    var arrayMap = require_arrayMap();\n    var isArray2 = require_isArray();\n    var isSymbol = require_isSymbol();\n    var INFINITY = 1 / 0;\n    var symbolProto = Symbol3 ? Symbol3.prototype : void 0;\n    var symbolToString = symbolProto ? symbolProto.toString : void 0;\n    function baseToString(value) {\n      if (typeof value == \"string\") {\n        return value;\n      }\n      if (isArray2(value)) {\n        return arrayMap(value, baseToString) + \"\";\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : \"\";\n      }\n      var result = value + \"\";\n      return result == \"0\" && 1 / value == -INFINITY ? \"-0\" : result;\n    }\n    module.exports = baseToString;\n  }\n});\n\n// node_modules/lodash/toString.js\nvar require_toString = __commonJS({\n  \"node_modules/lodash/toString.js\"(exports, module) {\n    var baseToString = require_baseToString();\n    function toString2(value) {\n      return value == null ? \"\" : baseToString(value);\n    }\n    module.exports = toString2;\n  }\n});\n\n// node_modules/lodash/_castPath.js\nvar require_castPath = __commonJS({\n  \"node_modules/lodash/_castPath.js\"(exports, module) {\n    var isArray2 = require_isArray();\n    var isKey = require_isKey();\n    var stringToPath = require_stringToPath();\n    var toString2 = require_toString();\n    function castPath(value, object) {\n      if (isArray2(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString2(value));\n    }\n    module.exports = castPath;\n  }\n});\n\n// node_modules/lodash/_toKey.js\nvar require_toKey = __commonJS({\n  \"node_modules/lodash/_toKey.js\"(exports, module) {\n    var isSymbol = require_isSymbol();\n    var INFINITY = 1 / 0;\n    function toKey(value) {\n      if (typeof value == \"string\" || isSymbol(value)) {\n        return value;\n      }\n      var result = value + \"\";\n      return result == \"0\" && 1 / value == -INFINITY ? \"-0\" : result;\n    }\n    module.exports = toKey;\n  }\n});\n\n// node_modules/lodash/_baseGet.js\nvar require_baseGet = __commonJS({\n  \"node_modules/lodash/_baseGet.js\"(exports, module) {\n    var castPath = require_castPath();\n    var toKey = require_toKey();\n    function baseGet(object, path2) {\n      path2 = castPath(path2, object);\n      var index2 = 0, length = path2.length;\n      while (object != null && index2 < length) {\n        object = object[toKey(path2[index2++])];\n      }\n      return index2 && index2 == length ? object : void 0;\n    }\n    module.exports = baseGet;\n  }\n});\n\n// node_modules/lodash/get.js\nvar require_get = __commonJS({\n  \"node_modules/lodash/get.js\"(exports, module) {\n    var baseGet = require_baseGet();\n    function get10(object, path2, defaultValue) {\n      var result = object == null ? void 0 : baseGet(object, path2);\n      return result === void 0 ? defaultValue : result;\n    }\n    module.exports = get10;\n  }\n});\n\n// node_modules/lodash/isNil.js\nvar require_isNil = __commonJS({\n  \"node_modules/lodash/isNil.js\"(exports, module) {\n    function isNil16(value) {\n      return value == null;\n    }\n    module.exports = isNil16;\n  }\n});\n\n// node_modules/lodash/isString.js\nvar require_isString = __commonJS({\n  \"node_modules/lodash/isString.js\"(exports, module) {\n    var baseGetTag = require_baseGetTag();\n    var isArray2 = require_isArray();\n    var isObjectLike = require_isObjectLike();\n    var stringTag = \"[object String]\";\n    function isString5(value) {\n      return typeof value == \"string\" || !isArray2(value) && isObjectLike(value) && baseGetTag(value) == stringTag;\n    }\n    module.exports = isString5;\n  }\n});\n\n// node_modules/react-is/cjs/react-is.development.js\nvar require_react_is_development = __commonJS({\n  \"node_modules/react-is/cjs/react-is.development.js\"(exports) {\n    \"use strict\";\n    if (true) {\n      (function() {\n        \"use strict\";\n        var REACT_ELEMENT_TYPE = Symbol.for(\"react.element\");\n        var REACT_PORTAL_TYPE = Symbol.for(\"react.portal\");\n        var REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\n        var REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\");\n        var REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\");\n        var REACT_PROVIDER_TYPE = Symbol.for(\"react.provider\");\n        var REACT_CONTEXT_TYPE = Symbol.for(\"react.context\");\n        var REACT_SERVER_CONTEXT_TYPE = Symbol.for(\"react.server_context\");\n        var REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\");\n        var REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\");\n        var REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\");\n        var REACT_MEMO_TYPE = Symbol.for(\"react.memo\");\n        var REACT_LAZY_TYPE = Symbol.for(\"react.lazy\");\n        var REACT_OFFSCREEN_TYPE = Symbol.for(\"react.offscreen\");\n        var enableScopeAPI = false;\n        var enableCacheElement = false;\n        var enableTransitionTracing = false;\n        var enableLegacyHidden = false;\n        var enableDebugTracing = false;\n        var REACT_MODULE_REFERENCE;\n        {\n          REACT_MODULE_REFERENCE = Symbol.for(\"react.module.reference\");\n        }\n        function isValidElementType(type) {\n          if (typeof type === \"string\" || typeof type === \"function\") {\n            return true;\n          }\n          if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden || type === REACT_OFFSCREEN_TYPE || enableScopeAPI || enableCacheElement || enableTransitionTracing) {\n            return true;\n          }\n          if (typeof type === \"object\" && type !== null) {\n            if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n            // types supported by any Flight configuration anywhere since\n            // we don't know which Flight build this will end up being used\n            // with.\n            type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== void 0) {\n              return true;\n            }\n          }\n          return false;\n        }\n        function typeOf(object) {\n          if (typeof object === \"object\" && object !== null) {\n            var $$typeof = object.$$typeof;\n            switch ($$typeof) {\n              case REACT_ELEMENT_TYPE:\n                var type = object.type;\n                switch (type) {\n                  case REACT_FRAGMENT_TYPE:\n                  case REACT_PROFILER_TYPE:\n                  case REACT_STRICT_MODE_TYPE:\n                  case REACT_SUSPENSE_TYPE:\n                  case REACT_SUSPENSE_LIST_TYPE:\n                    return type;\n                  default:\n                    var $$typeofType = type && type.$$typeof;\n                    switch ($$typeofType) {\n                      case REACT_SERVER_CONTEXT_TYPE:\n                      case REACT_CONTEXT_TYPE:\n                      case REACT_FORWARD_REF_TYPE:\n                      case REACT_LAZY_TYPE:\n                      case REACT_MEMO_TYPE:\n                      case REACT_PROVIDER_TYPE:\n                        return $$typeofType;\n                      default:\n                        return $$typeof;\n                    }\n                }\n              case REACT_PORTAL_TYPE:\n                return $$typeof;\n            }\n          }\n          return void 0;\n        }\n        var ContextConsumer = REACT_CONTEXT_TYPE;\n        var ContextProvider = REACT_PROVIDER_TYPE;\n        var Element2 = REACT_ELEMENT_TYPE;\n        var ForwardRef = REACT_FORWARD_REF_TYPE;\n        var Fragment = REACT_FRAGMENT_TYPE;\n        var Lazy = REACT_LAZY_TYPE;\n        var Memo = REACT_MEMO_TYPE;\n        var Portal = REACT_PORTAL_TYPE;\n        var Profiler = REACT_PROFILER_TYPE;\n        var StrictMode = REACT_STRICT_MODE_TYPE;\n        var Suspense = REACT_SUSPENSE_TYPE;\n        var SuspenseList = REACT_SUSPENSE_LIST_TYPE;\n        var hasWarnedAboutDeprecatedIsAsyncMode = false;\n        var hasWarnedAboutDeprecatedIsConcurrentMode = false;\n        function isAsyncMode(object) {\n          {\n            if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n              hasWarnedAboutDeprecatedIsAsyncMode = true;\n              console[\"warn\"](\"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 18+.\");\n            }\n          }\n          return false;\n        }\n        function isConcurrentMode(object) {\n          {\n            if (!hasWarnedAboutDeprecatedIsConcurrentMode) {\n              hasWarnedAboutDeprecatedIsConcurrentMode = true;\n              console[\"warn\"](\"The ReactIs.isConcurrentMode() alias has been deprecated, and will be removed in React 18+.\");\n            }\n          }\n          return false;\n        }\n        function isContextConsumer(object) {\n          return typeOf(object) === REACT_CONTEXT_TYPE;\n        }\n        function isContextProvider(object) {\n          return typeOf(object) === REACT_PROVIDER_TYPE;\n        }\n        function isElement(object) {\n          return typeof object === \"object\" && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n        }\n        function isForwardRef(object) {\n          return typeOf(object) === REACT_FORWARD_REF_TYPE;\n        }\n        function isFragment2(object) {\n          return typeOf(object) === REACT_FRAGMENT_TYPE;\n        }\n        function isLazy(object) {\n          return typeOf(object) === REACT_LAZY_TYPE;\n        }\n        function isMemo(object) {\n          return typeOf(object) === REACT_MEMO_TYPE;\n        }\n        function isPortal(object) {\n          return typeOf(object) === REACT_PORTAL_TYPE;\n        }\n        function isProfiler(object) {\n          return typeOf(object) === REACT_PROFILER_TYPE;\n        }\n        function isStrictMode(object) {\n          return typeOf(object) === REACT_STRICT_MODE_TYPE;\n        }\n        function isSuspense(object) {\n          return typeOf(object) === REACT_SUSPENSE_TYPE;\n        }\n        function isSuspenseList(object) {\n          return typeOf(object) === REACT_SUSPENSE_LIST_TYPE;\n        }\n        exports.ContextConsumer = ContextConsumer;\n        exports.ContextProvider = ContextProvider;\n        exports.Element = Element2;\n        exports.ForwardRef = ForwardRef;\n        exports.Fragment = Fragment;\n        exports.Lazy = Lazy;\n        exports.Memo = Memo;\n        exports.Portal = Portal;\n        exports.Profiler = Profiler;\n        exports.StrictMode = StrictMode;\n        exports.Suspense = Suspense;\n        exports.SuspenseList = SuspenseList;\n        exports.isAsyncMode = isAsyncMode;\n        exports.isConcurrentMode = isConcurrentMode;\n        exports.isContextConsumer = isContextConsumer;\n        exports.isContextProvider = isContextProvider;\n        exports.isElement = isElement;\n        exports.isForwardRef = isForwardRef;\n        exports.isFragment = isFragment2;\n        exports.isLazy = isLazy;\n        exports.isMemo = isMemo;\n        exports.isPortal = isPortal;\n        exports.isProfiler = isProfiler;\n        exports.isStrictMode = isStrictMode;\n        exports.isSuspense = isSuspense;\n        exports.isSuspenseList = isSuspenseList;\n        exports.isValidElementType = isValidElementType;\n        exports.typeOf = typeOf;\n      })();\n    }\n  }\n});\n\n// node_modules/react-is/index.js\nvar require_react_is = __commonJS({\n  \"node_modules/react-is/index.js\"(exports, module) {\n    \"use strict\";\n    if (false) {\n      module.exports = null;\n    } else {\n      module.exports = require_react_is_development();\n    }\n  }\n});\n\n// node_modules/lodash/isNumber.js\nvar require_isNumber = __commonJS({\n  \"node_modules/lodash/isNumber.js\"(exports, module) {\n    var baseGetTag = require_baseGetTag();\n    var isObjectLike = require_isObjectLike();\n    var numberTag = \"[object Number]\";\n    function isNumber4(value) {\n      return typeof value == \"number\" || isObjectLike(value) && baseGetTag(value) == numberTag;\n    }\n    module.exports = isNumber4;\n  }\n});\n\n// node_modules/lodash/isNaN.js\nvar require_isNaN = __commonJS({\n  \"node_modules/lodash/isNaN.js\"(exports, module) {\n    var isNumber4 = require_isNumber();\n    function isNaN2(value) {\n      return isNumber4(value) && value != +value;\n    }\n    module.exports = isNaN2;\n  }\n});\n\n// node_modules/lodash/_baseSlice.js\nvar require_baseSlice = __commonJS({\n  \"node_modules/lodash/_baseSlice.js\"(exports, module) {\n    function baseSlice(array2, start, end) {\n      var index2 = -1, length = array2.length;\n      if (start < 0) {\n        start = -start > length ? 0 : length + start;\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : end - start >>> 0;\n      start >>>= 0;\n      var result = Array(length);\n      while (++index2 < length) {\n        result[index2] = array2[index2 + start];\n      }\n      return result;\n    }\n    module.exports = baseSlice;\n  }\n});\n\n// node_modules/lodash/_castSlice.js\nvar require_castSlice = __commonJS({\n  \"node_modules/lodash/_castSlice.js\"(exports, module) {\n    var baseSlice = require_baseSlice();\n    function castSlice(array2, start, end) {\n      var length = array2.length;\n      end = end === void 0 ? length : end;\n      return !start && end >= length ? array2 : baseSlice(array2, start, end);\n    }\n    module.exports = castSlice;\n  }\n});\n\n// node_modules/lodash/_hasUnicode.js\nvar require_hasUnicode = __commonJS({\n  \"node_modules/lodash/_hasUnicode.js\"(exports, module) {\n    var rsAstralRange = \"\\\\ud800-\\\\udfff\";\n    var rsComboMarksRange = \"\\\\u0300-\\\\u036f\";\n    var reComboHalfMarksRange = \"\\\\ufe20-\\\\ufe2f\";\n    var rsComboSymbolsRange = \"\\\\u20d0-\\\\u20ff\";\n    var rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n    var rsVarRange = \"\\\\ufe0e\\\\ufe0f\";\n    var rsZWJ = \"\\\\u200d\";\n    var reHasUnicode = RegExp(\"[\" + rsZWJ + rsAstralRange + rsComboRange + rsVarRange + \"]\");\n    function hasUnicode(string) {\n      return reHasUnicode.test(string);\n    }\n    module.exports = hasUnicode;\n  }\n});\n\n// node_modules/lodash/_asciiToArray.js\nvar require_asciiToArray = __commonJS({\n  \"node_modules/lodash/_asciiToArray.js\"(exports, module) {\n    function asciiToArray(string) {\n      return string.split(\"\");\n    }\n    module.exports = asciiToArray;\n  }\n});\n\n// node_modules/lodash/_unicodeToArray.js\nvar require_unicodeToArray = __commonJS({\n  \"node_modules/lodash/_unicodeToArray.js\"(exports, module) {\n    var rsAstralRange = \"\\\\ud800-\\\\udfff\";\n    var rsComboMarksRange = \"\\\\u0300-\\\\u036f\";\n    var reComboHalfMarksRange = \"\\\\ufe20-\\\\ufe2f\";\n    var rsComboSymbolsRange = \"\\\\u20d0-\\\\u20ff\";\n    var rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n    var rsVarRange = \"\\\\ufe0e\\\\ufe0f\";\n    var rsAstral = \"[\" + rsAstralRange + \"]\";\n    var rsCombo = \"[\" + rsComboRange + \"]\";\n    var rsFitz = \"\\\\ud83c[\\\\udffb-\\\\udfff]\";\n    var rsModifier = \"(?:\" + rsCombo + \"|\" + rsFitz + \")\";\n    var rsNonAstral = \"[^\" + rsAstralRange + \"]\";\n    var rsRegional = \"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\";\n    var rsSurrPair = \"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\";\n    var rsZWJ = \"\\\\u200d\";\n    var reOptMod = rsModifier + \"?\";\n    var rsOptVar = \"[\" + rsVarRange + \"]?\";\n    var rsOptJoin = \"(?:\" + rsZWJ + \"(?:\" + [rsNonAstral, rsRegional, rsSurrPair].join(\"|\") + \")\" + rsOptVar + reOptMod + \")*\";\n    var rsSeq = rsOptVar + reOptMod + rsOptJoin;\n    var rsSymbol = \"(?:\" + [rsNonAstral + rsCombo + \"?\", rsCombo, rsRegional, rsSurrPair, rsAstral].join(\"|\") + \")\";\n    var reUnicode = RegExp(rsFitz + \"(?=\" + rsFitz + \")|\" + rsSymbol + rsSeq, \"g\");\n    function unicodeToArray(string) {\n      return string.match(reUnicode) || [];\n    }\n    module.exports = unicodeToArray;\n  }\n});\n\n// node_modules/lodash/_stringToArray.js\nvar require_stringToArray = __commonJS({\n  \"node_modules/lodash/_stringToArray.js\"(exports, module) {\n    var asciiToArray = require_asciiToArray();\n    var hasUnicode = require_hasUnicode();\n    var unicodeToArray = require_unicodeToArray();\n    function stringToArray(string) {\n      return hasUnicode(string) ? unicodeToArray(string) : asciiToArray(string);\n    }\n    module.exports = stringToArray;\n  }\n});\n\n// node_modules/lodash/_createCaseFirst.js\nvar require_createCaseFirst = __commonJS({\n  \"node_modules/lodash/_createCaseFirst.js\"(exports, module) {\n    var castSlice = require_castSlice();\n    var hasUnicode = require_hasUnicode();\n    var stringToArray = require_stringToArray();\n    var toString2 = require_toString();\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString2(string);\n        var strSymbols = hasUnicode(string) ? stringToArray(string) : void 0;\n        var chr = strSymbols ? strSymbols[0] : string.charAt(0);\n        var trailing = strSymbols ? castSlice(strSymbols, 1).join(\"\") : string.slice(1);\n        return chr[methodName]() + trailing;\n      };\n    }\n    module.exports = createCaseFirst;\n  }\n});\n\n// node_modules/lodash/upperFirst.js\nvar require_upperFirst = __commonJS({\n  \"node_modules/lodash/upperFirst.js\"(exports, module) {\n    var createCaseFirst = require_createCaseFirst();\n    var upperFirst4 = createCaseFirst(\"toUpperCase\");\n    module.exports = upperFirst4;\n  }\n});\n\n// node_modules/lodash/_stackClear.js\nvar require_stackClear = __commonJS({\n  \"node_modules/lodash/_stackClear.js\"(exports, module) {\n    var ListCache = require_ListCache();\n    function stackClear() {\n      this.__data__ = new ListCache();\n      this.size = 0;\n    }\n    module.exports = stackClear;\n  }\n});\n\n// node_modules/lodash/_stackDelete.js\nvar require_stackDelete = __commonJS({\n  \"node_modules/lodash/_stackDelete.js\"(exports, module) {\n    function stackDelete(key) {\n      var data = this.__data__, result = data[\"delete\"](key);\n      this.size = data.size;\n      return result;\n    }\n    module.exports = stackDelete;\n  }\n});\n\n// node_modules/lodash/_stackGet.js\nvar require_stackGet = __commonJS({\n  \"node_modules/lodash/_stackGet.js\"(exports, module) {\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n    module.exports = stackGet;\n  }\n});\n\n// node_modules/lodash/_stackHas.js\nvar require_stackHas = __commonJS({\n  \"node_modules/lodash/_stackHas.js\"(exports, module) {\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n    module.exports = stackHas;\n  }\n});\n\n// node_modules/lodash/_stackSet.js\nvar require_stackSet = __commonJS({\n  \"node_modules/lodash/_stackSet.js\"(exports, module) {\n    var ListCache = require_ListCache();\n    var Map2 = require_Map();\n    var MapCache = require_MapCache();\n    var LARGE_ARRAY_SIZE = 200;\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs2 = data.__data__;\n        if (!Map2 || pairs2.length < LARGE_ARRAY_SIZE - 1) {\n          pairs2.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs2);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n    module.exports = stackSet;\n  }\n});\n\n// node_modules/lodash/_Stack.js\nvar require_Stack = __commonJS({\n  \"node_modules/lodash/_Stack.js\"(exports, module) {\n    var ListCache = require_ListCache();\n    var stackClear = require_stackClear();\n    var stackDelete = require_stackDelete();\n    var stackGet = require_stackGet();\n    var stackHas = require_stackHas();\n    var stackSet = require_stackSet();\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n    Stack.prototype.clear = stackClear;\n    Stack.prototype[\"delete\"] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n    module.exports = Stack;\n  }\n});\n\n// node_modules/lodash/_setCacheAdd.js\nvar require_setCacheAdd = __commonJS({\n  \"node_modules/lodash/_setCacheAdd.js\"(exports, module) {\n    var HASH_UNDEFINED = \"__lodash_hash_undefined__\";\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n    module.exports = setCacheAdd;\n  }\n});\n\n// node_modules/lodash/_setCacheHas.js\nvar require_setCacheHas = __commonJS({\n  \"node_modules/lodash/_setCacheHas.js\"(exports, module) {\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n    module.exports = setCacheHas;\n  }\n});\n\n// node_modules/lodash/_SetCache.js\nvar require_SetCache = __commonJS({\n  \"node_modules/lodash/_SetCache.js\"(exports, module) {\n    var MapCache = require_MapCache();\n    var setCacheAdd = require_setCacheAdd();\n    var setCacheHas = require_setCacheHas();\n    function SetCache(values2) {\n      var index2 = -1, length = values2 == null ? 0 : values2.length;\n      this.__data__ = new MapCache();\n      while (++index2 < length) {\n        this.add(values2[index2]);\n      }\n    }\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n    module.exports = SetCache;\n  }\n});\n\n// node_modules/lodash/_arraySome.js\nvar require_arraySome = __commonJS({\n  \"node_modules/lodash/_arraySome.js\"(exports, module) {\n    function arraySome(array2, predicate) {\n      var index2 = -1, length = array2 == null ? 0 : array2.length;\n      while (++index2 < length) {\n        if (predicate(array2[index2], index2, array2)) {\n          return true;\n        }\n      }\n      return false;\n    }\n    module.exports = arraySome;\n  }\n});\n\n// node_modules/lodash/_cacheHas.js\nvar require_cacheHas = __commonJS({\n  \"node_modules/lodash/_cacheHas.js\"(exports, module) {\n    function cacheHas(cache, key) {\n      return cache.has(key);\n    }\n    module.exports = cacheHas;\n  }\n});\n\n// node_modules/lodash/_equalArrays.js\nvar require_equalArrays = __commonJS({\n  \"node_modules/lodash/_equalArrays.js\"(exports, module) {\n    var SetCache = require_SetCache();\n    var arraySome = require_arraySome();\n    var cacheHas = require_cacheHas();\n    var COMPARE_PARTIAL_FLAG = 1;\n    var COMPARE_UNORDERED_FLAG = 2;\n    function equalArrays(array2, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG, arrLength = array2.length, othLength = other.length;\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      var arrStacked = stack.get(array2);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array2;\n      }\n      var index2 = -1, result = true, seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache() : void 0;\n      stack.set(array2, other);\n      stack.set(other, array2);\n      while (++index2 < arrLength) {\n        var arrValue = array2[index2], othValue = other[index2];\n        if (customizer) {\n          var compared = isPartial ? customizer(othValue, arrValue, index2, other, array2, stack) : customizer(arrValue, othValue, index2, array2, other, stack);\n        }\n        if (compared !== void 0) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        if (seen) {\n          if (!arraySome(other, function(othValue2, othIndex) {\n            if (!cacheHas(seen, othIndex) && (arrValue === othValue2 || equalFunc(arrValue, othValue2, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n            result = false;\n            break;\n          }\n        } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n          result = false;\n          break;\n        }\n      }\n      stack[\"delete\"](array2);\n      stack[\"delete\"](other);\n      return result;\n    }\n    module.exports = equalArrays;\n  }\n});\n\n// node_modules/lodash/_Uint8Array.js\nvar require_Uint8Array = __commonJS({\n  \"node_modules/lodash/_Uint8Array.js\"(exports, module) {\n    var root = require_root();\n    var Uint8Array = root.Uint8Array;\n    module.exports = Uint8Array;\n  }\n});\n\n// node_modules/lodash/_mapToArray.js\nvar require_mapToArray = __commonJS({\n  \"node_modules/lodash/_mapToArray.js\"(exports, module) {\n    function mapToArray(map5) {\n      var index2 = -1, result = Array(map5.size);\n      map5.forEach(function(value, key) {\n        result[++index2] = [key, value];\n      });\n      return result;\n    }\n    module.exports = mapToArray;\n  }\n});\n\n// node_modules/lodash/_setToArray.js\nvar require_setToArray = __commonJS({\n  \"node_modules/lodash/_setToArray.js\"(exports, module) {\n    function setToArray(set2) {\n      var index2 = -1, result = Array(set2.size);\n      set2.forEach(function(value) {\n        result[++index2] = value;\n      });\n      return result;\n    }\n    module.exports = setToArray;\n  }\n});\n\n// node_modules/lodash/_equalByTag.js\nvar require_equalByTag = __commonJS({\n  \"node_modules/lodash/_equalByTag.js\"(exports, module) {\n    var Symbol3 = require_Symbol();\n    var Uint8Array = require_Uint8Array();\n    var eq = require_eq();\n    var equalArrays = require_equalArrays();\n    var mapToArray = require_mapToArray();\n    var setToArray = require_setToArray();\n    var COMPARE_PARTIAL_FLAG = 1;\n    var COMPARE_UNORDERED_FLAG = 2;\n    var boolTag = \"[object Boolean]\";\n    var dateTag = \"[object Date]\";\n    var errorTag = \"[object Error]\";\n    var mapTag = \"[object Map]\";\n    var numberTag = \"[object Number]\";\n    var regexpTag = \"[object RegExp]\";\n    var setTag = \"[object Set]\";\n    var stringTag = \"[object String]\";\n    var symbolTag = \"[object Symbol]\";\n    var arrayBufferTag = \"[object ArrayBuffer]\";\n    var dataViewTag = \"[object DataView]\";\n    var symbolProto = Symbol3 ? Symbol3.prototype : void 0;\n    var symbolValueOf = symbolProto ? symbolProto.valueOf : void 0;\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n        case arrayBufferTag:\n          if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          return eq(+object, +other);\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n        case regexpTag:\n        case stringTag:\n          return object == other + \"\";\n        case mapTag:\n          var convert = mapToArray;\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack[\"delete\"](object);\n          return result;\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n    module.exports = equalByTag;\n  }\n});\n\n// node_modules/lodash/_arrayPush.js\nvar require_arrayPush = __commonJS({\n  \"node_modules/lodash/_arrayPush.js\"(exports, module) {\n    function arrayPush(array2, values2) {\n      var index2 = -1, length = values2.length, offset = array2.length;\n      while (++index2 < length) {\n        array2[offset + index2] = values2[index2];\n      }\n      return array2;\n    }\n    module.exports = arrayPush;\n  }\n});\n\n// node_modules/lodash/_baseGetAllKeys.js\nvar require_baseGetAllKeys = __commonJS({\n  \"node_modules/lodash/_baseGetAllKeys.js\"(exports, module) {\n    var arrayPush = require_arrayPush();\n    var isArray2 = require_isArray();\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray2(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n    module.exports = baseGetAllKeys;\n  }\n});\n\n// node_modules/lodash/_arrayFilter.js\nvar require_arrayFilter = __commonJS({\n  \"node_modules/lodash/_arrayFilter.js\"(exports, module) {\n    function arrayFilter(array2, predicate) {\n      var index2 = -1, length = array2 == null ? 0 : array2.length, resIndex = 0, result = [];\n      while (++index2 < length) {\n        var value = array2[index2];\n        if (predicate(value, index2, array2)) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n    module.exports = arrayFilter;\n  }\n});\n\n// node_modules/lodash/stubArray.js\nvar require_stubArray = __commonJS({\n  \"node_modules/lodash/stubArray.js\"(exports, module) {\n    function stubArray() {\n      return [];\n    }\n    module.exports = stubArray;\n  }\n});\n\n// node_modules/lodash/_getSymbols.js\nvar require_getSymbols = __commonJS({\n  \"node_modules/lodash/_getSymbols.js\"(exports, module) {\n    var arrayFilter = require_arrayFilter();\n    var stubArray = require_stubArray();\n    var objectProto = Object.prototype;\n    var propertyIsEnumerable = objectProto.propertyIsEnumerable;\n    var nativeGetSymbols = Object.getOwnPropertySymbols;\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n    module.exports = getSymbols;\n  }\n});\n\n// node_modules/lodash/_baseTimes.js\nvar require_baseTimes = __commonJS({\n  \"node_modules/lodash/_baseTimes.js\"(exports, module) {\n    function baseTimes(n, iteratee) {\n      var index2 = -1, result = Array(n);\n      while (++index2 < n) {\n        result[index2] = iteratee(index2);\n      }\n      return result;\n    }\n    module.exports = baseTimes;\n  }\n});\n\n// node_modules/lodash/_baseIsArguments.js\nvar require_baseIsArguments = __commonJS({\n  \"node_modules/lodash/_baseIsArguments.js\"(exports, module) {\n    var baseGetTag = require_baseGetTag();\n    var isObjectLike = require_isObjectLike();\n    var argsTag = \"[object Arguments]\";\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n    module.exports = baseIsArguments;\n  }\n});\n\n// node_modules/lodash/isArguments.js\nvar require_isArguments = __commonJS({\n  \"node_modules/lodash/isArguments.js\"(exports, module) {\n    var baseIsArguments = require_baseIsArguments();\n    var isObjectLike = require_isObjectLike();\n    var objectProto = Object.prototype;\n    var hasOwnProperty2 = objectProto.hasOwnProperty;\n    var propertyIsEnumerable = objectProto.propertyIsEnumerable;\n    var isArguments = baseIsArguments(/* @__PURE__ */ (function() {\n      return arguments;\n    })()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty2.call(value, \"callee\") && !propertyIsEnumerable.call(value, \"callee\");\n    };\n    module.exports = isArguments;\n  }\n});\n\n// node_modules/lodash/stubFalse.js\nvar require_stubFalse = __commonJS({\n  \"node_modules/lodash/stubFalse.js\"(exports, module) {\n    function stubFalse() {\n      return false;\n    }\n    module.exports = stubFalse;\n  }\n});\n\n// node_modules/lodash/isBuffer.js\nvar require_isBuffer = __commonJS({\n  \"node_modules/lodash/isBuffer.js\"(exports, module) {\n    var root = require_root();\n    var stubFalse = require_stubFalse();\n    var freeExports = typeof exports == \"object\" && exports && !exports.nodeType && exports;\n    var freeModule = freeExports && typeof module == \"object\" && module && !module.nodeType && module;\n    var moduleExports = freeModule && freeModule.exports === freeExports;\n    var Buffer = moduleExports ? root.Buffer : void 0;\n    var nativeIsBuffer = Buffer ? Buffer.isBuffer : void 0;\n    var isBuffer = nativeIsBuffer || stubFalse;\n    module.exports = isBuffer;\n  }\n});\n\n// node_modules/lodash/_isIndex.js\nvar require_isIndex = __commonJS({\n  \"node_modules/lodash/_isIndex.js\"(exports, module) {\n    var MAX_SAFE_INTEGER2 = 9007199254740991;\n    var reIsUint = /^(?:0|[1-9]\\d*)$/;\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER2 : length;\n      return !!length && (type == \"number\" || type != \"symbol\" && reIsUint.test(value)) && (value > -1 && value % 1 == 0 && value < length);\n    }\n    module.exports = isIndex;\n  }\n});\n\n// node_modules/lodash/isLength.js\nvar require_isLength = __commonJS({\n  \"node_modules/lodash/isLength.js\"(exports, module) {\n    var MAX_SAFE_INTEGER2 = 9007199254740991;\n    function isLength(value) {\n      return typeof value == \"number\" && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER2;\n    }\n    module.exports = isLength;\n  }\n});\n\n// node_modules/lodash/_baseIsTypedArray.js\nvar require_baseIsTypedArray = __commonJS({\n  \"node_modules/lodash/_baseIsTypedArray.js\"(exports, module) {\n    var baseGetTag = require_baseGetTag();\n    var isLength = require_isLength();\n    var isObjectLike = require_isObjectLike();\n    var argsTag = \"[object Arguments]\";\n    var arrayTag = \"[object Array]\";\n    var boolTag = \"[object Boolean]\";\n    var dateTag = \"[object Date]\";\n    var errorTag = \"[object Error]\";\n    var funcTag = \"[object Function]\";\n    var mapTag = \"[object Map]\";\n    var numberTag = \"[object Number]\";\n    var objectTag = \"[object Object]\";\n    var regexpTag = \"[object RegExp]\";\n    var setTag = \"[object Set]\";\n    var stringTag = \"[object String]\";\n    var weakMapTag = \"[object WeakMap]\";\n    var arrayBufferTag = \"[object ArrayBuffer]\";\n    var dataViewTag = \"[object DataView]\";\n    var float32Tag = \"[object Float32Array]\";\n    var float64Tag = \"[object Float64Array]\";\n    var int8Tag = \"[object Int8Array]\";\n    var int16Tag = \"[object Int16Array]\";\n    var int32Tag = \"[object Int32Array]\";\n    var uint8Tag = \"[object Uint8Array]\";\n    var uint8ClampedTag = \"[object Uint8ClampedArray]\";\n    var uint16Tag = \"[object Uint16Array]\";\n    var uint32Tag = \"[object Uint32Array]\";\n    var typedArrayTags = {};\n    typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\n    typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n    module.exports = baseIsTypedArray;\n  }\n});\n\n// node_modules/lodash/_baseUnary.js\nvar require_baseUnary = __commonJS({\n  \"node_modules/lodash/_baseUnary.js\"(exports, module) {\n    function baseUnary(func) {\n      return function(value) {\n        return func(value);\n      };\n    }\n    module.exports = baseUnary;\n  }\n});\n\n// node_modules/lodash/_nodeUtil.js\nvar require_nodeUtil = __commonJS({\n  \"node_modules/lodash/_nodeUtil.js\"(exports, module) {\n    var freeGlobal = require_freeGlobal();\n    var freeExports = typeof exports == \"object\" && exports && !exports.nodeType && exports;\n    var freeModule = freeExports && typeof module == \"object\" && module && !module.nodeType && module;\n    var moduleExports = freeModule && freeModule.exports === freeExports;\n    var freeProcess = moduleExports && freeGlobal.process;\n    var nodeUtil = (function() {\n      try {\n        var types = freeModule && freeModule.require && freeModule.require(\"util\").types;\n        if (types) {\n          return types;\n        }\n        return freeProcess && freeProcess.binding && freeProcess.binding(\"util\");\n      } catch (e) {\n      }\n    })();\n    module.exports = nodeUtil;\n  }\n});\n\n// node_modules/lodash/isTypedArray.js\nvar require_isTypedArray = __commonJS({\n  \"node_modules/lodash/isTypedArray.js\"(exports, module) {\n    var baseIsTypedArray = require_baseIsTypedArray();\n    var baseUnary = require_baseUnary();\n    var nodeUtil = require_nodeUtil();\n    var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n    var isTypedArray2 = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n    module.exports = isTypedArray2;\n  }\n});\n\n// node_modules/lodash/_arrayLikeKeys.js\nvar require_arrayLikeKeys = __commonJS({\n  \"node_modules/lodash/_arrayLikeKeys.js\"(exports, module) {\n    var baseTimes = require_baseTimes();\n    var isArguments = require_isArguments();\n    var isArray2 = require_isArray();\n    var isBuffer = require_isBuffer();\n    var isIndex = require_isIndex();\n    var isTypedArray2 = require_isTypedArray();\n    var objectProto = Object.prototype;\n    var hasOwnProperty2 = objectProto.hasOwnProperty;\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray2(value), isArg = !isArr && isArguments(value), isBuff = !isArr && !isArg && isBuffer(value), isType = !isArr && !isArg && !isBuff && isTypedArray2(value), skipIndexes = isArr || isArg || isBuff || isType, result = skipIndexes ? baseTimes(value.length, String) : [], length = result.length;\n      for (var key in value) {\n        if ((inherited || hasOwnProperty2.call(value, key)) && !(skipIndexes && // Safari 9 has enumerable `arguments.length` in strict mode.\n        (key == \"length\" || // Node.js 0.10 has enumerable non-index properties on buffers.\n        isBuff && (key == \"offset\" || key == \"parent\") || // PhantomJS 2 has enumerable non-index properties on typed arrays.\n        isType && (key == \"buffer\" || key == \"byteLength\" || key == \"byteOffset\") || // Skip index properties.\n        isIndex(key, length)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n    module.exports = arrayLikeKeys;\n  }\n});\n\n// node_modules/lodash/_isPrototype.js\nvar require_isPrototype = __commonJS({\n  \"node_modules/lodash/_isPrototype.js\"(exports, module) {\n    var objectProto = Object.prototype;\n    function isPrototype(value) {\n      var Ctor = value && value.constructor, proto = typeof Ctor == \"function\" && Ctor.prototype || objectProto;\n      return value === proto;\n    }\n    module.exports = isPrototype;\n  }\n});\n\n// node_modules/lodash/_overArg.js\nvar require_overArg = __commonJS({\n  \"node_modules/lodash/_overArg.js\"(exports, module) {\n    function overArg(func, transform) {\n      return function(arg) {\n        return func(transform(arg));\n      };\n    }\n    module.exports = overArg;\n  }\n});\n\n// node_modules/lodash/_nativeKeys.js\nvar require_nativeKeys = __commonJS({\n  \"node_modules/lodash/_nativeKeys.js\"(exports, module) {\n    var overArg = require_overArg();\n    var nativeKeys = overArg(Object.keys, Object);\n    module.exports = nativeKeys;\n  }\n});\n\n// node_modules/lodash/_baseKeys.js\nvar require_baseKeys = __commonJS({\n  \"node_modules/lodash/_baseKeys.js\"(exports, module) {\n    var isPrototype = require_isPrototype();\n    var nativeKeys = require_nativeKeys();\n    var objectProto = Object.prototype;\n    var hasOwnProperty2 = objectProto.hasOwnProperty;\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty2.call(object, key) && key != \"constructor\") {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n    module.exports = baseKeys;\n  }\n});\n\n// node_modules/lodash/isArrayLike.js\nvar require_isArrayLike = __commonJS({\n  \"node_modules/lodash/isArrayLike.js\"(exports, module) {\n    var isFunction30 = require_isFunction();\n    var isLength = require_isLength();\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction30(value);\n    }\n    module.exports = isArrayLike;\n  }\n});\n\n// node_modules/lodash/keys.js\nvar require_keys = __commonJS({\n  \"node_modules/lodash/keys.js\"(exports, module) {\n    var arrayLikeKeys = require_arrayLikeKeys();\n    var baseKeys = require_baseKeys();\n    var isArrayLike = require_isArrayLike();\n    function keys2(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n    module.exports = keys2;\n  }\n});\n\n// node_modules/lodash/_getAllKeys.js\nvar require_getAllKeys = __commonJS({\n  \"node_modules/lodash/_getAllKeys.js\"(exports, module) {\n    var baseGetAllKeys = require_baseGetAllKeys();\n    var getSymbols = require_getSymbols();\n    var keys2 = require_keys();\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys2, getSymbols);\n    }\n    module.exports = getAllKeys;\n  }\n});\n\n// node_modules/lodash/_equalObjects.js\nvar require_equalObjects = __commonJS({\n  \"node_modules/lodash/_equalObjects.js\"(exports, module) {\n    var getAllKeys = require_getAllKeys();\n    var COMPARE_PARTIAL_FLAG = 1;\n    var objectProto = Object.prototype;\n    var hasOwnProperty2 = objectProto.hasOwnProperty;\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG, objProps = getAllKeys(object), objLength = objProps.length, othProps = getAllKeys(other), othLength = othProps.length;\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index2 = objLength;\n      while (index2--) {\n        var key = objProps[index2];\n        if (!(isPartial ? key in other : hasOwnProperty2.call(other, key))) {\n          return false;\n        }\n      }\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n      var skipCtor = isPartial;\n      while (++index2 < objLength) {\n        key = objProps[index2];\n        var objValue = object[key], othValue = other[key];\n        if (customizer) {\n          var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);\n        }\n        if (!(compared === void 0 ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == \"constructor\");\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor, othCtor = other.constructor;\n        if (objCtor != othCtor && (\"constructor\" in object && \"constructor\" in other) && !(typeof objCtor == \"function\" && objCtor instanceof objCtor && typeof othCtor == \"function\" && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack[\"delete\"](object);\n      stack[\"delete\"](other);\n      return result;\n    }\n    module.exports = equalObjects;\n  }\n});\n\n// node_modules/lodash/_DataView.js\nvar require_DataView = __commonJS({\n  \"node_modules/lodash/_DataView.js\"(exports, module) {\n    var getNative = require_getNative();\n    var root = require_root();\n    var DataView2 = getNative(root, \"DataView\");\n    module.exports = DataView2;\n  }\n});\n\n// node_modules/lodash/_Promise.js\nvar require_Promise = __commonJS({\n  \"node_modules/lodash/_Promise.js\"(exports, module) {\n    var getNative = require_getNative();\n    var root = require_root();\n    var Promise2 = getNative(root, \"Promise\");\n    module.exports = Promise2;\n  }\n});\n\n// node_modules/lodash/_Set.js\nvar require_Set = __commonJS({\n  \"node_modules/lodash/_Set.js\"(exports, module) {\n    var getNative = require_getNative();\n    var root = require_root();\n    var Set2 = getNative(root, \"Set\");\n    module.exports = Set2;\n  }\n});\n\n// node_modules/lodash/_WeakMap.js\nvar require_WeakMap = __commonJS({\n  \"node_modules/lodash/_WeakMap.js\"(exports, module) {\n    var getNative = require_getNative();\n    var root = require_root();\n    var WeakMap2 = getNative(root, \"WeakMap\");\n    module.exports = WeakMap2;\n  }\n});\n\n// node_modules/lodash/_getTag.js\nvar require_getTag = __commonJS({\n  \"node_modules/lodash/_getTag.js\"(exports, module) {\n    var DataView2 = require_DataView();\n    var Map2 = require_Map();\n    var Promise2 = require_Promise();\n    var Set2 = require_Set();\n    var WeakMap2 = require_WeakMap();\n    var baseGetTag = require_baseGetTag();\n    var toSource = require_toSource();\n    var mapTag = \"[object Map]\";\n    var objectTag = \"[object Object]\";\n    var promiseTag = \"[object Promise]\";\n    var setTag = \"[object Set]\";\n    var weakMapTag = \"[object WeakMap]\";\n    var dataViewTag = \"[object DataView]\";\n    var dataViewCtorString = toSource(DataView2);\n    var mapCtorString = toSource(Map2);\n    var promiseCtorString = toSource(Promise2);\n    var setCtorString = toSource(Set2);\n    var weakMapCtorString = toSource(WeakMap2);\n    var getTag2 = baseGetTag;\n    if (DataView2 && getTag2(new DataView2(new ArrayBuffer(1))) != dataViewTag || Map2 && getTag2(new Map2()) != mapTag || Promise2 && getTag2(Promise2.resolve()) != promiseTag || Set2 && getTag2(new Set2()) != setTag || WeakMap2 && getTag2(new WeakMap2()) != weakMapTag) {\n      getTag2 = function(value) {\n        var result = baseGetTag(value), Ctor = result == objectTag ? value.constructor : void 0, ctorString = Ctor ? toSource(Ctor) : \"\";\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString:\n              return dataViewTag;\n            case mapCtorString:\n              return mapTag;\n            case promiseCtorString:\n              return promiseTag;\n            case setCtorString:\n              return setTag;\n            case weakMapCtorString:\n              return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n    module.exports = getTag2;\n  }\n});\n\n// node_modules/lodash/_baseIsEqualDeep.js\nvar require_baseIsEqualDeep = __commonJS({\n  \"node_modules/lodash/_baseIsEqualDeep.js\"(exports, module) {\n    var Stack = require_Stack();\n    var equalArrays = require_equalArrays();\n    var equalByTag = require_equalByTag();\n    var equalObjects = require_equalObjects();\n    var getTag2 = require_getTag();\n    var isArray2 = require_isArray();\n    var isBuffer = require_isBuffer();\n    var isTypedArray2 = require_isTypedArray();\n    var COMPARE_PARTIAL_FLAG = 1;\n    var argsTag = \"[object Arguments]\";\n    var arrayTag = \"[object Array]\";\n    var objectTag = \"[object Object]\";\n    var objectProto = Object.prototype;\n    var hasOwnProperty2 = objectProto.hasOwnProperty;\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray2(object), othIsArr = isArray2(other), objTag = objIsArr ? arrayTag : getTag2(object), othTag = othIsArr ? arrayTag : getTag2(other);\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n      var objIsObj = objTag == objectTag, othIsObj = othTag == objectTag, isSameTag = objTag == othTag;\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack());\n        return objIsArr || isTypedArray2(object) ? equalArrays(object, other, bitmask, customizer, equalFunc, stack) : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty2.call(object, \"__wrapped__\"), othIsWrapped = othIsObj && hasOwnProperty2.call(other, \"__wrapped__\");\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object, othUnwrapped = othIsWrapped ? other.value() : other;\n          stack || (stack = new Stack());\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack());\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n    module.exports = baseIsEqualDeep;\n  }\n});\n\n// node_modules/lodash/_baseIsEqual.js\nvar require_baseIsEqual = __commonJS({\n  \"node_modules/lodash/_baseIsEqual.js\"(exports, module) {\n    var baseIsEqualDeep = require_baseIsEqualDeep();\n    var isObjectLike = require_isObjectLike();\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || !isObjectLike(value) && !isObjectLike(other)) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n    module.exports = baseIsEqual;\n  }\n});\n\n// node_modules/lodash/_baseIsMatch.js\nvar require_baseIsMatch = __commonJS({\n  \"node_modules/lodash/_baseIsMatch.js\"(exports, module) {\n    var Stack = require_Stack();\n    var baseIsEqual = require_baseIsEqual();\n    var COMPARE_PARTIAL_FLAG = 1;\n    var COMPARE_UNORDERED_FLAG = 2;\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index2 = matchData.length, length = index2, noCustomizer = !customizer;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index2--) {\n        var data = matchData[index2];\n        if (noCustomizer && data[2] ? data[1] !== object[data[0]] : !(data[0] in object)) {\n          return false;\n        }\n      }\n      while (++index2 < length) {\n        data = matchData[index2];\n        var key = data[0], objValue = object[key], srcValue = data[1];\n        if (noCustomizer && data[2]) {\n          if (objValue === void 0 && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack();\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === void 0 ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack) : result)) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n    module.exports = baseIsMatch;\n  }\n});\n\n// node_modules/lodash/_isStrictComparable.js\nvar require_isStrictComparable = __commonJS({\n  \"node_modules/lodash/_isStrictComparable.js\"(exports, module) {\n    var isObject5 = require_isObject();\n    function isStrictComparable(value) {\n      return value === value && !isObject5(value);\n    }\n    module.exports = isStrictComparable;\n  }\n});\n\n// node_modules/lodash/_getMatchData.js\nvar require_getMatchData = __commonJS({\n  \"node_modules/lodash/_getMatchData.js\"(exports, module) {\n    var isStrictComparable = require_isStrictComparable();\n    var keys2 = require_keys();\n    function getMatchData(object) {\n      var result = keys2(object), length = result.length;\n      while (length--) {\n        var key = result[length], value = object[key];\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n    module.exports = getMatchData;\n  }\n});\n\n// node_modules/lodash/_matchesStrictComparable.js\nvar require_matchesStrictComparable = __commonJS({\n  \"node_modules/lodash/_matchesStrictComparable.js\"(exports, module) {\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue && (srcValue !== void 0 || key in Object(object));\n      };\n    }\n    module.exports = matchesStrictComparable;\n  }\n});\n\n// node_modules/lodash/_baseMatches.js\nvar require_baseMatches = __commonJS({\n  \"node_modules/lodash/_baseMatches.js\"(exports, module) {\n    var baseIsMatch = require_baseIsMatch();\n    var getMatchData = require_getMatchData();\n    var matchesStrictComparable = require_matchesStrictComparable();\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n    module.exports = baseMatches;\n  }\n});\n\n// node_modules/lodash/_baseHasIn.js\nvar require_baseHasIn = __commonJS({\n  \"node_modules/lodash/_baseHasIn.js\"(exports, module) {\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n    module.exports = baseHasIn;\n  }\n});\n\n// node_modules/lodash/_hasPath.js\nvar require_hasPath = __commonJS({\n  \"node_modules/lodash/_hasPath.js\"(exports, module) {\n    var castPath = require_castPath();\n    var isArguments = require_isArguments();\n    var isArray2 = require_isArray();\n    var isIndex = require_isIndex();\n    var isLength = require_isLength();\n    var toKey = require_toKey();\n    function hasPath(object, path2, hasFunc) {\n      path2 = castPath(path2, object);\n      var index2 = -1, length = path2.length, result = false;\n      while (++index2 < length) {\n        var key = toKey(path2[index2]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index2 != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) && (isArray2(object) || isArguments(object));\n    }\n    module.exports = hasPath;\n  }\n});\n\n// node_modules/lodash/hasIn.js\nvar require_hasIn = __commonJS({\n  \"node_modules/lodash/hasIn.js\"(exports, module) {\n    var baseHasIn = require_baseHasIn();\n    var hasPath = require_hasPath();\n    function hasIn(object, path2) {\n      return object != null && hasPath(object, path2, baseHasIn);\n    }\n    module.exports = hasIn;\n  }\n});\n\n// node_modules/lodash/_baseMatchesProperty.js\nvar require_baseMatchesProperty = __commonJS({\n  \"node_modules/lodash/_baseMatchesProperty.js\"(exports, module) {\n    var baseIsEqual = require_baseIsEqual();\n    var get10 = require_get();\n    var hasIn = require_hasIn();\n    var isKey = require_isKey();\n    var isStrictComparable = require_isStrictComparable();\n    var matchesStrictComparable = require_matchesStrictComparable();\n    var toKey = require_toKey();\n    var COMPARE_PARTIAL_FLAG = 1;\n    var COMPARE_UNORDERED_FLAG = 2;\n    function baseMatchesProperty(path2, srcValue) {\n      if (isKey(path2) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path2), srcValue);\n      }\n      return function(object) {\n        var objValue = get10(object, path2);\n        return objValue === void 0 && objValue === srcValue ? hasIn(object, path2) : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n    module.exports = baseMatchesProperty;\n  }\n});\n\n// node_modules/lodash/identity.js\nvar require_identity = __commonJS({\n  \"node_modules/lodash/identity.js\"(exports, module) {\n    function identity9(value) {\n      return value;\n    }\n    module.exports = identity9;\n  }\n});\n\n// node_modules/lodash/_baseProperty.js\nvar require_baseProperty = __commonJS({\n  \"node_modules/lodash/_baseProperty.js\"(exports, module) {\n    function baseProperty(key) {\n      return function(object) {\n        return object == null ? void 0 : object[key];\n      };\n    }\n    module.exports = baseProperty;\n  }\n});\n\n// node_modules/lodash/_basePropertyDeep.js\nvar require_basePropertyDeep = __commonJS({\n  \"node_modules/lodash/_basePropertyDeep.js\"(exports, module) {\n    var baseGet = require_baseGet();\n    function basePropertyDeep(path2) {\n      return function(object) {\n        return baseGet(object, path2);\n      };\n    }\n    module.exports = basePropertyDeep;\n  }\n});\n\n// node_modules/lodash/property.js\nvar require_property = __commonJS({\n  \"node_modules/lodash/property.js\"(exports, module) {\n    var baseProperty = require_baseProperty();\n    var basePropertyDeep = require_basePropertyDeep();\n    var isKey = require_isKey();\n    var toKey = require_toKey();\n    function property(path2) {\n      return isKey(path2) ? baseProperty(toKey(path2)) : basePropertyDeep(path2);\n    }\n    module.exports = property;\n  }\n});\n\n// node_modules/lodash/_baseIteratee.js\nvar require_baseIteratee = __commonJS({\n  \"node_modules/lodash/_baseIteratee.js\"(exports, module) {\n    var baseMatches = require_baseMatches();\n    var baseMatchesProperty = require_baseMatchesProperty();\n    var identity9 = require_identity();\n    var isArray2 = require_isArray();\n    var property = require_property();\n    function baseIteratee(value) {\n      if (typeof value == \"function\") {\n        return value;\n      }\n      if (value == null) {\n        return identity9;\n      }\n      if (typeof value == \"object\") {\n        return isArray2(value) ? baseMatchesProperty(value[0], value[1]) : baseMatches(value);\n      }\n      return property(value);\n    }\n    module.exports = baseIteratee;\n  }\n});\n\n// node_modules/lodash/_baseFindIndex.js\nvar require_baseFindIndex = __commonJS({\n  \"node_modules/lodash/_baseFindIndex.js\"(exports, module) {\n    function baseFindIndex(array2, predicate, fromIndex, fromRight) {\n      var length = array2.length, index2 = fromIndex + (fromRight ? 1 : -1);\n      while (fromRight ? index2-- : ++index2 < length) {\n        if (predicate(array2[index2], index2, array2)) {\n          return index2;\n        }\n      }\n      return -1;\n    }\n    module.exports = baseFindIndex;\n  }\n});\n\n// node_modules/lodash/_baseIsNaN.js\nvar require_baseIsNaN = __commonJS({\n  \"node_modules/lodash/_baseIsNaN.js\"(exports, module) {\n    function baseIsNaN(value) {\n      return value !== value;\n    }\n    module.exports = baseIsNaN;\n  }\n});\n\n// node_modules/lodash/_strictIndexOf.js\nvar require_strictIndexOf = __commonJS({\n  \"node_modules/lodash/_strictIndexOf.js\"(exports, module) {\n    function strictIndexOf(array2, value, fromIndex) {\n      var index2 = fromIndex - 1, length = array2.length;\n      while (++index2 < length) {\n        if (array2[index2] === value) {\n          return index2;\n        }\n      }\n      return -1;\n    }\n    module.exports = strictIndexOf;\n  }\n});\n\n// node_modules/lodash/_baseIndexOf.js\nvar require_baseIndexOf = __commonJS({\n  \"node_modules/lodash/_baseIndexOf.js\"(exports, module) {\n    var baseFindIndex = require_baseFindIndex();\n    var baseIsNaN = require_baseIsNaN();\n    var strictIndexOf = require_strictIndexOf();\n    function baseIndexOf(array2, value, fromIndex) {\n      return value === value ? strictIndexOf(array2, value, fromIndex) : baseFindIndex(array2, baseIsNaN, fromIndex);\n    }\n    module.exports = baseIndexOf;\n  }\n});\n\n// node_modules/lodash/_arrayIncludes.js\nvar require_arrayIncludes = __commonJS({\n  \"node_modules/lodash/_arrayIncludes.js\"(exports, module) {\n    var baseIndexOf = require_baseIndexOf();\n    function arrayIncludes(array2, value) {\n      var length = array2 == null ? 0 : array2.length;\n      return !!length && baseIndexOf(array2, value, 0) > -1;\n    }\n    module.exports = arrayIncludes;\n  }\n});\n\n// node_modules/lodash/_arrayIncludesWith.js\nvar require_arrayIncludesWith = __commonJS({\n  \"node_modules/lodash/_arrayIncludesWith.js\"(exports, module) {\n    function arrayIncludesWith(array2, value, comparator) {\n      var index2 = -1, length = array2 == null ? 0 : array2.length;\n      while (++index2 < length) {\n        if (comparator(value, array2[index2])) {\n          return true;\n        }\n      }\n      return false;\n    }\n    module.exports = arrayIncludesWith;\n  }\n});\n\n// node_modules/lodash/noop.js\nvar require_noop = __commonJS({\n  \"node_modules/lodash/noop.js\"(exports, module) {\n    function noop2() {\n    }\n    module.exports = noop2;\n  }\n});\n\n// node_modules/lodash/_createSet.js\nvar require_createSet = __commonJS({\n  \"node_modules/lodash/_createSet.js\"(exports, module) {\n    var Set2 = require_Set();\n    var noop2 = require_noop();\n    var setToArray = require_setToArray();\n    var INFINITY = 1 / 0;\n    var createSet = !(Set2 && 1 / setToArray(new Set2([, -0]))[1] == INFINITY) ? noop2 : function(values2) {\n      return new Set2(values2);\n    };\n    module.exports = createSet;\n  }\n});\n\n// node_modules/lodash/_baseUniq.js\nvar require_baseUniq = __commonJS({\n  \"node_modules/lodash/_baseUniq.js\"(exports, module) {\n    var SetCache = require_SetCache();\n    var arrayIncludes = require_arrayIncludes();\n    var arrayIncludesWith = require_arrayIncludesWith();\n    var cacheHas = require_cacheHas();\n    var createSet = require_createSet();\n    var setToArray = require_setToArray();\n    var LARGE_ARRAY_SIZE = 200;\n    function baseUniq(array2, iteratee, comparator) {\n      var index2 = -1, includes = arrayIncludes, length = array2.length, isCommon = true, result = [], seen = result;\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      } else if (length >= LARGE_ARRAY_SIZE) {\n        var set2 = iteratee ? null : createSet(array2);\n        if (set2) {\n          return setToArray(set2);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache();\n      } else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n        while (++index2 < length) {\n          var value = array2[index2], computed = iteratee ? iteratee(value) : value;\n          value = comparator || value !== 0 ? value : 0;\n          if (isCommon && computed === computed) {\n            var seenIndex = seen.length;\n            while (seenIndex--) {\n              if (seen[seenIndex] === computed) {\n                continue outer;\n              }\n            }\n            if (iteratee) {\n              seen.push(computed);\n            }\n            result.push(value);\n          } else if (!includes(seen, computed, comparator)) {\n            if (seen !== result) {\n              seen.push(computed);\n            }\n            result.push(value);\n          }\n        }\n      return result;\n    }\n    module.exports = baseUniq;\n  }\n});\n\n// node_modules/lodash/uniqBy.js\nvar require_uniqBy = __commonJS({\n  \"node_modules/lodash/uniqBy.js\"(exports, module) {\n    var baseIteratee = require_baseIteratee();\n    var baseUniq = require_baseUniq();\n    function uniqBy2(array2, iteratee) {\n      return array2 && array2.length ? baseUniq(array2, baseIteratee(iteratee, 2)) : [];\n    }\n    module.exports = uniqBy2;\n  }\n});\n\n// node_modules/lodash/_isFlattenable.js\nvar require_isFlattenable = __commonJS({\n  \"node_modules/lodash/_isFlattenable.js\"(exports, module) {\n    var Symbol3 = require_Symbol();\n    var isArguments = require_isArguments();\n    var isArray2 = require_isArray();\n    var spreadableSymbol = Symbol3 ? Symbol3.isConcatSpreadable : void 0;\n    function isFlattenable(value) {\n      return isArray2(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n    module.exports = isFlattenable;\n  }\n});\n\n// node_modules/lodash/_baseFlatten.js\nvar require_baseFlatten = __commonJS({\n  \"node_modules/lodash/_baseFlatten.js\"(exports, module) {\n    var arrayPush = require_arrayPush();\n    var isFlattenable = require_isFlattenable();\n    function baseFlatten(array2, depth, predicate, isStrict, result) {\n      var index2 = -1, length = array2.length;\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n      while (++index2 < length) {\n        var value = array2[index2];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n    module.exports = baseFlatten;\n  }\n});\n\n// node_modules/lodash/_createBaseFor.js\nvar require_createBaseFor = __commonJS({\n  \"node_modules/lodash/_createBaseFor.js\"(exports, module) {\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index2 = -1, iterable = Object(object), props = keysFunc(object), length = props.length;\n        while (length--) {\n          var key = props[fromRight ? length : ++index2];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n    module.exports = createBaseFor;\n  }\n});\n\n// node_modules/lodash/_baseFor.js\nvar require_baseFor = __commonJS({\n  \"node_modules/lodash/_baseFor.js\"(exports, module) {\n    var createBaseFor = require_createBaseFor();\n    var baseFor = createBaseFor();\n    module.exports = baseFor;\n  }\n});\n\n// node_modules/lodash/_baseForOwn.js\nvar require_baseForOwn = __commonJS({\n  \"node_modules/lodash/_baseForOwn.js\"(exports, module) {\n    var baseFor = require_baseFor();\n    var keys2 = require_keys();\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys2);\n    }\n    module.exports = baseForOwn;\n  }\n});\n\n// node_modules/lodash/_createBaseEach.js\nvar require_createBaseEach = __commonJS({\n  \"node_modules/lodash/_createBaseEach.js\"(exports, module) {\n    var isArrayLike = require_isArrayLike();\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length, index2 = fromRight ? length : -1, iterable = Object(collection);\n        while (fromRight ? index2-- : ++index2 < length) {\n          if (iteratee(iterable[index2], index2, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n    module.exports = createBaseEach;\n  }\n});\n\n// node_modules/lodash/_baseEach.js\nvar require_baseEach = __commonJS({\n  \"node_modules/lodash/_baseEach.js\"(exports, module) {\n    var baseForOwn = require_baseForOwn();\n    var createBaseEach = require_createBaseEach();\n    var baseEach = createBaseEach(baseForOwn);\n    module.exports = baseEach;\n  }\n});\n\n// node_modules/lodash/_baseMap.js\nvar require_baseMap = __commonJS({\n  \"node_modules/lodash/_baseMap.js\"(exports, module) {\n    var baseEach = require_baseEach();\n    var isArrayLike = require_isArrayLike();\n    function baseMap(collection, iteratee) {\n      var index2 = -1, result = isArrayLike(collection) ? Array(collection.length) : [];\n      baseEach(collection, function(value, key, collection2) {\n        result[++index2] = iteratee(value, key, collection2);\n      });\n      return result;\n    }\n    module.exports = baseMap;\n  }\n});\n\n// node_modules/lodash/_baseSortBy.js\nvar require_baseSortBy = __commonJS({\n  \"node_modules/lodash/_baseSortBy.js\"(exports, module) {\n    function baseSortBy(array2, comparer) {\n      var length = array2.length;\n      array2.sort(comparer);\n      while (length--) {\n        array2[length] = array2[length].value;\n      }\n      return array2;\n    }\n    module.exports = baseSortBy;\n  }\n});\n\n// node_modules/lodash/_compareAscending.js\nvar require_compareAscending = __commonJS({\n  \"node_modules/lodash/_compareAscending.js\"(exports, module) {\n    var isSymbol = require_isSymbol();\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== void 0, valIsNull = value === null, valIsReflexive = value === value, valIsSymbol = isSymbol(value);\n        var othIsDefined = other !== void 0, othIsNull = other === null, othIsReflexive = other === other, othIsSymbol = isSymbol(other);\n        if (!othIsNull && !othIsSymbol && !valIsSymbol && value > other || valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol || valIsNull && othIsDefined && othIsReflexive || !valIsDefined && othIsReflexive || !valIsReflexive) {\n          return 1;\n        }\n        if (!valIsNull && !valIsSymbol && !othIsSymbol && value < other || othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol || othIsNull && valIsDefined && valIsReflexive || !othIsDefined && valIsReflexive || !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n    module.exports = compareAscending;\n  }\n});\n\n// node_modules/lodash/_compareMultiple.js\nvar require_compareMultiple = __commonJS({\n  \"node_modules/lodash/_compareMultiple.js\"(exports, module) {\n    var compareAscending = require_compareAscending();\n    function compareMultiple(object, other, orders) {\n      var index2 = -1, objCriteria = object.criteria, othCriteria = other.criteria, length = objCriteria.length, ordersLength = orders.length;\n      while (++index2 < length) {\n        var result = compareAscending(objCriteria[index2], othCriteria[index2]);\n        if (result) {\n          if (index2 >= ordersLength) {\n            return result;\n          }\n          var order = orders[index2];\n          return result * (order == \"desc\" ? -1 : 1);\n        }\n      }\n      return object.index - other.index;\n    }\n    module.exports = compareMultiple;\n  }\n});\n\n// node_modules/lodash/_baseOrderBy.js\nvar require_baseOrderBy = __commonJS({\n  \"node_modules/lodash/_baseOrderBy.js\"(exports, module) {\n    var arrayMap = require_arrayMap();\n    var baseGet = require_baseGet();\n    var baseIteratee = require_baseIteratee();\n    var baseMap = require_baseMap();\n    var baseSortBy = require_baseSortBy();\n    var baseUnary = require_baseUnary();\n    var compareMultiple = require_compareMultiple();\n    var identity9 = require_identity();\n    var isArray2 = require_isArray();\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray2(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            };\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity9];\n      }\n      var index2 = -1;\n      iteratees = arrayMap(iteratees, baseUnary(baseIteratee));\n      var result = baseMap(collection, function(value, key, collection2) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { \"criteria\": criteria, \"index\": ++index2, \"value\": value };\n      });\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n    module.exports = baseOrderBy;\n  }\n});\n\n// node_modules/lodash/_apply.js\nvar require_apply = __commonJS({\n  \"node_modules/lodash/_apply.js\"(exports, module) {\n    function apply(func, thisArg, args) {\n      switch (args.length) {\n        case 0:\n          return func.call(thisArg);\n        case 1:\n          return func.call(thisArg, args[0]);\n        case 2:\n          return func.call(thisArg, args[0], args[1]);\n        case 3:\n          return func.call(thisArg, args[0], args[1], args[2]);\n      }\n      return func.apply(thisArg, args);\n    }\n    module.exports = apply;\n  }\n});\n\n// node_modules/lodash/_overRest.js\nvar require_overRest = __commonJS({\n  \"node_modules/lodash/_overRest.js\"(exports, module) {\n    var apply = require_apply();\n    var nativeMax = Math.max;\n    function overRest(func, start, transform) {\n      start = nativeMax(start === void 0 ? func.length - 1 : start, 0);\n      return function() {\n        var args = arguments, index2 = -1, length = nativeMax(args.length - start, 0), array2 = Array(length);\n        while (++index2 < length) {\n          array2[index2] = args[start + index2];\n        }\n        index2 = -1;\n        var otherArgs = Array(start + 1);\n        while (++index2 < start) {\n          otherArgs[index2] = args[index2];\n        }\n        otherArgs[start] = transform(array2);\n        return apply(func, this, otherArgs);\n      };\n    }\n    module.exports = overRest;\n  }\n});\n\n// node_modules/lodash/constant.js\nvar require_constant = __commonJS({\n  \"node_modules/lodash/constant.js\"(exports, module) {\n    function constant2(value) {\n      return function() {\n        return value;\n      };\n    }\n    module.exports = constant2;\n  }\n});\n\n// node_modules/lodash/_defineProperty.js\nvar require_defineProperty = __commonJS({\n  \"node_modules/lodash/_defineProperty.js\"(exports, module) {\n    var getNative = require_getNative();\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, \"defineProperty\");\n        func({}, \"\", {});\n        return func;\n      } catch (e) {\n      }\n    })();\n    module.exports = defineProperty;\n  }\n});\n\n// node_modules/lodash/_baseSetToString.js\nvar require_baseSetToString = __commonJS({\n  \"node_modules/lodash/_baseSetToString.js\"(exports, module) {\n    var constant2 = require_constant();\n    var defineProperty = require_defineProperty();\n    var identity9 = require_identity();\n    var baseSetToString = !defineProperty ? identity9 : function(func, string) {\n      return defineProperty(func, \"toString\", {\n        \"configurable\": true,\n        \"enumerable\": false,\n        \"value\": constant2(string),\n        \"writable\": true\n      });\n    };\n    module.exports = baseSetToString;\n  }\n});\n\n// node_modules/lodash/_shortOut.js\nvar require_shortOut = __commonJS({\n  \"node_modules/lodash/_shortOut.js\"(exports, module) {\n    var HOT_COUNT = 800;\n    var HOT_SPAN = 16;\n    var nativeNow = Date.now;\n    function shortOut(func) {\n      var count2 = 0, lastCalled = 0;\n      return function() {\n        var stamp = nativeNow(), remaining = HOT_SPAN - (stamp - lastCalled);\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count2 >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count2 = 0;\n        }\n        return func.apply(void 0, arguments);\n      };\n    }\n    module.exports = shortOut;\n  }\n});\n\n// node_modules/lodash/_setToString.js\nvar require_setToString = __commonJS({\n  \"node_modules/lodash/_setToString.js\"(exports, module) {\n    var baseSetToString = require_baseSetToString();\n    var shortOut = require_shortOut();\n    var setToString = shortOut(baseSetToString);\n    module.exports = setToString;\n  }\n});\n\n// node_modules/lodash/_baseRest.js\nvar require_baseRest = __commonJS({\n  \"node_modules/lodash/_baseRest.js\"(exports, module) {\n    var identity9 = require_identity();\n    var overRest = require_overRest();\n    var setToString = require_setToString();\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity9), func + \"\");\n    }\n    module.exports = baseRest;\n  }\n});\n\n// node_modules/lodash/_isIterateeCall.js\nvar require_isIterateeCall = __commonJS({\n  \"node_modules/lodash/_isIterateeCall.js\"(exports, module) {\n    var eq = require_eq();\n    var isArrayLike = require_isArrayLike();\n    var isIndex = require_isIndex();\n    var isObject5 = require_isObject();\n    function isIterateeCall(value, index2, object) {\n      if (!isObject5(object)) {\n        return false;\n      }\n      var type = typeof index2;\n      if (type == \"number\" ? isArrayLike(object) && isIndex(index2, object.length) : type == \"string\" && index2 in object) {\n        return eq(object[index2], value);\n      }\n      return false;\n    }\n    module.exports = isIterateeCall;\n  }\n});\n\n// node_modules/lodash/sortBy.js\nvar require_sortBy = __commonJS({\n  \"node_modules/lodash/sortBy.js\"(exports, module) {\n    var baseFlatten = require_baseFlatten();\n    var baseOrderBy = require_baseOrderBy();\n    var baseRest = require_baseRest();\n    var isIterateeCall = require_isIterateeCall();\n    var sortBy4 = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n    module.exports = sortBy4;\n  }\n});\n\n// node_modules/lodash/now.js\nvar require_now = __commonJS({\n  \"node_modules/lodash/now.js\"(exports, module) {\n    var root = require_root();\n    var now = function() {\n      return root.Date.now();\n    };\n    module.exports = now;\n  }\n});\n\n// node_modules/lodash/_trimmedEndIndex.js\nvar require_trimmedEndIndex = __commonJS({\n  \"node_modules/lodash/_trimmedEndIndex.js\"(exports, module) {\n    var reWhitespace = /\\s/;\n    function trimmedEndIndex(string) {\n      var index2 = string.length;\n      while (index2-- && reWhitespace.test(string.charAt(index2))) {\n      }\n      return index2;\n    }\n    module.exports = trimmedEndIndex;\n  }\n});\n\n// node_modules/lodash/_baseTrim.js\nvar require_baseTrim = __commonJS({\n  \"node_modules/lodash/_baseTrim.js\"(exports, module) {\n    var trimmedEndIndex = require_trimmedEndIndex();\n    var reTrimStart = /^\\s+/;\n    function baseTrim(string) {\n      return string ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, \"\") : string;\n    }\n    module.exports = baseTrim;\n  }\n});\n\n// node_modules/lodash/toNumber.js\nvar require_toNumber = __commonJS({\n  \"node_modules/lodash/toNumber.js\"(exports, module) {\n    var baseTrim = require_baseTrim();\n    var isObject5 = require_isObject();\n    var isSymbol = require_isSymbol();\n    var NAN = 0 / 0;\n    var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n    var reIsBinary = /^0b[01]+$/i;\n    var reIsOctal = /^0o[0-7]+$/i;\n    var freeParseInt = parseInt;\n    function toNumber(value) {\n      if (typeof value == \"number\") {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject5(value)) {\n        var other = typeof value.valueOf == \"function\" ? value.valueOf() : value;\n        value = isObject5(other) ? other + \"\" : other;\n      }\n      if (typeof value != \"string\") {\n        return value === 0 ? value : +value;\n      }\n      value = baseTrim(value);\n      var isBinary = reIsBinary.test(value);\n      return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n    }\n    module.exports = toNumber;\n  }\n});\n\n// node_modules/lodash/debounce.js\nvar require_debounce = __commonJS({\n  \"node_modules/lodash/debounce.js\"(exports, module) {\n    var isObject5 = require_isObject();\n    var now = require_now();\n    var toNumber = require_toNumber();\n    var FUNC_ERROR_TEXT = \"Expected a function\";\n    var nativeMax = Math.max;\n    var nativeMin = Math.min;\n    function debounce(func, wait, options) {\n      var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;\n      if (typeof func != \"function\") {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject5(options)) {\n        leading = !!options.leading;\n        maxing = \"maxWait\" in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = \"trailing\" in options ? !!options.trailing : trailing;\n      }\n      function invokeFunc(time2) {\n        var args = lastArgs, thisArg = lastThis;\n        lastArgs = lastThis = void 0;\n        lastInvokeTime = time2;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n      function leadingEdge(time2) {\n        lastInvokeTime = time2;\n        timerId = setTimeout(timerExpired, wait);\n        return leading ? invokeFunc(time2) : result;\n      }\n      function remainingWait(time2) {\n        var timeSinceLastCall = time2 - lastCallTime, timeSinceLastInvoke = time2 - lastInvokeTime, timeWaiting = wait - timeSinceLastCall;\n        return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n      }\n      function shouldInvoke(time2) {\n        var timeSinceLastCall = time2 - lastCallTime, timeSinceLastInvoke = time2 - lastInvokeTime;\n        return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n      }\n      function timerExpired() {\n        var time2 = now();\n        if (shouldInvoke(time2)) {\n          return trailingEdge(time2);\n        }\n        timerId = setTimeout(timerExpired, remainingWait(time2));\n      }\n      function trailingEdge(time2) {\n        timerId = void 0;\n        if (trailing && lastArgs) {\n          return invokeFunc(time2);\n        }\n        lastArgs = lastThis = void 0;\n        return result;\n      }\n      function cancel() {\n        if (timerId !== void 0) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = void 0;\n      }\n      function flush() {\n        return timerId === void 0 ? result : trailingEdge(now());\n      }\n      function debounced() {\n        var time2 = now(), isInvoking = shouldInvoke(time2);\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time2;\n        if (isInvoking) {\n          if (timerId === void 0) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === void 0) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n    module.exports = debounce;\n  }\n});\n\n// node_modules/lodash/throttle.js\nvar require_throttle = __commonJS({\n  \"node_modules/lodash/throttle.js\"(exports, module) {\n    var debounce = require_debounce();\n    var isObject5 = require_isObject();\n    var FUNC_ERROR_TEXT = \"Expected a function\";\n    function throttle3(func, wait, options) {\n      var leading = true, trailing = true;\n      if (typeof func != \"function\") {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject5(options)) {\n        leading = \"leading\" in options ? !!options.leading : leading;\n        trailing = \"trailing\" in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        \"leading\": leading,\n        \"maxWait\": wait,\n        \"trailing\": trailing\n      });\n    }\n    module.exports = throttle3;\n  }\n});\n\n// node_modules/lodash/_baseExtremum.js\nvar require_baseExtremum = __commonJS({\n  \"node_modules/lodash/_baseExtremum.js\"(exports, module) {\n    var isSymbol = require_isSymbol();\n    function baseExtremum(array2, iteratee, comparator) {\n      var index2 = -1, length = array2.length;\n      while (++index2 < length) {\n        var value = array2[index2], current = iteratee(value);\n        if (current != null && (computed === void 0 ? current === current && !isSymbol(current) : comparator(current, computed))) {\n          var computed = current, result = value;\n        }\n      }\n      return result;\n    }\n    module.exports = baseExtremum;\n  }\n});\n\n// node_modules/lodash/_baseGt.js\nvar require_baseGt = __commonJS({\n  \"node_modules/lodash/_baseGt.js\"(exports, module) {\n    function baseGt(value, other) {\n      return value > other;\n    }\n    module.exports = baseGt;\n  }\n});\n\n// node_modules/lodash/max.js\nvar require_max = __commonJS({\n  \"node_modules/lodash/max.js\"(exports, module) {\n    var baseExtremum = require_baseExtremum();\n    var baseGt = require_baseGt();\n    var identity9 = require_identity();\n    function max5(array2) {\n      return array2 && array2.length ? baseExtremum(array2, identity9, baseGt) : void 0;\n    }\n    module.exports = max5;\n  }\n});\n\n// node_modules/lodash/_baseLt.js\nvar require_baseLt = __commonJS({\n  \"node_modules/lodash/_baseLt.js\"(exports, module) {\n    function baseLt(value, other) {\n      return value < other;\n    }\n    module.exports = baseLt;\n  }\n});\n\n// node_modules/lodash/min.js\nvar require_min = __commonJS({\n  \"node_modules/lodash/min.js\"(exports, module) {\n    var baseExtremum = require_baseExtremum();\n    var baseLt = require_baseLt();\n    var identity9 = require_identity();\n    function min5(array2) {\n      return array2 && array2.length ? baseExtremum(array2, identity9, baseLt) : void 0;\n    }\n    module.exports = min5;\n  }\n});\n\n// node_modules/lodash/map.js\nvar require_map = __commonJS({\n  \"node_modules/lodash/map.js\"(exports, module) {\n    var arrayMap = require_arrayMap();\n    var baseIteratee = require_baseIteratee();\n    var baseMap = require_baseMap();\n    var isArray2 = require_isArray();\n    function map5(collection, iteratee) {\n      var func = isArray2(collection) ? arrayMap : baseMap;\n      return func(collection, baseIteratee(iteratee, 3));\n    }\n    module.exports = map5;\n  }\n});\n\n// node_modules/lodash/flatMap.js\nvar require_flatMap = __commonJS({\n  \"node_modules/lodash/flatMap.js\"(exports, module) {\n    var baseFlatten = require_baseFlatten();\n    var map5 = require_map();\n    function flatMap2(collection, iteratee) {\n      return baseFlatten(map5(collection, iteratee), 1);\n    }\n    module.exports = flatMap2;\n  }\n});\n\n// node_modules/lodash/isEqual.js\nvar require_isEqual = __commonJS({\n  \"node_modules/lodash/isEqual.js\"(exports, module) {\n    var baseIsEqual = require_baseIsEqual();\n    function isEqual11(value, other) {\n      return baseIsEqual(value, other);\n    }\n    module.exports = isEqual11;\n  }\n});\n\n// node_modules/lodash/last.js\nvar require_last = __commonJS({\n  \"node_modules/lodash/last.js\"(exports, module) {\n    function last3(array2) {\n      var length = array2 == null ? 0 : array2.length;\n      return length ? array2[length - 1] : void 0;\n    }\n    module.exports = last3;\n  }\n});\n\n// node_modules/lodash/maxBy.js\nvar require_maxBy = __commonJS({\n  \"node_modules/lodash/maxBy.js\"(exports, module) {\n    var baseExtremum = require_baseExtremum();\n    var baseGt = require_baseGt();\n    var baseIteratee = require_baseIteratee();\n    function maxBy3(array2, iteratee) {\n      return array2 && array2.length ? baseExtremum(array2, baseIteratee(iteratee, 2), baseGt) : void 0;\n    }\n    module.exports = maxBy3;\n  }\n});\n\n// node_modules/lodash/minBy.js\nvar require_minBy = __commonJS({\n  \"node_modules/lodash/minBy.js\"(exports, module) {\n    var baseExtremum = require_baseExtremum();\n    var baseIteratee = require_baseIteratee();\n    var baseLt = require_baseLt();\n    function minBy2(array2, iteratee) {\n      return array2 && array2.length ? baseExtremum(array2, baseIteratee(iteratee, 2), baseLt) : void 0;\n    }\n    module.exports = minBy2;\n  }\n});\n\n// node_modules/lodash/_getPrototype.js\nvar require_getPrototype = __commonJS({\n  \"node_modules/lodash/_getPrototype.js\"(exports, module) {\n    var overArg = require_overArg();\n    var getPrototype = overArg(Object.getPrototypeOf, Object);\n    module.exports = getPrototype;\n  }\n});\n\n// node_modules/lodash/isPlainObject.js\nvar require_isPlainObject = __commonJS({\n  \"node_modules/lodash/isPlainObject.js\"(exports, module) {\n    var baseGetTag = require_baseGetTag();\n    var getPrototype = require_getPrototype();\n    var isObjectLike = require_isObjectLike();\n    var objectTag = \"[object Object]\";\n    var funcProto = Function.prototype;\n    var objectProto = Object.prototype;\n    var funcToString = funcProto.toString;\n    var hasOwnProperty2 = objectProto.hasOwnProperty;\n    var objectCtorString = funcToString.call(Object);\n    function isPlainObject2(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty2.call(proto, \"constructor\") && proto.constructor;\n      return typeof Ctor == \"function\" && Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString;\n    }\n    module.exports = isPlainObject2;\n  }\n});\n\n// node_modules/lodash/isBoolean.js\nvar require_isBoolean = __commonJS({\n  \"node_modules/lodash/isBoolean.js\"(exports, module) {\n    var baseGetTag = require_baseGetTag();\n    var isObjectLike = require_isObjectLike();\n    var boolTag = \"[object Boolean]\";\n    function isBoolean2(value) {\n      return value === true || value === false || isObjectLike(value) && baseGetTag(value) == boolTag;\n    }\n    module.exports = isBoolean2;\n  }\n});\n\n// node_modules/lodash/head.js\nvar require_head = __commonJS({\n  \"node_modules/lodash/head.js\"(exports, module) {\n    function head(array2) {\n      return array2 && array2.length ? array2[0] : void 0;\n    }\n    module.exports = head;\n  }\n});\n\n// node_modules/lodash/first.js\nvar require_first = __commonJS({\n  \"node_modules/lodash/first.js\"(exports, module) {\n    module.exports = require_head();\n  }\n});\n\n// node_modules/lodash/_baseRange.js\nvar require_baseRange = __commonJS({\n  \"node_modules/lodash/_baseRange.js\"(exports, module) {\n    var nativeCeil = Math.ceil;\n    var nativeMax = Math.max;\n    function baseRange(start, end, step, fromRight) {\n      var index2 = -1, length = nativeMax(nativeCeil((end - start) / (step || 1)), 0), result = Array(length);\n      while (length--) {\n        result[fromRight ? length : ++index2] = start;\n        start += step;\n      }\n      return result;\n    }\n    module.exports = baseRange;\n  }\n});\n\n// node_modules/lodash/toFinite.js\nvar require_toFinite = __commonJS({\n  \"node_modules/lodash/toFinite.js\"(exports, module) {\n    var toNumber = require_toNumber();\n    var INFINITY = 1 / 0;\n    var MAX_INTEGER = 17976931348623157e292;\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign2 = value < 0 ? -1 : 1;\n        return sign2 * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n    module.exports = toFinite;\n  }\n});\n\n// node_modules/lodash/_createRange.js\nvar require_createRange = __commonJS({\n  \"node_modules/lodash/_createRange.js\"(exports, module) {\n    var baseRange = require_baseRange();\n    var isIterateeCall = require_isIterateeCall();\n    var toFinite = require_toFinite();\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != \"number\" && isIterateeCall(start, end, step)) {\n          end = step = void 0;\n        }\n        start = toFinite(start);\n        if (end === void 0) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === void 0 ? start < end ? 1 : -1 : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n    module.exports = createRange;\n  }\n});\n\n// node_modules/lodash/range.js\nvar require_range = __commonJS({\n  \"node_modules/lodash/range.js\"(exports, module) {\n    var createRange = require_createRange();\n    var range6 = createRange();\n    module.exports = range6;\n  }\n});\n\n// node_modules/lodash/_baseSome.js\nvar require_baseSome = __commonJS({\n  \"node_modules/lodash/_baseSome.js\"(exports, module) {\n    var baseEach = require_baseEach();\n    function baseSome(collection, predicate) {\n      var result;\n      baseEach(collection, function(value, index2, collection2) {\n        result = predicate(value, index2, collection2);\n        return !result;\n      });\n      return !!result;\n    }\n    module.exports = baseSome;\n  }\n});\n\n// node_modules/lodash/some.js\nvar require_some = __commonJS({\n  \"node_modules/lodash/some.js\"(exports, module) {\n    var arraySome = require_arraySome();\n    var baseIteratee = require_baseIteratee();\n    var baseSome = require_baseSome();\n    var isArray2 = require_isArray();\n    var isIterateeCall = require_isIterateeCall();\n    function some3(collection, predicate, guard) {\n      var func = isArray2(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = void 0;\n      }\n      return func(collection, baseIteratee(predicate, 3));\n    }\n    module.exports = some3;\n  }\n});\n\n// node_modules/lodash/_baseAssignValue.js\nvar require_baseAssignValue = __commonJS({\n  \"node_modules/lodash/_baseAssignValue.js\"(exports, module) {\n    var defineProperty = require_defineProperty();\n    function baseAssignValue(object, key, value) {\n      if (key == \"__proto__\" && defineProperty) {\n        defineProperty(object, key, {\n          \"configurable\": true,\n          \"enumerable\": true,\n          \"value\": value,\n          \"writable\": true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n    module.exports = baseAssignValue;\n  }\n});\n\n// node_modules/lodash/mapValues.js\nvar require_mapValues = __commonJS({\n  \"node_modules/lodash/mapValues.js\"(exports, module) {\n    var baseAssignValue = require_baseAssignValue();\n    var baseForOwn = require_baseForOwn();\n    var baseIteratee = require_baseIteratee();\n    function mapValues2(object, iteratee) {\n      var result = {};\n      iteratee = baseIteratee(iteratee, 3);\n      baseForOwn(object, function(value, key, object2) {\n        baseAssignValue(result, key, iteratee(value, key, object2));\n      });\n      return result;\n    }\n    module.exports = mapValues2;\n  }\n});\n\n// node_modules/lodash/_arrayEvery.js\nvar require_arrayEvery = __commonJS({\n  \"node_modules/lodash/_arrayEvery.js\"(exports, module) {\n    function arrayEvery(array2, predicate) {\n      var index2 = -1, length = array2 == null ? 0 : array2.length;\n      while (++index2 < length) {\n        if (!predicate(array2[index2], index2, array2)) {\n          return false;\n        }\n      }\n      return true;\n    }\n    module.exports = arrayEvery;\n  }\n});\n\n// node_modules/lodash/_baseEvery.js\nvar require_baseEvery = __commonJS({\n  \"node_modules/lodash/_baseEvery.js\"(exports, module) {\n    var baseEach = require_baseEach();\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index2, collection2) {\n        result = !!predicate(value, index2, collection2);\n        return result;\n      });\n      return result;\n    }\n    module.exports = baseEvery;\n  }\n});\n\n// node_modules/lodash/every.js\nvar require_every = __commonJS({\n  \"node_modules/lodash/every.js\"(exports, module) {\n    var arrayEvery = require_arrayEvery();\n    var baseEvery = require_baseEvery();\n    var baseIteratee = require_baseIteratee();\n    var isArray2 = require_isArray();\n    var isIterateeCall = require_isIterateeCall();\n    function every4(collection, predicate, guard) {\n      var func = isArray2(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = void 0;\n      }\n      return func(collection, baseIteratee(predicate, 3));\n    }\n    module.exports = every4;\n  }\n});\n\n// node_modules/lodash/_createFind.js\nvar require_createFind = __commonJS({\n  \"node_modules/lodash/_createFind.js\"(exports, module) {\n    var baseIteratee = require_baseIteratee();\n    var isArrayLike = require_isArrayLike();\n    var keys2 = require_keys();\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = baseIteratee(predicate, 3);\n          collection = keys2(collection);\n          predicate = function(key) {\n            return iteratee(iterable[key], key, iterable);\n          };\n        }\n        var index2 = findIndexFunc(collection, predicate, fromIndex);\n        return index2 > -1 ? iterable[iteratee ? collection[index2] : index2] : void 0;\n      };\n    }\n    module.exports = createFind;\n  }\n});\n\n// node_modules/lodash/toInteger.js\nvar require_toInteger = __commonJS({\n  \"node_modules/lodash/toInteger.js\"(exports, module) {\n    var toFinite = require_toFinite();\n    function toInteger(value) {\n      var result = toFinite(value), remainder = result % 1;\n      return result === result ? remainder ? result - remainder : result : 0;\n    }\n    module.exports = toInteger;\n  }\n});\n\n// node_modules/lodash/findIndex.js\nvar require_findIndex = __commonJS({\n  \"node_modules/lodash/findIndex.js\"(exports, module) {\n    var baseFindIndex = require_baseFindIndex();\n    var baseIteratee = require_baseIteratee();\n    var toInteger = require_toInteger();\n    var nativeMax = Math.max;\n    function findIndex(array2, predicate, fromIndex) {\n      var length = array2 == null ? 0 : array2.length;\n      if (!length) {\n        return -1;\n      }\n      var index2 = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index2 < 0) {\n        index2 = nativeMax(length + index2, 0);\n      }\n      return baseFindIndex(array2, baseIteratee(predicate, 3), index2);\n    }\n    module.exports = findIndex;\n  }\n});\n\n// node_modules/lodash/find.js\nvar require_find = __commonJS({\n  \"node_modules/lodash/find.js\"(exports, module) {\n    var createFind = require_createFind();\n    var findIndex = require_findIndex();\n    var find2 = createFind(findIndex);\n    module.exports = find2;\n  }\n});\n\n// node_modules/eventemitter3/index.js\nvar require_eventemitter3 = __commonJS({\n  \"node_modules/eventemitter3/index.js\"(exports, module) {\n    \"use strict\";\n    var has = Object.prototype.hasOwnProperty;\n    var prefix2 = \"~\";\n    function Events() {\n    }\n    if (Object.create) {\n      Events.prototype = /* @__PURE__ */ Object.create(null);\n      if (!new Events().__proto__) prefix2 = false;\n    }\n    function EE(fn, context, once) {\n      this.fn = fn;\n      this.context = context;\n      this.once = once || false;\n    }\n    function addListener(emitter, event, fn, context, once) {\n      if (typeof fn !== \"function\") {\n        throw new TypeError(\"The listener must be a function\");\n      }\n      var listener = new EE(fn, context || emitter, once), evt = prefix2 ? prefix2 + event : event;\n      if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n      else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n      else emitter._events[evt] = [emitter._events[evt], listener];\n      return emitter;\n    }\n    function clearEvent(emitter, evt) {\n      if (--emitter._eventsCount === 0) emitter._events = new Events();\n      else delete emitter._events[evt];\n    }\n    function EventEmitter2() {\n      this._events = new Events();\n      this._eventsCount = 0;\n    }\n    EventEmitter2.prototype.eventNames = function eventNames() {\n      var names = [], events, name;\n      if (this._eventsCount === 0) return names;\n      for (name in events = this._events) {\n        if (has.call(events, name)) names.push(prefix2 ? name.slice(1) : name);\n      }\n      if (Object.getOwnPropertySymbols) {\n        return names.concat(Object.getOwnPropertySymbols(events));\n      }\n      return names;\n    };\n    EventEmitter2.prototype.listeners = function listeners(event) {\n      var evt = prefix2 ? prefix2 + event : event, handlers = this._events[evt];\n      if (!handlers) return [];\n      if (handlers.fn) return [handlers.fn];\n      for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n        ee[i] = handlers[i].fn;\n      }\n      return ee;\n    };\n    EventEmitter2.prototype.listenerCount = function listenerCount(event) {\n      var evt = prefix2 ? prefix2 + event : event, listeners = this._events[evt];\n      if (!listeners) return 0;\n      if (listeners.fn) return 1;\n      return listeners.length;\n    };\n    EventEmitter2.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n      var evt = prefix2 ? prefix2 + event : event;\n      if (!this._events[evt]) return false;\n      var listeners = this._events[evt], len = arguments.length, args, i;\n      if (listeners.fn) {\n        if (listeners.once) this.removeListener(event, listeners.fn, void 0, true);\n        switch (len) {\n          case 1:\n            return listeners.fn.call(listeners.context), true;\n          case 2:\n            return listeners.fn.call(listeners.context, a1), true;\n          case 3:\n            return listeners.fn.call(listeners.context, a1, a2), true;\n          case 4:\n            return listeners.fn.call(listeners.context, a1, a2, a3), true;\n          case 5:\n            return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n          case 6:\n            return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n        }\n        for (i = 1, args = new Array(len - 1); i < len; i++) {\n          args[i - 1] = arguments[i];\n        }\n        listeners.fn.apply(listeners.context, args);\n      } else {\n        var length = listeners.length, j;\n        for (i = 0; i < length; i++) {\n          if (listeners[i].once) this.removeListener(event, listeners[i].fn, void 0, true);\n          switch (len) {\n            case 1:\n              listeners[i].fn.call(listeners[i].context);\n              break;\n            case 2:\n              listeners[i].fn.call(listeners[i].context, a1);\n              break;\n            case 3:\n              listeners[i].fn.call(listeners[i].context, a1, a2);\n              break;\n            case 4:\n              listeners[i].fn.call(listeners[i].context, a1, a2, a3);\n              break;\n            default:\n              if (!args) for (j = 1, args = new Array(len - 1); j < len; j++) {\n                args[j - 1] = arguments[j];\n              }\n              listeners[i].fn.apply(listeners[i].context, args);\n          }\n        }\n      }\n      return true;\n    };\n    EventEmitter2.prototype.on = function on(event, fn, context) {\n      return addListener(this, event, fn, context, false);\n    };\n    EventEmitter2.prototype.once = function once(event, fn, context) {\n      return addListener(this, event, fn, context, true);\n    };\n    EventEmitter2.prototype.removeListener = function removeListener(event, fn, context, once) {\n      var evt = prefix2 ? prefix2 + event : event;\n      if (!this._events[evt]) return this;\n      if (!fn) {\n        clearEvent(this, evt);\n        return this;\n      }\n      var listeners = this._events[evt];\n      if (listeners.fn) {\n        if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) {\n          clearEvent(this, evt);\n        }\n      } else {\n        for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n          if (listeners[i].fn !== fn || once && !listeners[i].once || context && listeners[i].context !== context) {\n            events.push(listeners[i]);\n          }\n        }\n        if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n        else clearEvent(this, evt);\n      }\n      return this;\n    };\n    EventEmitter2.prototype.removeAllListeners = function removeAllListeners(event) {\n      var evt;\n      if (event) {\n        evt = prefix2 ? prefix2 + event : event;\n        if (this._events[evt]) clearEvent(this, evt);\n      } else {\n        this._events = new Events();\n        this._eventsCount = 0;\n      }\n      return this;\n    };\n    EventEmitter2.prototype.off = EventEmitter2.prototype.removeListener;\n    EventEmitter2.prototype.addListener = EventEmitter2.prototype.on;\n    EventEmitter2.prefixed = prefix2;\n    EventEmitter2.EventEmitter = EventEmitter2;\n    if (\"undefined\" !== typeof module) {\n      module.exports = EventEmitter2;\n    }\n  }\n});\n\n// node_modules/lodash/_arrayEach.js\nvar require_arrayEach = __commonJS({\n  \"node_modules/lodash/_arrayEach.js\"(exports, module) {\n    function arrayEach(array2, iteratee) {\n      var index2 = -1, length = array2 == null ? 0 : array2.length;\n      while (++index2 < length) {\n        if (iteratee(array2[index2], index2, array2) === false) {\n          break;\n        }\n      }\n      return array2;\n    }\n    module.exports = arrayEach;\n  }\n});\n\n// node_modules/lodash/_assignValue.js\nvar require_assignValue = __commonJS({\n  \"node_modules/lodash/_assignValue.js\"(exports, module) {\n    var baseAssignValue = require_baseAssignValue();\n    var eq = require_eq();\n    var objectProto = Object.prototype;\n    var hasOwnProperty2 = objectProto.hasOwnProperty;\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty2.call(object, key) && eq(objValue, value)) || value === void 0 && !(key in object)) {\n        baseAssignValue(object, key, value);\n      }\n    }\n    module.exports = assignValue;\n  }\n});\n\n// node_modules/lodash/_copyObject.js\nvar require_copyObject = __commonJS({\n  \"node_modules/lodash/_copyObject.js\"(exports, module) {\n    var assignValue = require_assignValue();\n    var baseAssignValue = require_baseAssignValue();\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n      var index2 = -1, length = props.length;\n      while (++index2 < length) {\n        var key = props[index2];\n        var newValue = customizer ? customizer(object[key], source[key], key, object, source) : void 0;\n        if (newValue === void 0) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n    module.exports = copyObject;\n  }\n});\n\n// node_modules/lodash/_baseAssign.js\nvar require_baseAssign = __commonJS({\n  \"node_modules/lodash/_baseAssign.js\"(exports, module) {\n    var copyObject = require_copyObject();\n    var keys2 = require_keys();\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys2(source), object);\n    }\n    module.exports = baseAssign;\n  }\n});\n\n// node_modules/lodash/_nativeKeysIn.js\nvar require_nativeKeysIn = __commonJS({\n  \"node_modules/lodash/_nativeKeysIn.js\"(exports, module) {\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n    module.exports = nativeKeysIn;\n  }\n});\n\n// node_modules/lodash/_baseKeysIn.js\nvar require_baseKeysIn = __commonJS({\n  \"node_modules/lodash/_baseKeysIn.js\"(exports, module) {\n    var isObject5 = require_isObject();\n    var isPrototype = require_isPrototype();\n    var nativeKeysIn = require_nativeKeysIn();\n    var objectProto = Object.prototype;\n    var hasOwnProperty2 = objectProto.hasOwnProperty;\n    function baseKeysIn(object) {\n      if (!isObject5(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object), result = [];\n      for (var key in object) {\n        if (!(key == \"constructor\" && (isProto || !hasOwnProperty2.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n    module.exports = baseKeysIn;\n  }\n});\n\n// node_modules/lodash/keysIn.js\nvar require_keysIn = __commonJS({\n  \"node_modules/lodash/keysIn.js\"(exports, module) {\n    var arrayLikeKeys = require_arrayLikeKeys();\n    var baseKeysIn = require_baseKeysIn();\n    var isArrayLike = require_isArrayLike();\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n    module.exports = keysIn;\n  }\n});\n\n// node_modules/lodash/_baseAssignIn.js\nvar require_baseAssignIn = __commonJS({\n  \"node_modules/lodash/_baseAssignIn.js\"(exports, module) {\n    var copyObject = require_copyObject();\n    var keysIn = require_keysIn();\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n    module.exports = baseAssignIn;\n  }\n});\n\n// node_modules/lodash/_cloneBuffer.js\nvar require_cloneBuffer = __commonJS({\n  \"node_modules/lodash/_cloneBuffer.js\"(exports, module) {\n    var root = require_root();\n    var freeExports = typeof exports == \"object\" && exports && !exports.nodeType && exports;\n    var freeModule = freeExports && typeof module == \"object\" && module && !module.nodeType && module;\n    var moduleExports = freeModule && freeModule.exports === freeExports;\n    var Buffer = moduleExports ? root.Buffer : void 0;\n    var allocUnsafe = Buffer ? Buffer.allocUnsafe : void 0;\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length, result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n      buffer.copy(result);\n      return result;\n    }\n    module.exports = cloneBuffer;\n  }\n});\n\n// node_modules/lodash/_copyArray.js\nvar require_copyArray = __commonJS({\n  \"node_modules/lodash/_copyArray.js\"(exports, module) {\n    function copyArray(source, array2) {\n      var index2 = -1, length = source.length;\n      array2 || (array2 = Array(length));\n      while (++index2 < length) {\n        array2[index2] = source[index2];\n      }\n      return array2;\n    }\n    module.exports = copyArray;\n  }\n});\n\n// node_modules/lodash/_copySymbols.js\nvar require_copySymbols = __commonJS({\n  \"node_modules/lodash/_copySymbols.js\"(exports, module) {\n    var copyObject = require_copyObject();\n    var getSymbols = require_getSymbols();\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n    module.exports = copySymbols;\n  }\n});\n\n// node_modules/lodash/_getSymbolsIn.js\nvar require_getSymbolsIn = __commonJS({\n  \"node_modules/lodash/_getSymbolsIn.js\"(exports, module) {\n    var arrayPush = require_arrayPush();\n    var getPrototype = require_getPrototype();\n    var getSymbols = require_getSymbols();\n    var stubArray = require_stubArray();\n    var nativeGetSymbols = Object.getOwnPropertySymbols;\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n    module.exports = getSymbolsIn;\n  }\n});\n\n// node_modules/lodash/_copySymbolsIn.js\nvar require_copySymbolsIn = __commonJS({\n  \"node_modules/lodash/_copySymbolsIn.js\"(exports, module) {\n    var copyObject = require_copyObject();\n    var getSymbolsIn = require_getSymbolsIn();\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n    module.exports = copySymbolsIn;\n  }\n});\n\n// node_modules/lodash/_getAllKeysIn.js\nvar require_getAllKeysIn = __commonJS({\n  \"node_modules/lodash/_getAllKeysIn.js\"(exports, module) {\n    var baseGetAllKeys = require_baseGetAllKeys();\n    var getSymbolsIn = require_getSymbolsIn();\n    var keysIn = require_keysIn();\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n    module.exports = getAllKeysIn;\n  }\n});\n\n// node_modules/lodash/_initCloneArray.js\nvar require_initCloneArray = __commonJS({\n  \"node_modules/lodash/_initCloneArray.js\"(exports, module) {\n    var objectProto = Object.prototype;\n    var hasOwnProperty2 = objectProto.hasOwnProperty;\n    function initCloneArray(array2) {\n      var length = array2.length, result = new array2.constructor(length);\n      if (length && typeof array2[0] == \"string\" && hasOwnProperty2.call(array2, \"index\")) {\n        result.index = array2.index;\n        result.input = array2.input;\n      }\n      return result;\n    }\n    module.exports = initCloneArray;\n  }\n});\n\n// node_modules/lodash/_cloneArrayBuffer.js\nvar require_cloneArrayBuffer = __commonJS({\n  \"node_modules/lodash/_cloneArrayBuffer.js\"(exports, module) {\n    var Uint8Array = require_Uint8Array();\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n    module.exports = cloneArrayBuffer;\n  }\n});\n\n// node_modules/lodash/_cloneDataView.js\nvar require_cloneDataView = __commonJS({\n  \"node_modules/lodash/_cloneDataView.js\"(exports, module) {\n    var cloneArrayBuffer = require_cloneArrayBuffer();\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n    module.exports = cloneDataView;\n  }\n});\n\n// node_modules/lodash/_cloneRegExp.js\nvar require_cloneRegExp = __commonJS({\n  \"node_modules/lodash/_cloneRegExp.js\"(exports, module) {\n    var reFlags = /\\w*$/;\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n    module.exports = cloneRegExp;\n  }\n});\n\n// node_modules/lodash/_cloneSymbol.js\nvar require_cloneSymbol = __commonJS({\n  \"node_modules/lodash/_cloneSymbol.js\"(exports, module) {\n    var Symbol3 = require_Symbol();\n    var symbolProto = Symbol3 ? Symbol3.prototype : void 0;\n    var symbolValueOf = symbolProto ? symbolProto.valueOf : void 0;\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n    module.exports = cloneSymbol;\n  }\n});\n\n// node_modules/lodash/_cloneTypedArray.js\nvar require_cloneTypedArray = __commonJS({\n  \"node_modules/lodash/_cloneTypedArray.js\"(exports, module) {\n    var cloneArrayBuffer = require_cloneArrayBuffer();\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n    module.exports = cloneTypedArray;\n  }\n});\n\n// node_modules/lodash/_initCloneByTag.js\nvar require_initCloneByTag = __commonJS({\n  \"node_modules/lodash/_initCloneByTag.js\"(exports, module) {\n    var cloneArrayBuffer = require_cloneArrayBuffer();\n    var cloneDataView = require_cloneDataView();\n    var cloneRegExp = require_cloneRegExp();\n    var cloneSymbol = require_cloneSymbol();\n    var cloneTypedArray = require_cloneTypedArray();\n    var boolTag = \"[object Boolean]\";\n    var dateTag = \"[object Date]\";\n    var mapTag = \"[object Map]\";\n    var numberTag = \"[object Number]\";\n    var regexpTag = \"[object RegExp]\";\n    var setTag = \"[object Set]\";\n    var stringTag = \"[object String]\";\n    var symbolTag = \"[object Symbol]\";\n    var arrayBufferTag = \"[object ArrayBuffer]\";\n    var dataViewTag = \"[object DataView]\";\n    var float32Tag = \"[object Float32Array]\";\n    var float64Tag = \"[object Float64Array]\";\n    var int8Tag = \"[object Int8Array]\";\n    var int16Tag = \"[object Int16Array]\";\n    var int32Tag = \"[object Int32Array]\";\n    var uint8Tag = \"[object Uint8Array]\";\n    var uint8ClampedTag = \"[object Uint8ClampedArray]\";\n    var uint16Tag = \"[object Uint16Array]\";\n    var uint32Tag = \"[object Uint32Array]\";\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n        case float32Tag:\n        case float64Tag:\n        case int8Tag:\n        case int16Tag:\n        case int32Tag:\n        case uint8Tag:\n        case uint8ClampedTag:\n        case uint16Tag:\n        case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n        case mapTag:\n          return new Ctor();\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n        case regexpTag:\n          return cloneRegExp(object);\n        case setTag:\n          return new Ctor();\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n    module.exports = initCloneByTag;\n  }\n});\n\n// node_modules/lodash/_baseCreate.js\nvar require_baseCreate = __commonJS({\n  \"node_modules/lodash/_baseCreate.js\"(exports, module) {\n    var isObject5 = require_isObject();\n    var objectCreate = Object.create;\n    var baseCreate = /* @__PURE__ */ (function() {\n      function object() {\n      }\n      return function(proto) {\n        if (!isObject5(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object();\n        object.prototype = void 0;\n        return result;\n      };\n    })();\n    module.exports = baseCreate;\n  }\n});\n\n// node_modules/lodash/_initCloneObject.js\nvar require_initCloneObject = __commonJS({\n  \"node_modules/lodash/_initCloneObject.js\"(exports, module) {\n    var baseCreate = require_baseCreate();\n    var getPrototype = require_getPrototype();\n    var isPrototype = require_isPrototype();\n    function initCloneObject(object) {\n      return typeof object.constructor == \"function\" && !isPrototype(object) ? baseCreate(getPrototype(object)) : {};\n    }\n    module.exports = initCloneObject;\n  }\n});\n\n// node_modules/lodash/_baseIsMap.js\nvar require_baseIsMap = __commonJS({\n  \"node_modules/lodash/_baseIsMap.js\"(exports, module) {\n    var getTag2 = require_getTag();\n    var isObjectLike = require_isObjectLike();\n    var mapTag = \"[object Map]\";\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag2(value) == mapTag;\n    }\n    module.exports = baseIsMap;\n  }\n});\n\n// node_modules/lodash/isMap.js\nvar require_isMap = __commonJS({\n  \"node_modules/lodash/isMap.js\"(exports, module) {\n    var baseIsMap = require_baseIsMap();\n    var baseUnary = require_baseUnary();\n    var nodeUtil = require_nodeUtil();\n    var nodeIsMap = nodeUtil && nodeUtil.isMap;\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n    module.exports = isMap;\n  }\n});\n\n// node_modules/lodash/_baseIsSet.js\nvar require_baseIsSet = __commonJS({\n  \"node_modules/lodash/_baseIsSet.js\"(exports, module) {\n    var getTag2 = require_getTag();\n    var isObjectLike = require_isObjectLike();\n    var setTag = \"[object Set]\";\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag2(value) == setTag;\n    }\n    module.exports = baseIsSet;\n  }\n});\n\n// node_modules/lodash/isSet.js\nvar require_isSet = __commonJS({\n  \"node_modules/lodash/isSet.js\"(exports, module) {\n    var baseIsSet = require_baseIsSet();\n    var baseUnary = require_baseUnary();\n    var nodeUtil = require_nodeUtil();\n    var nodeIsSet = nodeUtil && nodeUtil.isSet;\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n    module.exports = isSet;\n  }\n});\n\n// node_modules/lodash/_baseClone.js\nvar require_baseClone = __commonJS({\n  \"node_modules/lodash/_baseClone.js\"(exports, module) {\n    var Stack = require_Stack();\n    var arrayEach = require_arrayEach();\n    var assignValue = require_assignValue();\n    var baseAssign = require_baseAssign();\n    var baseAssignIn = require_baseAssignIn();\n    var cloneBuffer = require_cloneBuffer();\n    var copyArray = require_copyArray();\n    var copySymbols = require_copySymbols();\n    var copySymbolsIn = require_copySymbolsIn();\n    var getAllKeys = require_getAllKeys();\n    var getAllKeysIn = require_getAllKeysIn();\n    var getTag2 = require_getTag();\n    var initCloneArray = require_initCloneArray();\n    var initCloneByTag = require_initCloneByTag();\n    var initCloneObject = require_initCloneObject();\n    var isArray2 = require_isArray();\n    var isBuffer = require_isBuffer();\n    var isMap = require_isMap();\n    var isObject5 = require_isObject();\n    var isSet = require_isSet();\n    var keys2 = require_keys();\n    var keysIn = require_keysIn();\n    var CLONE_DEEP_FLAG = 1;\n    var CLONE_FLAT_FLAG = 2;\n    var CLONE_SYMBOLS_FLAG = 4;\n    var argsTag = \"[object Arguments]\";\n    var arrayTag = \"[object Array]\";\n    var boolTag = \"[object Boolean]\";\n    var dateTag = \"[object Date]\";\n    var errorTag = \"[object Error]\";\n    var funcTag = \"[object Function]\";\n    var genTag = \"[object GeneratorFunction]\";\n    var mapTag = \"[object Map]\";\n    var numberTag = \"[object Number]\";\n    var objectTag = \"[object Object]\";\n    var regexpTag = \"[object RegExp]\";\n    var setTag = \"[object Set]\";\n    var stringTag = \"[object String]\";\n    var symbolTag = \"[object Symbol]\";\n    var weakMapTag = \"[object WeakMap]\";\n    var arrayBufferTag = \"[object ArrayBuffer]\";\n    var dataViewTag = \"[object DataView]\";\n    var float32Tag = \"[object Float32Array]\";\n    var float64Tag = \"[object Float64Array]\";\n    var int8Tag = \"[object Int8Array]\";\n    var int16Tag = \"[object Int16Array]\";\n    var int32Tag = \"[object Int32Array]\";\n    var uint8Tag = \"[object Uint8Array]\";\n    var uint8ClampedTag = \"[object Uint8ClampedArray]\";\n    var uint16Tag = \"[object Uint16Array]\";\n    var uint32Tag = \"[object Uint32Array]\";\n    var cloneableTags = {};\n    cloneableTags[argsTag] = cloneableTags[arrayTag] = cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] = cloneableTags[boolTag] = cloneableTags[dateTag] = cloneableTags[float32Tag] = cloneableTags[float64Tag] = cloneableTags[int8Tag] = cloneableTags[int16Tag] = cloneableTags[int32Tag] = cloneableTags[mapTag] = cloneableTags[numberTag] = cloneableTags[objectTag] = cloneableTags[regexpTag] = cloneableTags[setTag] = cloneableTags[stringTag] = cloneableTags[symbolTag] = cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] = cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n    cloneableTags[errorTag] = cloneableTags[funcTag] = cloneableTags[weakMapTag] = false;\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result, isDeep = bitmask & CLONE_DEEP_FLAG, isFlat = bitmask & CLONE_FLAT_FLAG, isFull = bitmask & CLONE_SYMBOLS_FLAG;\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== void 0) {\n        return result;\n      }\n      if (!isObject5(value)) {\n        return value;\n      }\n      var isArr = isArray2(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag2(value), isFunc = tag == funcTag || tag == genTag;\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || isFunc && !object) {\n          result = isFlat || isFunc ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat ? copySymbolsIn(value, baseAssignIn(result, value)) : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      stack || (stack = new Stack());\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key2) {\n          result.set(key2, baseClone(subValue, bitmask, customizer, key2, value, stack));\n        });\n      }\n      var keysFunc = isFull ? isFlat ? getAllKeysIn : getAllKeys : isFlat ? keysIn : keys2;\n      var props = isArr ? void 0 : keysFunc(value);\n      arrayEach(props || value, function(subValue, key2) {\n        if (props) {\n          key2 = subValue;\n          subValue = value[key2];\n        }\n        assignValue(result, key2, baseClone(subValue, bitmask, customizer, key2, value, stack));\n      });\n      return result;\n    }\n    module.exports = baseClone;\n  }\n});\n\n// node_modules/lodash/_parent.js\nvar require_parent = __commonJS({\n  \"node_modules/lodash/_parent.js\"(exports, module) {\n    var baseGet = require_baseGet();\n    var baseSlice = require_baseSlice();\n    function parent(object, path2) {\n      return path2.length < 2 ? object : baseGet(object, baseSlice(path2, 0, -1));\n    }\n    module.exports = parent;\n  }\n});\n\n// node_modules/lodash/_baseUnset.js\nvar require_baseUnset = __commonJS({\n  \"node_modules/lodash/_baseUnset.js\"(exports, module) {\n    var castPath = require_castPath();\n    var last3 = require_last();\n    var parent = require_parent();\n    var toKey = require_toKey();\n    function baseUnset(object, path2) {\n      path2 = castPath(path2, object);\n      object = parent(object, path2);\n      return object == null || delete object[toKey(last3(path2))];\n    }\n    module.exports = baseUnset;\n  }\n});\n\n// node_modules/lodash/_customOmitClone.js\nvar require_customOmitClone = __commonJS({\n  \"node_modules/lodash/_customOmitClone.js\"(exports, module) {\n    var isPlainObject2 = require_isPlainObject();\n    function customOmitClone(value) {\n      return isPlainObject2(value) ? void 0 : value;\n    }\n    module.exports = customOmitClone;\n  }\n});\n\n// node_modules/lodash/flatten.js\nvar require_flatten = __commonJS({\n  \"node_modules/lodash/flatten.js\"(exports, module) {\n    var baseFlatten = require_baseFlatten();\n    function flatten(array2) {\n      var length = array2 == null ? 0 : array2.length;\n      return length ? baseFlatten(array2, 1) : [];\n    }\n    module.exports = flatten;\n  }\n});\n\n// node_modules/lodash/_flatRest.js\nvar require_flatRest = __commonJS({\n  \"node_modules/lodash/_flatRest.js\"(exports, module) {\n    var flatten = require_flatten();\n    var overRest = require_overRest();\n    var setToString = require_setToString();\n    function flatRest(func) {\n      return setToString(overRest(func, void 0, flatten), func + \"\");\n    }\n    module.exports = flatRest;\n  }\n});\n\n// node_modules/lodash/omit.js\nvar require_omit = __commonJS({\n  \"node_modules/lodash/omit.js\"(exports, module) {\n    var arrayMap = require_arrayMap();\n    var baseClone = require_baseClone();\n    var baseUnset = require_baseUnset();\n    var castPath = require_castPath();\n    var copyObject = require_copyObject();\n    var customOmitClone = require_customOmitClone();\n    var flatRest = require_flatRest();\n    var getAllKeysIn = require_getAllKeysIn();\n    var CLONE_DEEP_FLAG = 1;\n    var CLONE_FLAT_FLAG = 2;\n    var CLONE_SYMBOLS_FLAG = 4;\n    var omit3 = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path2) {\n        path2 = castPath(path2, object);\n        isDeep || (isDeep = path2.length > 1);\n        return path2;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n    module.exports = omit3;\n  }\n});\n\n// node_modules/lodash/_baseSum.js\nvar require_baseSum = __commonJS({\n  \"node_modules/lodash/_baseSum.js\"(exports, module) {\n    function baseSum(array2, iteratee) {\n      var result, index2 = -1, length = array2.length;\n      while (++index2 < length) {\n        var current = iteratee(array2[index2]);\n        if (current !== void 0) {\n          result = result === void 0 ? current : result + current;\n        }\n      }\n      return result;\n    }\n    module.exports = baseSum;\n  }\n});\n\n// node_modules/lodash/sumBy.js\nvar require_sumBy = __commonJS({\n  \"node_modules/lodash/sumBy.js\"(exports, module) {\n    var baseIteratee = require_baseIteratee();\n    var baseSum = require_baseSum();\n    function sumBy2(array2, iteratee) {\n      return array2 && array2.length ? baseSum(array2, baseIteratee(iteratee, 2)) : 0;\n    }\n    module.exports = sumBy2;\n  }\n});\n\n// node_modules/recharts/es6/container/Surface.js\nvar import_react3 = __toESM(require_react());\n\n// node_modules/recharts/es6/util/ReactUtils.js\nvar import_get2 = __toESM(require_get());\nvar import_isNil2 = __toESM(require_isNil());\nvar import_isString2 = __toESM(require_isString());\nvar import_isFunction = __toESM(require_isFunction());\nvar import_isObject2 = __toESM(require_isObject());\nvar import_react2 = __toESM(require_react());\nvar import_react_is = __toESM(require_react_is());\n\n// node_modules/recharts/es6/util/DataUtils.js\nvar import_isString = __toESM(require_isString());\nvar import_isNaN = __toESM(require_isNaN());\nvar import_get = __toESM(require_get());\nvar import_isNumber = __toESM(require_isNumber());\nvar import_isNil = __toESM(require_isNil());\nvar mathSign = function mathSign2(value) {\n  if (value === 0) {\n    return 0;\n  }\n  if (value > 0) {\n    return 1;\n  }\n  return -1;\n};\nvar isPercent = function isPercent2(value) {\n  return (0, import_isString.default)(value) && value.indexOf(\"%\") === value.length - 1;\n};\nvar isNumber = function isNumber2(value) {\n  return (0, import_isNumber.default)(value) && !(0, import_isNaN.default)(value);\n};\nvar isNullish = function isNullish2(value) {\n  return (0, import_isNil.default)(value);\n};\nvar isNumOrStr = function isNumOrStr2(value) {\n  return isNumber(value) || (0, import_isString.default)(value);\n};\nvar idCounter = 0;\nvar uniqueId = function uniqueId2(prefix2) {\n  var id = ++idCounter;\n  return \"\".concat(prefix2 || \"\").concat(id);\n};\nvar getPercentValue = function getPercentValue2(percent, totalValue) {\n  var defaultValue = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n  var validate = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : false;\n  if (!isNumber(percent) && !(0, import_isString.default)(percent)) {\n    return defaultValue;\n  }\n  var value;\n  if (isPercent(percent)) {\n    var index2 = percent.indexOf(\"%\");\n    value = totalValue * parseFloat(percent.slice(0, index2)) / 100;\n  } else {\n    value = +percent;\n  }\n  if ((0, import_isNaN.default)(value)) {\n    value = defaultValue;\n  }\n  if (validate && value > totalValue) {\n    value = totalValue;\n  }\n  return value;\n};\nvar getAnyElementOfObject = function getAnyElementOfObject2(obj) {\n  if (!obj) {\n    return null;\n  }\n  var keys2 = Object.keys(obj);\n  if (keys2 && keys2.length) {\n    return obj[keys2[0]];\n  }\n  return null;\n};\nvar hasDuplicate = function hasDuplicate2(ary) {\n  if (!Array.isArray(ary)) {\n    return false;\n  }\n  var len = ary.length;\n  var cache = {};\n  for (var i = 0; i < len; i++) {\n    if (!cache[ary[i]]) {\n      cache[ary[i]] = true;\n    } else {\n      return true;\n    }\n  }\n  return false;\n};\nvar interpolateNumber = function interpolateNumber2(numberA, numberB) {\n  if (isNumber(numberA) && isNumber(numberB)) {\n    return function(t) {\n      return numberA + t * (numberB - numberA);\n    };\n  }\n  return function() {\n    return numberB;\n  };\n};\nfunction findEntryInArray(ary, specifiedKey, specifiedValue) {\n  if (!ary || !ary.length) {\n    return null;\n  }\n  return ary.find(function(entry) {\n    return entry && (typeof specifiedKey === \"function\" ? specifiedKey(entry) : (0, import_get.default)(entry, specifiedKey)) === specifiedValue;\n  });\n}\nvar getLinearRegression = function getLinearRegression2(data) {\n  if (!data || !data.length) {\n    return null;\n  }\n  var len = data.length;\n  var xsum = 0;\n  var ysum = 0;\n  var xysum = 0;\n  var xxsum = 0;\n  var xmin = Infinity;\n  var xmax = -Infinity;\n  var xcurrent = 0;\n  var ycurrent = 0;\n  for (var i = 0; i < len; i++) {\n    xcurrent = data[i].cx || 0;\n    ycurrent = data[i].cy || 0;\n    xsum += xcurrent;\n    ysum += ycurrent;\n    xysum += xcurrent * ycurrent;\n    xxsum += xcurrent * xcurrent;\n    xmin = Math.min(xmin, xcurrent);\n    xmax = Math.max(xmax, xcurrent);\n  }\n  var a2 = len * xxsum !== xsum * xsum ? (len * xysum - xsum * ysum) / (len * xxsum - xsum * xsum) : 0;\n  return {\n    xmin,\n    xmax,\n    a: a2,\n    b: (ysum - a2 * xsum) / len\n  };\n};\nvar compareValues = function compareValues2(a2, b) {\n  if (isNumber(a2) && isNumber(b)) {\n    return a2 - b;\n  }\n  if ((0, import_isString.default)(a2) && (0, import_isString.default)(b)) {\n    return a2.localeCompare(b);\n  }\n  if (a2 instanceof Date && b instanceof Date) {\n    return a2.getTime() - b.getTime();\n  }\n  return String(a2).localeCompare(String(b));\n};\n\n// node_modules/recharts/es6/util/ShallowEqual.js\nfunction shallowEqual(a2, b) {\n  for (var key in a2) {\n    if ({}.hasOwnProperty.call(a2, key) && (!{}.hasOwnProperty.call(b, key) || a2[key] !== b[key])) {\n      return false;\n    }\n  }\n  for (var _key in b) {\n    if ({}.hasOwnProperty.call(b, _key) && !{}.hasOwnProperty.call(a2, _key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// node_modules/recharts/es6/util/types.js\nvar import_react = __toESM(require_react());\nvar import_isObject = __toESM(require_isObject());\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(o2) {\n    return typeof o2;\n  } : function(o2) {\n    return o2 && \"function\" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? \"symbol\" : typeof o2;\n  }, _typeof(o);\n}\nvar SVGContainerPropKeys = [\"viewBox\", \"children\"];\nvar SVGElementPropKeys = [\n  \"aria-activedescendant\",\n  \"aria-atomic\",\n  \"aria-autocomplete\",\n  \"aria-busy\",\n  \"aria-checked\",\n  \"aria-colcount\",\n  \"aria-colindex\",\n  \"aria-colspan\",\n  \"aria-controls\",\n  \"aria-current\",\n  \"aria-describedby\",\n  \"aria-details\",\n  \"aria-disabled\",\n  \"aria-errormessage\",\n  \"aria-expanded\",\n  \"aria-flowto\",\n  \"aria-haspopup\",\n  \"aria-hidden\",\n  \"aria-invalid\",\n  \"aria-keyshortcuts\",\n  \"aria-label\",\n  \"aria-labelledby\",\n  \"aria-level\",\n  \"aria-live\",\n  \"aria-modal\",\n  \"aria-multiline\",\n  \"aria-multiselectable\",\n  \"aria-orientation\",\n  \"aria-owns\",\n  \"aria-placeholder\",\n  \"aria-posinset\",\n  \"aria-pressed\",\n  \"aria-readonly\",\n  \"aria-relevant\",\n  \"aria-required\",\n  \"aria-roledescription\",\n  \"aria-rowcount\",\n  \"aria-rowindex\",\n  \"aria-rowspan\",\n  \"aria-selected\",\n  \"aria-setsize\",\n  \"aria-sort\",\n  \"aria-valuemax\",\n  \"aria-valuemin\",\n  \"aria-valuenow\",\n  \"aria-valuetext\",\n  \"className\",\n  \"color\",\n  \"height\",\n  \"id\",\n  \"lang\",\n  \"max\",\n  \"media\",\n  \"method\",\n  \"min\",\n  \"name\",\n  \"style\",\n  /*\n   * removed 'type' SVGElementPropKey because we do not currently use any SVG elements\n   * that can use it and it conflicts with the recharts prop 'type'\n   * https://github.com/recharts/recharts/pull/3327\n   * https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/type\n   */\n  // 'type',\n  \"target\",\n  \"width\",\n  \"role\",\n  \"tabIndex\",\n  \"accentHeight\",\n  \"accumulate\",\n  \"additive\",\n  \"alignmentBaseline\",\n  \"allowReorder\",\n  \"alphabetic\",\n  \"amplitude\",\n  \"arabicForm\",\n  \"ascent\",\n  \"attributeName\",\n  \"attributeType\",\n  \"autoReverse\",\n  \"azimuth\",\n  \"baseFrequency\",\n  \"baselineShift\",\n  \"baseProfile\",\n  \"bbox\",\n  \"begin\",\n  \"bias\",\n  \"by\",\n  \"calcMode\",\n  \"capHeight\",\n  \"clip\",\n  \"clipPath\",\n  \"clipPathUnits\",\n  \"clipRule\",\n  \"colorInterpolation\",\n  \"colorInterpolationFilters\",\n  \"colorProfile\",\n  \"colorRendering\",\n  \"contentScriptType\",\n  \"contentStyleType\",\n  \"cursor\",\n  \"cx\",\n  \"cy\",\n  \"d\",\n  \"decelerate\",\n  \"descent\",\n  \"diffuseConstant\",\n  \"direction\",\n  \"display\",\n  \"divisor\",\n  \"dominantBaseline\",\n  \"dur\",\n  \"dx\",\n  \"dy\",\n  \"edgeMode\",\n  \"elevation\",\n  \"enableBackground\",\n  \"end\",\n  \"exponent\",\n  \"externalResourcesRequired\",\n  \"fill\",\n  \"fillOpacity\",\n  \"fillRule\",\n  \"filter\",\n  \"filterRes\",\n  \"filterUnits\",\n  \"floodColor\",\n  \"floodOpacity\",\n  \"focusable\",\n  \"fontFamily\",\n  \"fontSize\",\n  \"fontSizeAdjust\",\n  \"fontStretch\",\n  \"fontStyle\",\n  \"fontVariant\",\n  \"fontWeight\",\n  \"format\",\n  \"from\",\n  \"fx\",\n  \"fy\",\n  \"g1\",\n  \"g2\",\n  \"glyphName\",\n  \"glyphOrientationHorizontal\",\n  \"glyphOrientationVertical\",\n  \"glyphRef\",\n  \"gradientTransform\",\n  \"gradientUnits\",\n  \"hanging\",\n  \"horizAdvX\",\n  \"horizOriginX\",\n  \"href\",\n  \"ideographic\",\n  \"imageRendering\",\n  \"in2\",\n  \"in\",\n  \"intercept\",\n  \"k1\",\n  \"k2\",\n  \"k3\",\n  \"k4\",\n  \"k\",\n  \"kernelMatrix\",\n  \"kernelUnitLength\",\n  \"kerning\",\n  \"keyPoints\",\n  \"keySplines\",\n  \"keyTimes\",\n  \"lengthAdjust\",\n  \"letterSpacing\",\n  \"lightingColor\",\n  \"limitingConeAngle\",\n  \"local\",\n  \"markerEnd\",\n  \"markerHeight\",\n  \"markerMid\",\n  \"markerStart\",\n  \"markerUnits\",\n  \"markerWidth\",\n  \"mask\",\n  \"maskContentUnits\",\n  \"maskUnits\",\n  \"mathematical\",\n  \"mode\",\n  \"numOctaves\",\n  \"offset\",\n  \"opacity\",\n  \"operator\",\n  \"order\",\n  \"orient\",\n  \"orientation\",\n  \"origin\",\n  \"overflow\",\n  \"overlinePosition\",\n  \"overlineThickness\",\n  \"paintOrder\",\n  \"panose1\",\n  \"pathLength\",\n  \"patternContentUnits\",\n  \"patternTransform\",\n  \"patternUnits\",\n  \"pointerEvents\",\n  \"pointsAtX\",\n  \"pointsAtY\",\n  \"pointsAtZ\",\n  \"preserveAlpha\",\n  \"preserveAspectRatio\",\n  \"primitiveUnits\",\n  \"r\",\n  \"radius\",\n  \"refX\",\n  \"refY\",\n  \"renderingIntent\",\n  \"repeatCount\",\n  \"repeatDur\",\n  \"requiredExtensions\",\n  \"requiredFeatures\",\n  \"restart\",\n  \"result\",\n  \"rotate\",\n  \"rx\",\n  \"ry\",\n  \"seed\",\n  \"shapeRendering\",\n  \"slope\",\n  \"spacing\",\n  \"specularConstant\",\n  \"specularExponent\",\n  \"speed\",\n  \"spreadMethod\",\n  \"startOffset\",\n  \"stdDeviation\",\n  \"stemh\",\n  \"stemv\",\n  \"stitchTiles\",\n  \"stopColor\",\n  \"stopOpacity\",\n  \"strikethroughPosition\",\n  \"strikethroughThickness\",\n  \"string\",\n  \"stroke\",\n  \"strokeDasharray\",\n  \"strokeDashoffset\",\n  \"strokeLinecap\",\n  \"strokeLinejoin\",\n  \"strokeMiterlimit\",\n  \"strokeOpacity\",\n  \"strokeWidth\",\n  \"surfaceScale\",\n  \"systemLanguage\",\n  \"tableValues\",\n  \"targetX\",\n  \"targetY\",\n  \"textAnchor\",\n  \"textDecoration\",\n  \"textLength\",\n  \"textRendering\",\n  \"to\",\n  \"transform\",\n  \"u1\",\n  \"u2\",\n  \"underlinePosition\",\n  \"underlineThickness\",\n  \"unicode\",\n  \"unicodeBidi\",\n  \"unicodeRange\",\n  \"unitsPerEm\",\n  \"vAlphabetic\",\n  \"values\",\n  \"vectorEffect\",\n  \"version\",\n  \"vertAdvY\",\n  \"vertOriginX\",\n  \"vertOriginY\",\n  \"vHanging\",\n  \"vIdeographic\",\n  \"viewTarget\",\n  \"visibility\",\n  \"vMathematical\",\n  \"widths\",\n  \"wordSpacing\",\n  \"writingMode\",\n  \"x1\",\n  \"x2\",\n  \"x\",\n  \"xChannelSelector\",\n  \"xHeight\",\n  \"xlinkActuate\",\n  \"xlinkArcrole\",\n  \"xlinkHref\",\n  \"xlinkRole\",\n  \"xlinkShow\",\n  \"xlinkTitle\",\n  \"xlinkType\",\n  \"xmlBase\",\n  \"xmlLang\",\n  \"xmlns\",\n  \"xmlnsXlink\",\n  \"xmlSpace\",\n  \"y1\",\n  \"y2\",\n  \"y\",\n  \"yChannelSelector\",\n  \"z\",\n  \"zoomAndPan\",\n  \"ref\",\n  \"key\",\n  \"angle\"\n];\nvar PolyElementKeys = [\"points\", \"pathLength\"];\nvar FilteredElementKeyMap = {\n  svg: SVGContainerPropKeys,\n  polygon: PolyElementKeys,\n  polyline: PolyElementKeys\n};\nvar EventKeys = [\"dangerouslySetInnerHTML\", \"onCopy\", \"onCopyCapture\", \"onCut\", \"onCutCapture\", \"onPaste\", \"onPasteCapture\", \"onCompositionEnd\", \"onCompositionEndCapture\", \"onCompositionStart\", \"onCompositionStartCapture\", \"onCompositionUpdate\", \"onCompositionUpdateCapture\", \"onFocus\", \"onFocusCapture\", \"onBlur\", \"onBlurCapture\", \"onChange\", \"onChangeCapture\", \"onBeforeInput\", \"onBeforeInputCapture\", \"onInput\", \"onInputCapture\", \"onReset\", \"onResetCapture\", \"onSubmit\", \"onSubmitCapture\", \"onInvalid\", \"onInvalidCapture\", \"onLoad\", \"onLoadCapture\", \"onError\", \"onErrorCapture\", \"onKeyDown\", \"onKeyDownCapture\", \"onKeyPress\", \"onKeyPressCapture\", \"onKeyUp\", \"onKeyUpCapture\", \"onAbort\", \"onAbortCapture\", \"onCanPlay\", \"onCanPlayCapture\", \"onCanPlayThrough\", \"onCanPlayThroughCapture\", \"onDurationChange\", \"onDurationChangeCapture\", \"onEmptied\", \"onEmptiedCapture\", \"onEncrypted\", \"onEncryptedCapture\", \"onEnded\", \"onEndedCapture\", \"onLoadedData\", \"onLoadedDataCapture\", \"onLoadedMetadata\", \"onLoadedMetadataCapture\", \"onLoadStart\", \"onLoadStartCapture\", \"onPause\", \"onPauseCapture\", \"onPlay\", \"onPlayCapture\", \"onPlaying\", \"onPlayingCapture\", \"onProgress\", \"onProgressCapture\", \"onRateChange\", \"onRateChangeCapture\", \"onSeeked\", \"onSeekedCapture\", \"onSeeking\", \"onSeekingCapture\", \"onStalled\", \"onStalledCapture\", \"onSuspend\", \"onSuspendCapture\", \"onTimeUpdate\", \"onTimeUpdateCapture\", \"onVolumeChange\", \"onVolumeChangeCapture\", \"onWaiting\", \"onWaitingCapture\", \"onAuxClick\", \"onAuxClickCapture\", \"onClick\", \"onClickCapture\", \"onContextMenu\", \"onContextMenuCapture\", \"onDoubleClick\", \"onDoubleClickCapture\", \"onDrag\", \"onDragCapture\", \"onDragEnd\", \"onDragEndCapture\", \"onDragEnter\", \"onDragEnterCapture\", \"onDragExit\", \"onDragExitCapture\", \"onDragLeave\", \"onDragLeaveCapture\", \"onDragOver\", \"onDragOverCapture\", \"onDragStart\", \"onDragStartCapture\", \"onDrop\", \"onDropCapture\", \"onMouseDown\", \"onMouseDownCapture\", \"onMouseEnter\", \"onMouseLeave\", \"onMouseMove\", \"onMouseMoveCapture\", \"onMouseOut\", \"onMouseOutCapture\", \"onMouseOver\", \"onMouseOverCapture\", \"onMouseUp\", \"onMouseUpCapture\", \"onSelect\", \"onSelectCapture\", \"onTouchCancel\", \"onTouchCancelCapture\", \"onTouchEnd\", \"onTouchEndCapture\", \"onTouchMove\", \"onTouchMoveCapture\", \"onTouchStart\", \"onTouchStartCapture\", \"onPointerDown\", \"onPointerDownCapture\", \"onPointerMove\", \"onPointerMoveCapture\", \"onPointerUp\", \"onPointerUpCapture\", \"onPointerCancel\", \"onPointerCancelCapture\", \"onPointerEnter\", \"onPointerEnterCapture\", \"onPointerLeave\", \"onPointerLeaveCapture\", \"onPointerOver\", \"onPointerOverCapture\", \"onPointerOut\", \"onPointerOutCapture\", \"onGotPointerCapture\", \"onGotPointerCaptureCapture\", \"onLostPointerCapture\", \"onLostPointerCaptureCapture\", \"onScroll\", \"onScrollCapture\", \"onWheel\", \"onWheelCapture\", \"onAnimationStart\", \"onAnimationStartCapture\", \"onAnimationEnd\", \"onAnimationEndCapture\", \"onAnimationIteration\", \"onAnimationIterationCapture\", \"onTransitionEnd\", \"onTransitionEndCapture\"];\nvar adaptEventHandlers = function adaptEventHandlers2(props, newHandler) {\n  if (!props || typeof props === \"function\" || typeof props === \"boolean\") {\n    return null;\n  }\n  var inputProps = props;\n  if ((0, import_react.isValidElement)(props)) {\n    inputProps = props.props;\n  }\n  if (!(0, import_isObject.default)(inputProps)) {\n    return null;\n  }\n  var out = {};\n  Object.keys(inputProps).forEach(function(key) {\n    if (EventKeys.includes(key)) {\n      out[key] = newHandler || function(e) {\n        return inputProps[key](inputProps, e);\n      };\n    }\n  });\n  return out;\n};\nvar getEventHandlerOfChild = function getEventHandlerOfChild2(originalHandler, data, index2) {\n  return function(e) {\n    originalHandler(data, index2, e);\n    return null;\n  };\n};\nvar adaptEventsOfChild = function adaptEventsOfChild2(props, data, index2) {\n  if (!(0, import_isObject.default)(props) || _typeof(props) !== \"object\") {\n    return null;\n  }\n  var out = null;\n  Object.keys(props).forEach(function(key) {\n    var item = props[key];\n    if (EventKeys.includes(key) && typeof item === \"function\") {\n      if (!out) out = {};\n      out[key] = getEventHandlerOfChild(item, data, index2);\n    }\n  });\n  return out;\n};\n\n// node_modules/recharts/es6/util/ReactUtils.js\nvar _excluded = [\"children\"];\nvar _excluded2 = [\"children\"];\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  for (var key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _typeof2(o) {\n  \"@babel/helpers - typeof\";\n  return _typeof2 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(o2) {\n    return typeof o2;\n  } : function(o2) {\n    return o2 && \"function\" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? \"symbol\" : typeof o2;\n  }, _typeof2(o);\n}\nvar REACT_BROWSER_EVENT_MAP = {\n  click: \"onClick\",\n  mousedown: \"onMouseDown\",\n  mouseup: \"onMouseUp\",\n  mouseover: \"onMouseOver\",\n  mousemove: \"onMouseMove\",\n  mouseout: \"onMouseOut\",\n  mouseenter: \"onMouseEnter\",\n  mouseleave: \"onMouseLeave\",\n  touchcancel: \"onTouchCancel\",\n  touchend: \"onTouchEnd\",\n  touchmove: \"onTouchMove\",\n  touchstart: \"onTouchStart\",\n  contextmenu: \"onContextMenu\",\n  dblclick: \"onDoubleClick\"\n};\nvar getDisplayName = function getDisplayName2(Comp) {\n  if (typeof Comp === \"string\") {\n    return Comp;\n  }\n  if (!Comp) {\n    return \"\";\n  }\n  return Comp.displayName || Comp.name || \"Component\";\n};\nvar lastChildren = null;\nvar lastResult = null;\nvar toArray = function toArray2(children2) {\n  if (children2 === lastChildren && Array.isArray(lastResult)) {\n    return lastResult;\n  }\n  var result = [];\n  import_react2.Children.forEach(children2, function(child) {\n    if ((0, import_isNil2.default)(child)) return;\n    if ((0, import_react_is.isFragment)(child)) {\n      result = result.concat(toArray2(child.props.children));\n    } else {\n      result.push(child);\n    }\n  });\n  lastResult = result;\n  lastChildren = children2;\n  return result;\n};\nfunction findAllByType(children2, type) {\n  var result = [];\n  var types = [];\n  if (Array.isArray(type)) {\n    types = type.map(function(t) {\n      return getDisplayName(t);\n    });\n  } else {\n    types = [getDisplayName(type)];\n  }\n  toArray(children2).forEach(function(child) {\n    var childType = (0, import_get2.default)(child, \"type.displayName\") || (0, import_get2.default)(child, \"type.name\");\n    if (types.indexOf(childType) !== -1) {\n      result.push(child);\n    }\n  });\n  return result;\n}\nfunction findChildByType(children2, type) {\n  var result = findAllByType(children2, type);\n  return result && result[0];\n}\nvar validateWidthHeight = function validateWidthHeight2(el) {\n  if (!el || !el.props) {\n    return false;\n  }\n  var _el$props = el.props, width = _el$props.width, height = _el$props.height;\n  if (!isNumber(width) || width <= 0 || !isNumber(height) || height <= 0) {\n    return false;\n  }\n  return true;\n};\nvar SVG_TAGS = [\"a\", \"altGlyph\", \"altGlyphDef\", \"altGlyphItem\", \"animate\", \"animateColor\", \"animateMotion\", \"animateTransform\", \"circle\", \"clipPath\", \"color-profile\", \"cursor\", \"defs\", \"desc\", \"ellipse\", \"feBlend\", \"feColormatrix\", \"feComponentTransfer\", \"feComposite\", \"feConvolveMatrix\", \"feDiffuseLighting\", \"feDisplacementMap\", \"feDistantLight\", \"feFlood\", \"feFuncA\", \"feFuncB\", \"feFuncG\", \"feFuncR\", \"feGaussianBlur\", \"feImage\", \"feMerge\", \"feMergeNode\", \"feMorphology\", \"feOffset\", \"fePointLight\", \"feSpecularLighting\", \"feSpotLight\", \"feTile\", \"feTurbulence\", \"filter\", \"font\", \"font-face\", \"font-face-format\", \"font-face-name\", \"font-face-url\", \"foreignObject\", \"g\", \"glyph\", \"glyphRef\", \"hkern\", \"image\", \"line\", \"lineGradient\", \"marker\", \"mask\", \"metadata\", \"missing-glyph\", \"mpath\", \"path\", \"pattern\", \"polygon\", \"polyline\", \"radialGradient\", \"rect\", \"script\", \"set\", \"stop\", \"style\", \"svg\", \"switch\", \"symbol\", \"text\", \"textPath\", \"title\", \"tref\", \"tspan\", \"use\", \"view\", \"vkern\"];\nvar isSvgElement = function isSvgElement2(child) {\n  return child && child.type && (0, import_isString2.default)(child.type) && SVG_TAGS.indexOf(child.type) >= 0;\n};\nvar hasClipDot = function hasClipDot2(dot) {\n  return dot && _typeof2(dot) === \"object\" && \"clipDot\" in dot;\n};\nvar isValidSpreadableProp = function isValidSpreadableProp2(property, key, includeEvents, svgElementType) {\n  var _FilteredElementKeyMa;\n  var matchingElementTypeKeys = (_FilteredElementKeyMa = FilteredElementKeyMap === null || FilteredElementKeyMap === void 0 ? void 0 : FilteredElementKeyMap[svgElementType]) !== null && _FilteredElementKeyMa !== void 0 ? _FilteredElementKeyMa : [];\n  return key.startsWith(\"data-\") || !(0, import_isFunction.default)(property) && (svgElementType && matchingElementTypeKeys.includes(key) || SVGElementPropKeys.includes(key)) || includeEvents && EventKeys.includes(key);\n};\nvar filterSvgElements = function filterSvgElements2(children2) {\n  var svgElements = [];\n  toArray(children2).forEach(function(entry) {\n    if (isSvgElement(entry)) {\n      svgElements.push(entry);\n    }\n  });\n  return svgElements;\n};\nvar filterProps = function filterProps2(props, includeEvents, svgElementType) {\n  if (!props || typeof props === \"function\" || typeof props === \"boolean\") {\n    return null;\n  }\n  var inputProps = props;\n  if ((0, import_react2.isValidElement)(props)) {\n    inputProps = props.props;\n  }\n  if (!(0, import_isObject2.default)(inputProps)) {\n    return null;\n  }\n  var out = {};\n  Object.keys(inputProps).forEach(function(key) {\n    var _inputProps;\n    if (isValidSpreadableProp((_inputProps = inputProps) === null || _inputProps === void 0 ? void 0 : _inputProps[key], key, includeEvents, svgElementType)) {\n      out[key] = inputProps[key];\n    }\n  });\n  return out;\n};\nvar isChildrenEqual = function isChildrenEqual2(nextChildren, prevChildren) {\n  if (nextChildren === prevChildren) {\n    return true;\n  }\n  var count2 = import_react2.Children.count(nextChildren);\n  if (count2 !== import_react2.Children.count(prevChildren)) {\n    return false;\n  }\n  if (count2 === 0) {\n    return true;\n  }\n  if (count2 === 1) {\n    return isSingleChildEqual(Array.isArray(nextChildren) ? nextChildren[0] : nextChildren, Array.isArray(prevChildren) ? prevChildren[0] : prevChildren);\n  }\n  for (var i = 0; i < count2; i++) {\n    var nextChild = nextChildren[i];\n    var prevChild = prevChildren[i];\n    if (Array.isArray(nextChild) || Array.isArray(prevChild)) {\n      if (!isChildrenEqual2(nextChild, prevChild)) {\n        return false;\n      }\n    } else if (!isSingleChildEqual(nextChild, prevChild)) {\n      return false;\n    }\n  }\n  return true;\n};\nvar isSingleChildEqual = function isSingleChildEqual2(nextChild, prevChild) {\n  if ((0, import_isNil2.default)(nextChild) && (0, import_isNil2.default)(prevChild)) {\n    return true;\n  }\n  if (!(0, import_isNil2.default)(nextChild) && !(0, import_isNil2.default)(prevChild)) {\n    var _ref = nextChild.props || {}, nextChildren = _ref.children, nextProps = _objectWithoutProperties(_ref, _excluded);\n    var _ref2 = prevChild.props || {}, prevChildren = _ref2.children, prevProps = _objectWithoutProperties(_ref2, _excluded2);\n    if (nextChildren && prevChildren) {\n      return shallowEqual(nextProps, prevProps) && isChildrenEqual(nextChildren, prevChildren);\n    }\n    if (!nextChildren && !prevChildren) {\n      return shallowEqual(nextProps, prevProps);\n    }\n    return false;\n  }\n  return false;\n};\nvar renderByOrder = function renderByOrder2(children2, renderMap) {\n  var elements = [];\n  var record = {};\n  toArray(children2).forEach(function(child, index2) {\n    if (isSvgElement(child)) {\n      elements.push(child);\n    } else if (child) {\n      var displayName = getDisplayName(child.type);\n      var _ref3 = renderMap[displayName] || {}, handler = _ref3.handler, once = _ref3.once;\n      if (handler && (!once || !record[displayName])) {\n        var results = handler(child, displayName, index2);\n        elements.push(results);\n        record[displayName] = true;\n      }\n    }\n  });\n  return elements;\n};\nvar getReactEventByType = function getReactEventByType2(e) {\n  var type = e && e.type;\n  if (type && REACT_BROWSER_EVENT_MAP[type]) {\n    return REACT_BROWSER_EVENT_MAP[type];\n  }\n  return null;\n};\nvar parseChildIndex = function parseChildIndex2(child, children2) {\n  return toArray(children2).indexOf(child);\n};\n\n// node_modules/recharts/es6/container/Surface.js\nvar _excluded3 = [\"children\", \"width\", \"height\", \"viewBox\", \"className\", \"style\", \"title\", \"desc\"];\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutProperties2(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose2(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose2(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  for (var key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction Surface(props) {\n  var children2 = props.children, width = props.width, height = props.height, viewBox = props.viewBox, className = props.className, style = props.style, title = props.title, desc = props.desc, others = _objectWithoutProperties2(props, _excluded3);\n  var svgView = viewBox || {\n    width,\n    height,\n    x: 0,\n    y: 0\n  };\n  var layerClass = clsx_default(\"recharts-surface\", className);\n  return import_react3.default.createElement(\"svg\", _extends({}, filterProps(others, true, \"svg\"), {\n    className: layerClass,\n    width,\n    height,\n    style,\n    viewBox: \"\".concat(svgView.x, \" \").concat(svgView.y, \" \").concat(svgView.width, \" \").concat(svgView.height)\n  }), import_react3.default.createElement(\"title\", null, title), import_react3.default.createElement(\"desc\", null, desc), children2);\n}\n\n// node_modules/recharts/es6/container/Layer.js\nvar import_react4 = __toESM(require_react());\nvar _excluded4 = [\"children\", \"className\"];\nfunction _extends2() {\n  _extends2 = Object.assign ? Object.assign.bind() : function(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends2.apply(this, arguments);\n}\nfunction _objectWithoutProperties3(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose3(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose3(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  for (var key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nvar Layer = import_react4.default.forwardRef(function(props, ref) {\n  var children2 = props.children, className = props.className, others = _objectWithoutProperties3(props, _excluded4);\n  var layerClass = clsx_default(\"recharts-layer\", className);\n  return import_react4.default.createElement(\"g\", _extends2({\n    className: layerClass\n  }, filterProps(others, true), {\n    ref\n  }), children2);\n});\n\n// node_modules/recharts/es6/component/Legend.js\nvar import_react7 = __toESM(require_react());\n\n// node_modules/recharts/es6/component/DefaultLegendContent.js\nvar import_react6 = __toESM(require_react());\nvar import_isFunction2 = __toESM(require_isFunction());\n\n// node_modules/recharts/es6/util/LogUtils.js\nvar isDev = true;\nvar warn = function warn2(condition, format2) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n  if (isDev && typeof console !== \"undefined\" && console.warn) {\n    if (format2 === void 0) {\n      console.warn(\"LogUtils requires an error message argument\");\n    }\n    if (!condition) {\n      if (format2 === void 0) {\n        console.warn(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");\n      } else {\n        var argIndex = 0;\n        console.warn(format2.replace(/%s/g, function() {\n          return args[argIndex++];\n        }));\n      }\n    }\n  }\n};\n\n// node_modules/recharts/es6/shape/Symbols.js\nvar import_react5 = __toESM(require_react());\nvar import_upperFirst = __toESM(require_upperFirst());\n\n// node_modules/d3-shape/src/constant.js\nfunction constant_default(x2) {\n  return function constant2() {\n    return x2;\n  };\n}\n\n// node_modules/d3-shape/src/math.js\nvar cos = Math.cos;\nvar sin = Math.sin;\nvar sqrt = Math.sqrt;\nvar epsilon = 1e-12;\nvar pi = Math.PI;\nvar halfPi = pi / 2;\nvar tau = 2 * pi;\n\n// node_modules/d3-path/src/path.js\nvar pi2 = Math.PI;\nvar tau2 = 2 * pi2;\nvar epsilon2 = 1e-6;\nvar tauEpsilon = tau2 - epsilon2;\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k2 = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k2) / k2 + strings[i];\n    }\n  };\n}\nvar Path = class {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null;\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x2, y2) {\n    this._append`M${this._x0 = this._x1 = +x2},${this._y0 = this._y1 = +y2}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x2, y2) {\n    this._append`L${this._x1 = +x2},${this._y1 = +y2}`;\n  }\n  quadraticCurveTo(x1, y1, x2, y2) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x2},${this._y1 = +y2}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x3, y3) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x3},${this._y1 = +y3}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n    let x0 = this._x1, y0 = this._y1, x21 = x2 - x1, y21 = y2 - y1, x01 = x0 - x1, y01 = y0 - y1, l01_2 = x01 * x01 + y01 * y01;\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    } else if (!(l01_2 > epsilon2)) ;\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon2) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    } else {\n      let x20 = x2 - x0, y20 = y2 - y0, l21_2 = x21 * x21 + y21 * y21, l20_2 = x20 * x20 + y20 * y20, l21 = Math.sqrt(l21_2), l01 = Math.sqrt(l01_2), l = r * Math.tan((pi2 - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2), t01 = l / l01, t21 = l / l21;\n      if (Math.abs(t01 - 1) > epsilon2) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x2, y2, r, a0, a1, ccw) {\n    x2 = +x2, y2 = +y2, r = +r, ccw = !!ccw;\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n    let dx = r * Math.cos(a0), dy = r * Math.sin(a0), x0 = x2 + dx, y0 = y2 + dy, cw = 1 ^ ccw, da = ccw ? a0 - a1 : a1 - a0;\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    } else if (Math.abs(this._x1 - x0) > epsilon2 || Math.abs(this._y1 - y0) > epsilon2) {\n      this._append`L${x0},${y0}`;\n    }\n    if (!r) return;\n    if (da < 0) da = da % tau2 + tau2;\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x2 - dx},${y2 - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    } else if (da > epsilon2) {\n      this._append`A${r},${r},0,${+(da >= pi2)},${cw},${this._x1 = x2 + r * Math.cos(a1)},${this._y1 = y2 + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x2, y2, w, h) {\n    this._append`M${this._x0 = this._x1 = +x2},${this._y0 = this._y1 = +y2}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n};\nfunction path() {\n  return new Path();\n}\npath.prototype = Path.prototype;\n\n// node_modules/d3-shape/src/path.js\nfunction withPath(shape) {\n  let digits = 3;\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n  return () => new Path(digits);\n}\n\n// node_modules/d3-shape/src/array.js\nvar slice = Array.prototype.slice;\nfunction array_default(x2) {\n  return typeof x2 === \"object\" && \"length\" in x2 ? x2 : Array.from(x2);\n}\n\n// node_modules/d3-shape/src/curve/linear.js\nfunction Linear(context) {\n  this._context = context;\n}\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x2, y2) {\n    x2 = +x2, y2 = +y2;\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x2, y2) : this._context.moveTo(x2, y2);\n        break;\n      case 1:\n        this._point = 2;\n      // falls through\n      default:\n        this._context.lineTo(x2, y2);\n        break;\n    }\n  }\n};\nfunction linear_default(context) {\n  return new Linear(context);\n}\n\n// node_modules/d3-shape/src/point.js\nfunction x(p) {\n  return p[0];\n}\nfunction y(p) {\n  return p[1];\n}\n\n// node_modules/d3-shape/src/line.js\nfunction line_default(x2, y2) {\n  var defined3 = constant_default(true), context = null, curve = linear_default, output = null, path2 = withPath(line);\n  x2 = typeof x2 === \"function\" ? x2 : x2 === void 0 ? x : constant_default(x2);\n  y2 = typeof y2 === \"function\" ? y2 : y2 === void 0 ? y : constant_default(y2);\n  function line(data) {\n    var i, n = (data = array_default(data)).length, d, defined0 = false, buffer;\n    if (context == null) output = curve(buffer = path2());\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined3(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x2(d, i, data), +y2(d, i, data));\n    }\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n  line.x = function(_) {\n    return arguments.length ? (x2 = typeof _ === \"function\" ? _ : constant_default(+_), line) : x2;\n  };\n  line.y = function(_) {\n    return arguments.length ? (y2 = typeof _ === \"function\" ? _ : constant_default(+_), line) : y2;\n  };\n  line.defined = function(_) {\n    return arguments.length ? (defined3 = typeof _ === \"function\" ? _ : constant_default(!!_), line) : defined3;\n  };\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n  return line;\n}\n\n// node_modules/d3-shape/src/area.js\nfunction area_default(x0, y0, y1) {\n  var x1 = null, defined3 = constant_default(true), context = null, curve = linear_default, output = null, path2 = withPath(area);\n  x0 = typeof x0 === \"function\" ? x0 : x0 === void 0 ? x : constant_default(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : y0 === void 0 ? constant_default(0) : constant_default(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : y1 === void 0 ? y : constant_default(+y1);\n  function area(data) {\n    var i, j, k2, n = (data = array_default(data)).length, d, defined0 = false, buffer, x0z = new Array(n), y0z = new Array(n);\n    if (context == null) output = curve(buffer = path2());\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined3(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k2 = i - 1; k2 >= j; --k2) {\n            output.point(x0z[k2], y0z[k2]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n  function arealine() {\n    return line_default().defined(defined3).curve(curve).context(context);\n  }\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant_default(+_), x1 = null, area) : x0;\n  };\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant_default(+_), area) : x0;\n  };\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant_default(+_), area) : x1;\n  };\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant_default(+_), y1 = null, area) : y0;\n  };\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant_default(+_), area) : y0;\n  };\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant_default(+_), area) : y1;\n  };\n  area.lineX0 = area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n  area.defined = function(_) {\n    return arguments.length ? (defined3 = typeof _ === \"function\" ? _ : constant_default(!!_), area) : defined3;\n  };\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n  return area;\n}\n\n// node_modules/d3-shape/src/curve/radial.js\nvar curveRadialLinear = curveRadial(linear_default);\nfunction Radial(curve) {\n  this._curve = curve;\n}\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a2, r) {\n    this._curve.point(r * Math.sin(a2), r * -Math.cos(a2));\n  }\n};\nfunction curveRadial(curve) {\n  function radial2(context) {\n    return new Radial(curve(context));\n  }\n  radial2._curve = curve;\n  return radial2;\n}\n\n// node_modules/d3-shape/src/curve/bump.js\nvar Bump = class {\n  constructor(context, x2) {\n    this._context = context;\n    this._x = x2;\n  }\n  areaStart() {\n    this._line = 0;\n  }\n  areaEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  }\n  point(x2, y2) {\n    x2 = +x2, y2 = +y2;\n    switch (this._point) {\n      case 0: {\n        this._point = 1;\n        if (this._line) this._context.lineTo(x2, y2);\n        else this._context.moveTo(x2, y2);\n        break;\n      }\n      case 1:\n        this._point = 2;\n      // falls through\n      default: {\n        if (this._x) this._context.bezierCurveTo(this._x0 = (this._x0 + x2) / 2, this._y0, this._x0, y2, x2, y2);\n        else this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + y2) / 2, x2, this._y0, x2, y2);\n        break;\n      }\n    }\n    this._x0 = x2, this._y0 = y2;\n  }\n};\nfunction bumpX(context) {\n  return new Bump(context, true);\n}\nfunction bumpY(context) {\n  return new Bump(context, false);\n}\n\n// node_modules/d3-shape/src/symbol/asterisk.js\nvar sqrt3 = sqrt(3);\n\n// node_modules/d3-shape/src/symbol/circle.js\nvar circle_default = {\n  draw(context, size) {\n    const r = sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n\n// node_modules/d3-shape/src/symbol/cross.js\nvar cross_default = {\n  draw(context, size) {\n    const r = sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n\n// node_modules/d3-shape/src/symbol/diamond.js\nvar tan30 = sqrt(1 / 3);\nvar tan30_2 = tan30 * 2;\nvar diamond_default = {\n  draw(context, size) {\n    const y2 = sqrt(size / tan30_2);\n    const x2 = y2 * tan30;\n    context.moveTo(0, -y2);\n    context.lineTo(x2, 0);\n    context.lineTo(0, y2);\n    context.lineTo(-x2, 0);\n    context.closePath();\n  }\n};\n\n// node_modules/d3-shape/src/symbol/square.js\nvar square_default = {\n  draw(context, size) {\n    const w = sqrt(size);\n    const x2 = -w / 2;\n    context.rect(x2, x2, w, w);\n  }\n};\n\n// node_modules/d3-shape/src/symbol/star.js\nvar ka = 0.8908130915292852;\nvar kr = sin(pi / 10) / sin(7 * pi / 10);\nvar kx = sin(tau / 10) * kr;\nvar ky = -cos(tau / 10) * kr;\nvar star_default = {\n  draw(context, size) {\n    const r = sqrt(size * ka);\n    const x2 = kx * r;\n    const y2 = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x2, y2);\n    for (let i = 1; i < 5; ++i) {\n      const a2 = tau * i / 5;\n      const c2 = cos(a2);\n      const s2 = sin(a2);\n      context.lineTo(s2 * r, -c2 * r);\n      context.lineTo(c2 * x2 - s2 * y2, s2 * x2 + c2 * y2);\n    }\n    context.closePath();\n  }\n};\n\n// node_modules/d3-shape/src/symbol/triangle.js\nvar sqrt32 = sqrt(3);\nvar triangle_default = {\n  draw(context, size) {\n    const y2 = -sqrt(size / (sqrt32 * 3));\n    context.moveTo(0, y2 * 2);\n    context.lineTo(-sqrt32 * y2, -y2);\n    context.lineTo(sqrt32 * y2, -y2);\n    context.closePath();\n  }\n};\n\n// node_modules/d3-shape/src/symbol/triangle2.js\nvar sqrt33 = sqrt(3);\n\n// node_modules/d3-shape/src/symbol/wye.js\nvar c = -0.5;\nvar s = sqrt(3) / 2;\nvar k = 1 / sqrt(12);\nvar a = (k / 2 + 1) * 3;\nvar wye_default = {\n  draw(context, size) {\n    const r = sqrt(size / a);\n    const x0 = r / 2, y0 = r * k;\n    const x1 = x0, y1 = r * k + r;\n    const x2 = -x1, y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n\n// node_modules/d3-shape/src/symbol.js\nfunction Symbol2(type, size) {\n  let context = null, path2 = withPath(symbol);\n  type = typeof type === \"function\" ? type : constant_default(type || circle_default);\n  size = typeof size === \"function\" ? size : constant_default(size === void 0 ? 64 : +size);\n  function symbol() {\n    let buffer;\n    if (!context) context = buffer = path2();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant_default(_), symbol) : type;\n  };\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant_default(+_), symbol) : size;\n  };\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n  return symbol;\n}\n\n// node_modules/d3-shape/src/noop.js\nfunction noop_default() {\n}\n\n// node_modules/d3-shape/src/curve/basis.js\nfunction point(that, x2, y2) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x2) / 6,\n    (that._y0 + 4 * that._y1 + y2) / 6\n  );\n}\nfunction Basis(context) {\n  this._context = context;\n}\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3:\n        point(this, this._x1, this._y1);\n      // falls through\n      case 2:\n        this._context.lineTo(this._x1, this._y1);\n        break;\n    }\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x2, y2) {\n    x2 = +x2, y2 = +y2;\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x2, y2) : this._context.moveTo(x2, y2);\n        break;\n      case 1:\n        this._point = 2;\n        break;\n      case 2:\n        this._point = 3;\n        this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6);\n      // falls through\n      default:\n        point(this, x2, y2);\n        break;\n    }\n    this._x0 = this._x1, this._x1 = x2;\n    this._y0 = this._y1, this._y1 = y2;\n  }\n};\nfunction basis_default(context) {\n  return new Basis(context);\n}\n\n// node_modules/d3-shape/src/curve/basisClosed.js\nfunction BasisClosed(context) {\n  this._context = context;\n}\nBasisClosed.prototype = {\n  areaStart: noop_default,\n  areaEnd: noop_default,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x2, y2) {\n    x2 = +x2, y2 = +y2;\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._x2 = x2, this._y2 = y2;\n        break;\n      case 1:\n        this._point = 2;\n        this._x3 = x2, this._y3 = y2;\n        break;\n      case 2:\n        this._point = 3;\n        this._x4 = x2, this._y4 = y2;\n        this._context.moveTo((this._x0 + 4 * this._x1 + x2) / 6, (this._y0 + 4 * this._y1 + y2) / 6);\n        break;\n      default:\n        point(this, x2, y2);\n        break;\n    }\n    this._x0 = this._x1, this._x1 = x2;\n    this._y0 = this._y1, this._y1 = y2;\n  }\n};\nfunction basisClosed_default(context) {\n  return new BasisClosed(context);\n}\n\n// node_modules/d3-shape/src/curve/basisOpen.js\nfunction BasisOpen(context) {\n  this._context = context;\n}\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x2, y2) {\n    x2 = +x2, y2 = +y2;\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        break;\n      case 1:\n        this._point = 2;\n        break;\n      case 2:\n        this._point = 3;\n        var x0 = (this._x0 + 4 * this._x1 + x2) / 6, y0 = (this._y0 + 4 * this._y1 + y2) / 6;\n        this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0);\n        break;\n      case 3:\n        this._point = 4;\n      // falls through\n      default:\n        point(this, x2, y2);\n        break;\n    }\n    this._x0 = this._x1, this._x1 = x2;\n    this._y0 = this._y1, this._y1 = y2;\n  }\n};\nfunction basisOpen_default(context) {\n  return new BasisOpen(context);\n}\n\n// node_modules/d3-shape/src/curve/bundle.js\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x2 = this._x, y2 = this._y, j = x2.length - 1;\n    if (j > 0) {\n      var x0 = x2[0], y0 = y2[0], dx = x2[j] - x0, dy = y2[j] - y0, i = -1, t;\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x2[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y2[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x2, y2) {\n    this._x.push(+x2);\n    this._y.push(+y2);\n  }\n};\nvar bundle_default = (function custom(beta) {\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n  bundle.beta = function(beta2) {\n    return custom(+beta2);\n  };\n  return bundle;\n})(0.85);\n\n// node_modules/d3-shape/src/curve/cardinal.js\nfunction point2(that, x2, y2) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x2),\n    that._y2 + that._k * (that._y1 - y2),\n    that._x2,\n    that._y2\n  );\n}\nfunction Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x2, this._y2);\n        break;\n      case 3:\n        point2(this, this._x1, this._y1);\n        break;\n    }\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x2, y2) {\n    x2 = +x2, y2 = +y2;\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x2, y2) : this._context.moveTo(x2, y2);\n        break;\n      case 1:\n        this._point = 2;\n        this._x1 = x2, this._y1 = y2;\n        break;\n      case 2:\n        this._point = 3;\n      // falls through\n      default:\n        point2(this, x2, y2);\n        break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x2;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y2;\n  }\n};\nvar cardinal_default = (function custom2(tension) {\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n  cardinal.tension = function(tension2) {\n    return custom2(+tension2);\n  };\n  return cardinal;\n})(0);\n\n// node_modules/d3-shape/src/curve/cardinalClosed.js\nfunction CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\nCardinalClosed.prototype = {\n  areaStart: noop_default,\n  areaEnd: noop_default,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x2, y2) {\n    x2 = +x2, y2 = +y2;\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._x3 = x2, this._y3 = y2;\n        break;\n      case 1:\n        this._point = 2;\n        this._context.moveTo(this._x4 = x2, this._y4 = y2);\n        break;\n      case 2:\n        this._point = 3;\n        this._x5 = x2, this._y5 = y2;\n        break;\n      default:\n        point2(this, x2, y2);\n        break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x2;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y2;\n  }\n};\nvar cardinalClosed_default = (function custom3(tension) {\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n  cardinal.tension = function(tension2) {\n    return custom3(+tension2);\n  };\n  return cardinal;\n})(0);\n\n// node_modules/d3-shape/src/curve/cardinalOpen.js\nfunction CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x2, y2) {\n    x2 = +x2, y2 = +y2;\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        break;\n      case 1:\n        this._point = 2;\n        break;\n      case 2:\n        this._point = 3;\n        this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);\n        break;\n      case 3:\n        this._point = 4;\n      // falls through\n      default:\n        point2(this, x2, y2);\n        break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x2;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y2;\n  }\n};\nvar cardinalOpen_default = (function custom4(tension) {\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n  cardinal.tension = function(tension2) {\n    return custom4(+tension2);\n  };\n  return cardinal;\n})(0);\n\n// node_modules/d3-shape/src/curve/catmullRom.js\nfunction point3(that, x2, y2) {\n  var x1 = that._x1, y1 = that._y1, x22 = that._x2, y22 = that._y2;\n  if (that._l01_a > epsilon) {\n    var a2 = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a, n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a2 - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a2 - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a, m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x22 = (x22 * b + that._x1 * that._l23_2a - x2 * that._l12_2a) / m;\n    y22 = (y22 * b + that._y1 * that._l23_2a - y2 * that._l12_2a) / m;\n  }\n  that._context.bezierCurveTo(x1, y1, x22, y22, that._x2, that._y2);\n}\nfunction CatmullRom(context, alpha3) {\n  this._context = context;\n  this._alpha = alpha3;\n}\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x2, this._y2);\n        break;\n      case 3:\n        this.point(this._x2, this._y2);\n        break;\n    }\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x2, y2) {\n    x2 = +x2, y2 = +y2;\n    if (this._point) {\n      var x23 = this._x2 - x2, y23 = this._y2 - y2;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x2, y2) : this._context.moveTo(x2, y2);\n        break;\n      case 1:\n        this._point = 2;\n        break;\n      case 2:\n        this._point = 3;\n      // falls through\n      default:\n        point3(this, x2, y2);\n        break;\n    }\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x2;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y2;\n  }\n};\nvar catmullRom_default = (function custom5(alpha3) {\n  function catmullRom(context) {\n    return alpha3 ? new CatmullRom(context, alpha3) : new Cardinal(context, 0);\n  }\n  catmullRom.alpha = function(alpha4) {\n    return custom5(+alpha4);\n  };\n  return catmullRom;\n})(0.5);\n\n// node_modules/d3-shape/src/curve/catmullRomClosed.js\nfunction CatmullRomClosed(context, alpha3) {\n  this._context = context;\n  this._alpha = alpha3;\n}\nCatmullRomClosed.prototype = {\n  areaStart: noop_default,\n  areaEnd: noop_default,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 = this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x2, y2) {\n    x2 = +x2, y2 = +y2;\n    if (this._point) {\n      var x23 = this._x2 - x2, y23 = this._y2 - y2;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._x3 = x2, this._y3 = y2;\n        break;\n      case 1:\n        this._point = 2;\n        this._context.moveTo(this._x4 = x2, this._y4 = y2);\n        break;\n      case 2:\n        this._point = 3;\n        this._x5 = x2, this._y5 = y2;\n        break;\n      default:\n        point3(this, x2, y2);\n        break;\n    }\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x2;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y2;\n  }\n};\nvar catmullRomClosed_default = (function custom6(alpha3) {\n  function catmullRom(context) {\n    return alpha3 ? new CatmullRomClosed(context, alpha3) : new CardinalClosed(context, 0);\n  }\n  catmullRom.alpha = function(alpha4) {\n    return custom6(+alpha4);\n  };\n  return catmullRom;\n})(0.5);\n\n// node_modules/d3-shape/src/curve/catmullRomOpen.js\nfunction CatmullRomOpen(context, alpha3) {\n  this._context = context;\n  this._alpha = alpha3;\n}\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a = this._l01_2a = this._l12_2a = this._l23_2a = this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || this._line !== 0 && this._point === 3) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x2, y2) {\n    x2 = +x2, y2 = +y2;\n    if (this._point) {\n      var x23 = this._x2 - x2, y23 = this._y2 - y2;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        break;\n      case 1:\n        this._point = 2;\n        break;\n      case 2:\n        this._point = 3;\n        this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2);\n        break;\n      case 3:\n        this._point = 4;\n      // falls through\n      default:\n        point3(this, x2, y2);\n        break;\n    }\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x2;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y2;\n  }\n};\nvar catmullRomOpen_default = (function custom7(alpha3) {\n  function catmullRom(context) {\n    return alpha3 ? new CatmullRomOpen(context, alpha3) : new CardinalOpen(context, 0);\n  }\n  catmullRom.alpha = function(alpha4) {\n    return custom7(+alpha4);\n  };\n  return catmullRom;\n})(0.5);\n\n// node_modules/d3-shape/src/curve/linearClosed.js\nfunction LinearClosed(context) {\n  this._context = context;\n}\nLinearClosed.prototype = {\n  areaStart: noop_default,\n  areaEnd: noop_default,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x2, y2) {\n    x2 = +x2, y2 = +y2;\n    if (this._point) this._context.lineTo(x2, y2);\n    else this._point = 1, this._context.moveTo(x2, y2);\n  }\n};\nfunction linearClosed_default(context) {\n  return new LinearClosed(context);\n}\n\n// node_modules/d3-shape/src/curve/monotone.js\nfunction sign(x2) {\n  return x2 < 0 ? -1 : 1;\n}\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0, h1 = x2 - that._x1, s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0), s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0), p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\nfunction point4(that, t03, t13) {\n  var x0 = that._x0, y0 = that._y0, x1 = that._x1, y1 = that._y1, dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t03, x1 - dx, y1 - dx * t13, x1, y1);\n}\nfunction MonotoneX(context) {\n  this._context = context;\n}\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x1, this._y1);\n        break;\n      case 3:\n        point4(this, this._t0, slope2(this, this._t0));\n        break;\n    }\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x2, y2) {\n    var t13 = NaN;\n    x2 = +x2, y2 = +y2;\n    if (x2 === this._x1 && y2 === this._y1) return;\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x2, y2) : this._context.moveTo(x2, y2);\n        break;\n      case 1:\n        this._point = 2;\n        break;\n      case 2:\n        this._point = 3;\n        point4(this, slope2(this, t13 = slope3(this, x2, y2)), t13);\n        break;\n      default:\n        point4(this, this._t0, t13 = slope3(this, x2, y2));\n        break;\n    }\n    this._x0 = this._x1, this._x1 = x2;\n    this._y0 = this._y1, this._y1 = y2;\n    this._t0 = t13;\n  }\n};\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x2, y2) {\n  MonotoneX.prototype.point.call(this, y2, x2);\n};\nfunction ReflectContext(context) {\n  this._context = context;\n}\nReflectContext.prototype = {\n  moveTo: function(x2, y2) {\n    this._context.moveTo(y2, x2);\n  },\n  closePath: function() {\n    this._context.closePath();\n  },\n  lineTo: function(x2, y2) {\n    this._context.lineTo(y2, x2);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x3, y3) {\n    this._context.bezierCurveTo(y1, x1, y2, x2, y3, x3);\n  }\n};\nfunction monotoneX(context) {\n  return new MonotoneX(context);\n}\nfunction monotoneY(context) {\n  return new MonotoneY(context);\n}\n\n// node_modules/d3-shape/src/curve/natural.js\nfunction Natural(context) {\n  this._context = context;\n}\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x2 = this._x, y2 = this._y, n = x2.length;\n    if (n) {\n      this._line ? this._context.lineTo(x2[0], y2[0]) : this._context.moveTo(x2[0], y2[0]);\n      if (n === 2) {\n        this._context.lineTo(x2[1], y2[1]);\n      } else {\n        var px = controlPoints(x2), py = controlPoints(y2);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x2[i1], y2[i1]);\n        }\n      }\n    }\n    if (this._line || this._line !== 0 && n === 1) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x2, y2) {\n    this._x.push(+x2);\n    this._y.push(+y2);\n  }\n};\nfunction controlPoints(x2) {\n  var i, n = x2.length - 1, m, a2 = new Array(n), b = new Array(n), r = new Array(n);\n  a2[0] = 0, b[0] = 2, r[0] = x2[0] + 2 * x2[1];\n  for (i = 1; i < n - 1; ++i) a2[i] = 1, b[i] = 4, r[i] = 4 * x2[i] + 2 * x2[i + 1];\n  a2[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x2[n - 1] + x2[n];\n  for (i = 1; i < n; ++i) m = a2[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a2[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a2[i] = (r[i] - a2[i + 1]) / b[i];\n  b[n - 1] = (x2[n] + a2[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x2[i + 1] - a2[i + 1];\n  return [a2, b];\n}\nfunction natural_default(context) {\n  return new Natural(context);\n}\n\n// node_modules/d3-shape/src/curve/step.js\nfunction Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x2, y2) {\n    x2 = +x2, y2 = +y2;\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x2, y2) : this._context.moveTo(x2, y2);\n        break;\n      case 1:\n        this._point = 2;\n      // falls through\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y2);\n          this._context.lineTo(x2, y2);\n        } else {\n          var x1 = this._x * (1 - this._t) + x2 * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y2);\n        }\n        break;\n      }\n    }\n    this._x = x2, this._y = y2;\n  }\n};\nfunction step_default(context) {\n  return new Step(context, 0.5);\n}\nfunction stepBefore(context) {\n  return new Step(context, 0);\n}\nfunction stepAfter(context) {\n  return new Step(context, 1);\n}\n\n// node_modules/d3-shape/src/offset/none.js\nfunction none_default(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n\n// node_modules/d3-shape/src/order/none.js\nfunction none_default2(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n\n// node_modules/d3-shape/src/stack.js\nfunction stackValue(d, key) {\n  return d[key];\n}\nfunction stackSeries(key) {\n  const series = [];\n  series.key = key;\n  return series;\n}\nfunction stack_default() {\n  var keys2 = constant_default([]), order = none_default2, offset = none_default, value = stackValue;\n  function stack(data) {\n    var sz = Array.from(keys2.apply(this, arguments), stackSeries), i, n = sz.length, j = -1, oz;\n    for (const d of data) {\n      for (i = 0, ++j; i < n; ++i) {\n        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n      }\n    }\n    for (i = 0, oz = array_default(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n    offset(sz, oz);\n    return sz;\n  }\n  stack.keys = function(_) {\n    return arguments.length ? (keys2 = typeof _ === \"function\" ? _ : constant_default(Array.from(_)), stack) : keys2;\n  };\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant_default(+_), stack) : value;\n  };\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? none_default2 : typeof _ === \"function\" ? _ : constant_default(Array.from(_)), stack) : order;\n  };\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? none_default : _, stack) : offset;\n  };\n  return stack;\n}\n\n// node_modules/d3-shape/src/offset/expand.js\nfunction expand_default(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y2; j < m; ++j) {\n    for (y2 = i = 0; i < n; ++i) y2 += series[i][j][1] || 0;\n    if (y2) for (i = 0; i < n; ++i) series[i][j][1] /= y2;\n  }\n  none_default(series, order);\n}\n\n// node_modules/d3-shape/src/offset/silhouette.js\nfunction silhouette_default(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y2 = 0; i < n; ++i) y2 += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y2 / 2;\n  }\n  none_default(series, order);\n}\n\n// node_modules/d3-shape/src/offset/wiggle.js\nfunction wiggle_default(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y2 = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]], sij0 = si[j][1] || 0, sij1 = si[j - 1][1] || 0, s3 = (sij0 - sij1) / 2;\n      for (var k2 = 0; k2 < i; ++k2) {\n        var sk = series[order[k2]], skj0 = sk[j][1] || 0, skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y2;\n    if (s1) y2 -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y2;\n  none_default(series, order);\n}\n\n// node_modules/recharts/es6/shape/Symbols.js\nfunction _typeof3(o) {\n  \"@babel/helpers - typeof\";\n  return _typeof3 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(o2) {\n    return typeof o2;\n  } : function(o2) {\n    return o2 && \"function\" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? \"symbol\" : typeof o2;\n  }, _typeof3(o);\n}\nvar _excluded5 = [\"type\", \"size\", \"sizeType\"];\nfunction _extends3() {\n  _extends3 = Object.assign ? Object.assign.bind() : function(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends3.apply(this, arguments);\n}\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function(r2) {\n      return Object.getOwnPropertyDescriptor(e, r2).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), true).forEach(function(r2) {\n      _defineProperty(e, r2, t[r2]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function(r2) {\n      Object.defineProperty(e, r2, Object.getOwnPropertyDescriptor(t, r2));\n    });\n  }\n  return e;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof3(i) ? i : i + \"\";\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != _typeof3(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof3(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _objectWithoutProperties4(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose4(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose4(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  for (var key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nvar symbolFactories = {\n  symbolCircle: circle_default,\n  symbolCross: cross_default,\n  symbolDiamond: diamond_default,\n  symbolSquare: square_default,\n  symbolStar: star_default,\n  symbolTriangle: triangle_default,\n  symbolWye: wye_default\n};\nvar RADIAN = Math.PI / 180;\nvar getSymbolFactory = function getSymbolFactory2(type) {\n  var name = \"symbol\".concat((0, import_upperFirst.default)(type));\n  return symbolFactories[name] || circle_default;\n};\nvar calculateAreaSize = function calculateAreaSize2(size, sizeType, type) {\n  if (sizeType === \"area\") {\n    return size;\n  }\n  switch (type) {\n    case \"cross\":\n      return 5 * size * size / 9;\n    case \"diamond\":\n      return 0.5 * size * size / Math.sqrt(3);\n    case \"square\":\n      return size * size;\n    case \"star\": {\n      var angle = 18 * RADIAN;\n      return 1.25 * size * size * (Math.tan(angle) - Math.tan(angle * 2) * Math.pow(Math.tan(angle), 2));\n    }\n    case \"triangle\":\n      return Math.sqrt(3) * size * size / 4;\n    case \"wye\":\n      return (21 - 10 * Math.sqrt(3)) * size * size / 8;\n    default:\n      return Math.PI * size * size / 4;\n  }\n};\nvar registerSymbol = function registerSymbol2(key, factory) {\n  symbolFactories[\"symbol\".concat((0, import_upperFirst.default)(key))] = factory;\n};\nvar Symbols = function Symbols2(_ref) {\n  var _ref$type = _ref.type, type = _ref$type === void 0 ? \"circle\" : _ref$type, _ref$size = _ref.size, size = _ref$size === void 0 ? 64 : _ref$size, _ref$sizeType = _ref.sizeType, sizeType = _ref$sizeType === void 0 ? \"area\" : _ref$sizeType, rest = _objectWithoutProperties4(_ref, _excluded5);\n  var props = _objectSpread(_objectSpread({}, rest), {}, {\n    type,\n    size,\n    sizeType\n  });\n  var getPath5 = function getPath6() {\n    var symbolFactory = getSymbolFactory(type);\n    var symbol = Symbol2().type(symbolFactory).size(calculateAreaSize(size, sizeType, type));\n    return symbol();\n  };\n  var className = props.className, cx = props.cx, cy = props.cy;\n  var filteredProps = filterProps(props, true);\n  if (cx === +cx && cy === +cy && size === +size) {\n    return import_react5.default.createElement(\"path\", _extends3({}, filteredProps, {\n      className: clsx_default(\"recharts-symbols\", className),\n      transform: \"translate(\".concat(cx, \", \").concat(cy, \")\"),\n      d: getPath5()\n    }));\n  }\n  return null;\n};\nSymbols.registerSymbol = registerSymbol;\n\n// node_modules/recharts/es6/component/DefaultLegendContent.js\nfunction _typeof4(o) {\n  \"@babel/helpers - typeof\";\n  return _typeof4 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(o2) {\n    return typeof o2;\n  } : function(o2) {\n    return o2 && \"function\" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? \"symbol\" : typeof o2;\n  }, _typeof4(o);\n}\nfunction _extends4() {\n  _extends4 = Object.assign ? Object.assign.bind() : function(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends4.apply(this, arguments);\n}\nfunction ownKeys2(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function(r2) {\n      return Object.getOwnPropertyDescriptor(e, r2).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys2(Object(t), true).forEach(function(r2) {\n      _defineProperty2(e, r2, t[r2]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys2(Object(t)).forEach(function(r2) {\n      Object.defineProperty(e, r2, Object.getOwnPropertyDescriptor(t, r2));\n    });\n  }\n  return e;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey2(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", { writable: false });\n  return Constructor;\n}\nfunction _callSuper(t, o, e) {\n  return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e));\n}\nfunction _possibleConstructorReturn(self2, call) {\n  if (call && (_typeof4(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self2);\n}\nfunction _assertThisInitialized(self2) {\n  if (self2 === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self2;\n}\nfunction _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n  } catch (t4) {\n  }\n  return (_isNativeReflectConstruct = function _isNativeReflectConstruct29() {\n    return !!t;\n  })();\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf29(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });\n  Object.defineProperty(subClass, \"prototype\", { writable: false });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf30(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _defineProperty2(obj, key, value) {\n  key = _toPropertyKey2(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey2(t) {\n  var i = _toPrimitive2(t, \"string\");\n  return \"symbol\" == _typeof4(i) ? i : i + \"\";\n}\nfunction _toPrimitive2(t, r) {\n  if (\"object\" != _typeof4(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof4(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nvar SIZE = 32;\nvar DefaultLegendContent = (function(_PureComponent) {\n  function DefaultLegendContent2() {\n    _classCallCheck(this, DefaultLegendContent2);\n    return _callSuper(this, DefaultLegendContent2, arguments);\n  }\n  _inherits(DefaultLegendContent2, _PureComponent);\n  return _createClass(DefaultLegendContent2, [{\n    key: \"renderIcon\",\n    value: (\n      /**\n       * Render the path of icon\n       * @param {Object} data Data of each legend item\n       * @return {String} Path element\n       */\n      function renderIcon(data) {\n        var inactiveColor = this.props.inactiveColor;\n        var halfSize = SIZE / 2;\n        var sixthSize = SIZE / 6;\n        var thirdSize = SIZE / 3;\n        var color2 = data.inactive ? inactiveColor : data.color;\n        if (data.type === \"plainline\") {\n          return import_react6.default.createElement(\"line\", {\n            strokeWidth: 4,\n            fill: \"none\",\n            stroke: color2,\n            strokeDasharray: data.payload.strokeDasharray,\n            x1: 0,\n            y1: halfSize,\n            x2: SIZE,\n            y2: halfSize,\n            className: \"recharts-legend-icon\"\n          });\n        }\n        if (data.type === \"line\") {\n          return import_react6.default.createElement(\"path\", {\n            strokeWidth: 4,\n            fill: \"none\",\n            stroke: color2,\n            d: \"M0,\".concat(halfSize, \"h\").concat(thirdSize, \"\\n            A\").concat(sixthSize, \",\").concat(sixthSize, \",0,1,1,\").concat(2 * thirdSize, \",\").concat(halfSize, \"\\n            H\").concat(SIZE, \"M\").concat(2 * thirdSize, \",\").concat(halfSize, \"\\n            A\").concat(sixthSize, \",\").concat(sixthSize, \",0,1,1,\").concat(thirdSize, \",\").concat(halfSize),\n            className: \"recharts-legend-icon\"\n          });\n        }\n        if (data.type === \"rect\") {\n          return import_react6.default.createElement(\"path\", {\n            stroke: \"none\",\n            fill: color2,\n            d: \"M0,\".concat(SIZE / 8, \"h\").concat(SIZE, \"v\").concat(SIZE * 3 / 4, \"h\").concat(-SIZE, \"z\"),\n            className: \"recharts-legend-icon\"\n          });\n        }\n        if (import_react6.default.isValidElement(data.legendIcon)) {\n          var iconProps = _objectSpread2({}, data);\n          delete iconProps.legendIcon;\n          return import_react6.default.cloneElement(data.legendIcon, iconProps);\n        }\n        return import_react6.default.createElement(Symbols, {\n          fill: color2,\n          cx: halfSize,\n          cy: halfSize,\n          size: SIZE,\n          sizeType: \"diameter\",\n          type: data.type\n        });\n      }\n    )\n    /**\n     * Draw items of legend\n     * @return {ReactElement} Items\n     */\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this = this;\n      var _this$props = this.props, payload = _this$props.payload, iconSize = _this$props.iconSize, layout = _this$props.layout, formatter = _this$props.formatter, inactiveColor = _this$props.inactiveColor;\n      var viewBox = {\n        x: 0,\n        y: 0,\n        width: SIZE,\n        height: SIZE\n      };\n      var itemStyle = {\n        display: layout === \"horizontal\" ? \"inline-block\" : \"block\",\n        marginRight: 10\n      };\n      var svgStyle = {\n        display: \"inline-block\",\n        verticalAlign: \"middle\",\n        marginRight: 4\n      };\n      return payload.map(function(entry, i) {\n        var finalFormatter = entry.formatter || formatter;\n        var className = clsx_default(_defineProperty2(_defineProperty2({\n          \"recharts-legend-item\": true\n        }, \"legend-item-\".concat(i), true), \"inactive\", entry.inactive));\n        if (entry.type === \"none\") {\n          return null;\n        }\n        var entryValue = !(0, import_isFunction2.default)(entry.value) ? entry.value : null;\n        warn(\n          !(0, import_isFunction2.default)(entry.value),\n          `The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name=\"Name of my Data\"/>`\n          // eslint-disable-line max-len\n        );\n        var color2 = entry.inactive ? inactiveColor : entry.color;\n        return import_react6.default.createElement(\"li\", _extends4({\n          className,\n          style: itemStyle,\n          key: \"legend-item-\".concat(i)\n        }, adaptEventsOfChild(_this.props, entry, i)), import_react6.default.createElement(Surface, {\n          width: iconSize,\n          height: iconSize,\n          viewBox,\n          style: svgStyle\n        }, _this.renderIcon(entry)), import_react6.default.createElement(\"span\", {\n          className: \"recharts-legend-item-text\",\n          style: {\n            color: color2\n          }\n        }, finalFormatter ? finalFormatter(entryValue, entry, i) : entryValue));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props, payload = _this$props2.payload, layout = _this$props2.layout, align = _this$props2.align;\n      if (!payload || !payload.length) {\n        return null;\n      }\n      var finalStyle = {\n        padding: 0,\n        margin: 0,\n        textAlign: layout === \"horizontal\" ? align : \"left\"\n      };\n      return import_react6.default.createElement(\"ul\", {\n        className: \"recharts-default-legend\",\n        style: finalStyle\n      }, this.renderItems());\n    }\n  }]);\n})(import_react6.PureComponent);\n_defineProperty2(DefaultLegendContent, \"displayName\", \"Legend\");\n_defineProperty2(DefaultLegendContent, \"defaultProps\", {\n  iconSize: 14,\n  layout: \"horizontal\",\n  align: \"center\",\n  verticalAlign: \"middle\",\n  inactiveColor: \"#ccc\"\n});\n\n// node_modules/recharts/es6/util/payload/getUniqPayload.js\nvar import_uniqBy = __toESM(require_uniqBy());\nvar import_isFunction3 = __toESM(require_isFunction());\nfunction getUniqPayload(payload, option, defaultUniqBy3) {\n  if (option === true) {\n    return (0, import_uniqBy.default)(payload, defaultUniqBy3);\n  }\n  if ((0, import_isFunction3.default)(option)) {\n    return (0, import_uniqBy.default)(payload, option);\n  }\n  return payload;\n}\n\n// node_modules/recharts/es6/component/Legend.js\nfunction _typeof5(o) {\n  \"@babel/helpers - typeof\";\n  return _typeof5 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(o2) {\n    return typeof o2;\n  } : function(o2) {\n    return o2 && \"function\" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? \"symbol\" : typeof o2;\n  }, _typeof5(o);\n}\nvar _excluded6 = [\"ref\"];\nfunction ownKeys3(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function(r2) {\n      return Object.getOwnPropertyDescriptor(e, r2).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread3(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys3(Object(t), true).forEach(function(r2) {\n      _defineProperty3(e, r2, t[r2]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys3(Object(t)).forEach(function(r2) {\n      Object.defineProperty(e, r2, Object.getOwnPropertyDescriptor(t, r2));\n    });\n  }\n  return e;\n}\nfunction _classCallCheck2(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties2(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey3(descriptor.key), descriptor);\n  }\n}\nfunction _createClass2(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties2(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties2(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", { writable: false });\n  return Constructor;\n}\nfunction _callSuper2(t, o, e) {\n  return o = _getPrototypeOf2(o), _possibleConstructorReturn2(t, _isNativeReflectConstruct2() ? Reflect.construct(o, e || [], _getPrototypeOf2(t).constructor) : o.apply(t, e));\n}\nfunction _possibleConstructorReturn2(self2, call) {\n  if (call && (_typeof5(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized2(self2);\n}\nfunction _assertThisInitialized2(self2) {\n  if (self2 === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self2;\n}\nfunction _isNativeReflectConstruct2() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n  } catch (t4) {\n  }\n  return (_isNativeReflectConstruct2 = function _isNativeReflectConstruct29() {\n    return !!t;\n  })();\n}\nfunction _getPrototypeOf2(o) {\n  _getPrototypeOf2 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf29(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf2(o);\n}\nfunction _inherits2(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });\n  Object.defineProperty(subClass, \"prototype\", { writable: false });\n  if (superClass) _setPrototypeOf2(subClass, superClass);\n}\nfunction _setPrototypeOf2(o, p) {\n  _setPrototypeOf2 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf30(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf2(o, p);\n}\nfunction _defineProperty3(obj, key, value) {\n  key = _toPropertyKey3(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey3(t) {\n  var i = _toPrimitive3(t, \"string\");\n  return \"symbol\" == _typeof5(i) ? i : i + \"\";\n}\nfunction _toPrimitive3(t, r) {\n  if (\"object\" != _typeof5(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof5(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _objectWithoutProperties5(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose5(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose5(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  for (var key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction defaultUniqBy(entry) {\n  return entry.value;\n}\nfunction renderContent(content, props) {\n  if (import_react7.default.isValidElement(content)) {\n    return import_react7.default.cloneElement(content, props);\n  }\n  if (typeof content === \"function\") {\n    return import_react7.default.createElement(content, props);\n  }\n  var ref = props.ref, otherProps = _objectWithoutProperties5(props, _excluded6);\n  return import_react7.default.createElement(DefaultLegendContent, otherProps);\n}\nvar EPS = 1;\nvar Legend = (function(_PureComponent) {\n  function Legend2() {\n    var _this;\n    _classCallCheck2(this, Legend2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper2(this, Legend2, [].concat(args));\n    _defineProperty3(_this, \"lastBoundingBox\", {\n      width: -1,\n      height: -1\n    });\n    return _this;\n  }\n  _inherits2(Legend2, _PureComponent);\n  return _createClass2(Legend2, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateBBox();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.updateBBox();\n    }\n  }, {\n    key: \"getBBox\",\n    value: function getBBox() {\n      if (this.wrapperNode && this.wrapperNode.getBoundingClientRect) {\n        var box = this.wrapperNode.getBoundingClientRect();\n        box.height = this.wrapperNode.offsetHeight;\n        box.width = this.wrapperNode.offsetWidth;\n        return box;\n      }\n      return null;\n    }\n  }, {\n    key: \"updateBBox\",\n    value: function updateBBox() {\n      var onBBoxUpdate = this.props.onBBoxUpdate;\n      var box = this.getBBox();\n      if (box) {\n        if (Math.abs(box.width - this.lastBoundingBox.width) > EPS || Math.abs(box.height - this.lastBoundingBox.height) > EPS) {\n          this.lastBoundingBox.width = box.width;\n          this.lastBoundingBox.height = box.height;\n          if (onBBoxUpdate) {\n            onBBoxUpdate(box);\n          }\n        }\n      } else if (this.lastBoundingBox.width !== -1 || this.lastBoundingBox.height !== -1) {\n        this.lastBoundingBox.width = -1;\n        this.lastBoundingBox.height = -1;\n        if (onBBoxUpdate) {\n          onBBoxUpdate(null);\n        }\n      }\n    }\n  }, {\n    key: \"getBBoxSnapshot\",\n    value: function getBBoxSnapshot() {\n      if (this.lastBoundingBox.width >= 0 && this.lastBoundingBox.height >= 0) {\n        return _objectSpread3({}, this.lastBoundingBox);\n      }\n      return {\n        width: 0,\n        height: 0\n      };\n    }\n  }, {\n    key: \"getDefaultPosition\",\n    value: function getDefaultPosition(style) {\n      var _this$props = this.props, layout = _this$props.layout, align = _this$props.align, verticalAlign = _this$props.verticalAlign, margin = _this$props.margin, chartWidth = _this$props.chartWidth, chartHeight = _this$props.chartHeight;\n      var hPos, vPos;\n      if (!style || (style.left === void 0 || style.left === null) && (style.right === void 0 || style.right === null)) {\n        if (align === \"center\" && layout === \"vertical\") {\n          var box = this.getBBoxSnapshot();\n          hPos = {\n            left: ((chartWidth || 0) - box.width) / 2\n          };\n        } else {\n          hPos = align === \"right\" ? {\n            right: margin && margin.right || 0\n          } : {\n            left: margin && margin.left || 0\n          };\n        }\n      }\n      if (!style || (style.top === void 0 || style.top === null) && (style.bottom === void 0 || style.bottom === null)) {\n        if (verticalAlign === \"middle\") {\n          var _box = this.getBBoxSnapshot();\n          vPos = {\n            top: ((chartHeight || 0) - _box.height) / 2\n          };\n        } else {\n          vPos = verticalAlign === \"bottom\" ? {\n            bottom: margin && margin.bottom || 0\n          } : {\n            top: margin && margin.top || 0\n          };\n        }\n      }\n      return _objectSpread3(_objectSpread3({}, hPos), vPos);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props2 = this.props, content = _this$props2.content, width = _this$props2.width, height = _this$props2.height, wrapperStyle = _this$props2.wrapperStyle, payloadUniqBy = _this$props2.payloadUniqBy, payload = _this$props2.payload;\n      var outerStyle = _objectSpread3(_objectSpread3({\n        position: \"absolute\",\n        width: width || \"auto\",\n        height: height || \"auto\"\n      }, this.getDefaultPosition(wrapperStyle)), wrapperStyle);\n      return import_react7.default.createElement(\"div\", {\n        className: \"recharts-legend-wrapper\",\n        style: outerStyle,\n        ref: function ref(node) {\n          _this2.wrapperNode = node;\n        }\n      }, renderContent(content, _objectSpread3(_objectSpread3({}, this.props), {}, {\n        payload: getUniqPayload(payload, payloadUniqBy, defaultUniqBy)\n      })));\n    }\n  }], [{\n    key: \"getWithHeight\",\n    value: function getWithHeight(item, chartWidth) {\n      var _this$defaultProps$it = _objectSpread3(_objectSpread3({}, this.defaultProps), item.props), layout = _this$defaultProps$it.layout;\n      if (layout === \"vertical\" && isNumber(item.props.height)) {\n        return {\n          height: item.props.height\n        };\n      }\n      if (layout === \"horizontal\") {\n        return {\n          width: item.props.width || chartWidth\n        };\n      }\n      return null;\n    }\n  }]);\n})(import_react7.PureComponent);\n_defineProperty3(Legend, \"displayName\", \"Legend\");\n_defineProperty3(Legend, \"defaultProps\", {\n  iconSize: 14,\n  layout: \"horizontal\",\n  align: \"center\",\n  verticalAlign: \"bottom\"\n});\n\n// node_modules/recharts/es6/component/Tooltip.js\nvar import_react10 = __toESM(require_react());\n\n// node_modules/recharts/es6/component/DefaultTooltipContent.js\nvar import_react8 = __toESM(require_react());\nvar import_sortBy = __toESM(require_sortBy());\nvar import_isNil3 = __toESM(require_isNil());\nfunction _typeof6(o) {\n  \"@babel/helpers - typeof\";\n  return _typeof6 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(o2) {\n    return typeof o2;\n  } : function(o2) {\n    return o2 && \"function\" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? \"symbol\" : typeof o2;\n  }, _typeof6(o);\n}\nfunction _extends5() {\n  _extends5 = Object.assign ? Object.assign.bind() : function(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends5.apply(this, arguments);\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e, n, i, u, a2 = [], f = true, o = false;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = false;\n      } else for (; !(f = (e = i.call(t)).done) && (a2.push(e.value), a2.length !== l); f = true) ;\n    } catch (r2) {\n      o = true, n = r2;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a2;\n  }\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction ownKeys4(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function(r2) {\n      return Object.getOwnPropertyDescriptor(e, r2).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread4(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys4(Object(t), true).forEach(function(r2) {\n      _defineProperty4(e, r2, t[r2]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys4(Object(t)).forEach(function(r2) {\n      Object.defineProperty(e, r2, Object.getOwnPropertyDescriptor(t, r2));\n    });\n  }\n  return e;\n}\nfunction _defineProperty4(obj, key, value) {\n  key = _toPropertyKey4(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey4(t) {\n  var i = _toPrimitive4(t, \"string\");\n  return \"symbol\" == _typeof6(i) ? i : i + \"\";\n}\nfunction _toPrimitive4(t, r) {\n  if (\"object\" != _typeof6(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof6(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction defaultFormatter(value) {\n  return Array.isArray(value) && isNumOrStr(value[0]) && isNumOrStr(value[1]) ? value.join(\" ~ \") : value;\n}\nvar DefaultTooltipContent = function DefaultTooltipContent2(props) {\n  var _props$separator = props.separator, separator = _props$separator === void 0 ? \" : \" : _props$separator, _props$contentStyle = props.contentStyle, contentStyle = _props$contentStyle === void 0 ? {} : _props$contentStyle, _props$itemStyle = props.itemStyle, itemStyle = _props$itemStyle === void 0 ? {} : _props$itemStyle, _props$labelStyle = props.labelStyle, labelStyle = _props$labelStyle === void 0 ? {} : _props$labelStyle, payload = props.payload, formatter = props.formatter, itemSorter = props.itemSorter, wrapperClassName = props.wrapperClassName, labelClassName = props.labelClassName, label = props.label, labelFormatter = props.labelFormatter, _props$accessibilityL = props.accessibilityLayer, accessibilityLayer = _props$accessibilityL === void 0 ? false : _props$accessibilityL;\n  var renderContent3 = function renderContent4() {\n    if (payload && payload.length) {\n      var listStyle = {\n        padding: 0,\n        margin: 0\n      };\n      var items = (itemSorter ? (0, import_sortBy.default)(payload, itemSorter) : payload).map(function(entry, i) {\n        if (entry.type === \"none\") {\n          return null;\n        }\n        var finalItemStyle = _objectSpread4({\n          display: \"block\",\n          paddingTop: 4,\n          paddingBottom: 4,\n          color: entry.color || \"#000\"\n        }, itemStyle);\n        var finalFormatter = entry.formatter || formatter || defaultFormatter;\n        var value = entry.value, name = entry.name;\n        var finalValue = value;\n        var finalName = name;\n        if (finalFormatter && finalValue != null && finalName != null) {\n          var formatted = finalFormatter(value, name, entry, i, payload);\n          if (Array.isArray(formatted)) {\n            var _formatted = _slicedToArray(formatted, 2);\n            finalValue = _formatted[0];\n            finalName = _formatted[1];\n          } else {\n            finalValue = formatted;\n          }\n        }\n        return (\n          // eslint-disable-next-line react/no-array-index-key\n          import_react8.default.createElement(\"li\", {\n            className: \"recharts-tooltip-item\",\n            key: \"tooltip-item-\".concat(i),\n            style: finalItemStyle\n          }, isNumOrStr(finalName) ? import_react8.default.createElement(\"span\", {\n            className: \"recharts-tooltip-item-name\"\n          }, finalName) : null, isNumOrStr(finalName) ? import_react8.default.createElement(\"span\", {\n            className: \"recharts-tooltip-item-separator\"\n          }, separator) : null, import_react8.default.createElement(\"span\", {\n            className: \"recharts-tooltip-item-value\"\n          }, finalValue), import_react8.default.createElement(\"span\", {\n            className: \"recharts-tooltip-item-unit\"\n          }, entry.unit || \"\"))\n        );\n      });\n      return import_react8.default.createElement(\"ul\", {\n        className: \"recharts-tooltip-item-list\",\n        style: listStyle\n      }, items);\n    }\n    return null;\n  };\n  var finalStyle = _objectSpread4({\n    margin: 0,\n    padding: 10,\n    backgroundColor: \"#fff\",\n    border: \"1px solid #ccc\",\n    whiteSpace: \"nowrap\"\n  }, contentStyle);\n  var finalLabelStyle = _objectSpread4({\n    margin: 0\n  }, labelStyle);\n  var hasLabel = !(0, import_isNil3.default)(label);\n  var finalLabel = hasLabel ? label : \"\";\n  var wrapperCN = clsx_default(\"recharts-default-tooltip\", wrapperClassName);\n  var labelCN = clsx_default(\"recharts-tooltip-label\", labelClassName);\n  if (hasLabel && labelFormatter && payload !== void 0 && payload !== null) {\n    finalLabel = labelFormatter(label, payload);\n  }\n  var accessibilityAttributes = accessibilityLayer ? {\n    role: \"status\",\n    \"aria-live\": \"assertive\"\n  } : {};\n  return import_react8.default.createElement(\"div\", _extends5({\n    className: wrapperCN,\n    style: finalStyle\n  }, accessibilityAttributes), import_react8.default.createElement(\"p\", {\n    className: labelCN,\n    style: finalLabelStyle\n  }, import_react8.default.isValidElement(finalLabel) ? finalLabel : \"\".concat(finalLabel)), renderContent3());\n};\n\n// node_modules/recharts/es6/component/TooltipBoundingBox.js\nvar import_react9 = __toESM(require_react());\n\n// node_modules/recharts/es6/util/tooltip/translate.js\nfunction _typeof7(o) {\n  \"@babel/helpers - typeof\";\n  return _typeof7 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(o2) {\n    return typeof o2;\n  } : function(o2) {\n    return o2 && \"function\" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? \"symbol\" : typeof o2;\n  }, _typeof7(o);\n}\nfunction _defineProperty5(obj, key, value) {\n  key = _toPropertyKey5(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey5(t) {\n  var i = _toPrimitive5(t, \"string\");\n  return \"symbol\" == _typeof7(i) ? i : i + \"\";\n}\nfunction _toPrimitive5(t, r) {\n  if (\"object\" != _typeof7(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof7(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nvar CSS_CLASS_PREFIX = \"recharts-tooltip-wrapper\";\nvar TOOLTIP_HIDDEN = {\n  visibility: \"hidden\"\n};\nfunction getTooltipCSSClassName(_ref) {\n  var coordinate = _ref.coordinate, translateX = _ref.translateX, translateY = _ref.translateY;\n  return clsx_default(CSS_CLASS_PREFIX, _defineProperty5(_defineProperty5(_defineProperty5(_defineProperty5({}, \"\".concat(CSS_CLASS_PREFIX, \"-right\"), isNumber(translateX) && coordinate && isNumber(coordinate.x) && translateX >= coordinate.x), \"\".concat(CSS_CLASS_PREFIX, \"-left\"), isNumber(translateX) && coordinate && isNumber(coordinate.x) && translateX < coordinate.x), \"\".concat(CSS_CLASS_PREFIX, \"-bottom\"), isNumber(translateY) && coordinate && isNumber(coordinate.y) && translateY >= coordinate.y), \"\".concat(CSS_CLASS_PREFIX, \"-top\"), isNumber(translateY) && coordinate && isNumber(coordinate.y) && translateY < coordinate.y));\n}\nfunction getTooltipTranslateXY(_ref2) {\n  var allowEscapeViewBox = _ref2.allowEscapeViewBox, coordinate = _ref2.coordinate, key = _ref2.key, offsetTopLeft = _ref2.offsetTopLeft, position3 = _ref2.position, reverseDirection = _ref2.reverseDirection, tooltipDimension = _ref2.tooltipDimension, viewBox = _ref2.viewBox, viewBoxDimension = _ref2.viewBoxDimension;\n  if (position3 && isNumber(position3[key])) {\n    return position3[key];\n  }\n  var negative = coordinate[key] - tooltipDimension - offsetTopLeft;\n  var positive = coordinate[key] + offsetTopLeft;\n  if (allowEscapeViewBox[key]) {\n    return reverseDirection[key] ? negative : positive;\n  }\n  if (reverseDirection[key]) {\n    var _tooltipBoundary = negative;\n    var _viewBoxBoundary = viewBox[key];\n    if (_tooltipBoundary < _viewBoxBoundary) {\n      return Math.max(positive, viewBox[key]);\n    }\n    return Math.max(negative, viewBox[key]);\n  }\n  var tooltipBoundary = positive + tooltipDimension;\n  var viewBoxBoundary = viewBox[key] + viewBoxDimension;\n  if (tooltipBoundary > viewBoxBoundary) {\n    return Math.max(negative, viewBox[key]);\n  }\n  return Math.max(positive, viewBox[key]);\n}\nfunction getTransformStyle(_ref3) {\n  var translateX = _ref3.translateX, translateY = _ref3.translateY, useTranslate3d = _ref3.useTranslate3d;\n  return {\n    transform: useTranslate3d ? \"translate3d(\".concat(translateX, \"px, \").concat(translateY, \"px, 0)\") : \"translate(\".concat(translateX, \"px, \").concat(translateY, \"px)\")\n  };\n}\nfunction getTooltipTranslate(_ref4) {\n  var allowEscapeViewBox = _ref4.allowEscapeViewBox, coordinate = _ref4.coordinate, offsetTopLeft = _ref4.offsetTopLeft, position3 = _ref4.position, reverseDirection = _ref4.reverseDirection, tooltipBox = _ref4.tooltipBox, useTranslate3d = _ref4.useTranslate3d, viewBox = _ref4.viewBox;\n  var cssProperties, translateX, translateY;\n  if (tooltipBox.height > 0 && tooltipBox.width > 0 && coordinate) {\n    translateX = getTooltipTranslateXY({\n      allowEscapeViewBox,\n      coordinate,\n      key: \"x\",\n      offsetTopLeft,\n      position: position3,\n      reverseDirection,\n      tooltipDimension: tooltipBox.width,\n      viewBox,\n      viewBoxDimension: viewBox.width\n    });\n    translateY = getTooltipTranslateXY({\n      allowEscapeViewBox,\n      coordinate,\n      key: \"y\",\n      offsetTopLeft,\n      position: position3,\n      reverseDirection,\n      tooltipDimension: tooltipBox.height,\n      viewBox,\n      viewBoxDimension: viewBox.height\n    });\n    cssProperties = getTransformStyle({\n      translateX,\n      translateY,\n      useTranslate3d\n    });\n  } else {\n    cssProperties = TOOLTIP_HIDDEN;\n  }\n  return {\n    cssProperties,\n    cssClasses: getTooltipCSSClassName({\n      translateX,\n      translateY,\n      coordinate\n    })\n  };\n}\n\n// node_modules/recharts/es6/component/TooltipBoundingBox.js\nfunction _typeof8(o) {\n  \"@babel/helpers - typeof\";\n  return _typeof8 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(o2) {\n    return typeof o2;\n  } : function(o2) {\n    return o2 && \"function\" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? \"symbol\" : typeof o2;\n  }, _typeof8(o);\n}\nfunction ownKeys5(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function(r2) {\n      return Object.getOwnPropertyDescriptor(e, r2).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread5(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys5(Object(t), true).forEach(function(r2) {\n      _defineProperty6(e, r2, t[r2]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys5(Object(t)).forEach(function(r2) {\n      Object.defineProperty(e, r2, Object.getOwnPropertyDescriptor(t, r2));\n    });\n  }\n  return e;\n}\nfunction _classCallCheck3(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties3(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey6(descriptor.key), descriptor);\n  }\n}\nfunction _createClass3(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties3(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties3(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", { writable: false });\n  return Constructor;\n}\nfunction _callSuper3(t, o, e) {\n  return o = _getPrototypeOf3(o), _possibleConstructorReturn3(t, _isNativeReflectConstruct3() ? Reflect.construct(o, e || [], _getPrototypeOf3(t).constructor) : o.apply(t, e));\n}\nfunction _possibleConstructorReturn3(self2, call) {\n  if (call && (_typeof8(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized3(self2);\n}\nfunction _assertThisInitialized3(self2) {\n  if (self2 === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self2;\n}\nfunction _isNativeReflectConstruct3() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n  } catch (t4) {\n  }\n  return (_isNativeReflectConstruct3 = function _isNativeReflectConstruct29() {\n    return !!t;\n  })();\n}\nfunction _getPrototypeOf3(o) {\n  _getPrototypeOf3 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf29(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf3(o);\n}\nfunction _inherits3(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });\n  Object.defineProperty(subClass, \"prototype\", { writable: false });\n  if (superClass) _setPrototypeOf3(subClass, superClass);\n}\nfunction _setPrototypeOf3(o, p) {\n  _setPrototypeOf3 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf30(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf3(o, p);\n}\nfunction _defineProperty6(obj, key, value) {\n  key = _toPropertyKey6(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey6(t) {\n  var i = _toPrimitive6(t, \"string\");\n  return \"symbol\" == _typeof8(i) ? i : i + \"\";\n}\nfunction _toPrimitive6(t, r) {\n  if (\"object\" != _typeof8(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof8(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nvar EPSILON = 1;\nvar TooltipBoundingBox = (function(_PureComponent) {\n  function TooltipBoundingBox2() {\n    var _this;\n    _classCallCheck3(this, TooltipBoundingBox2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper3(this, TooltipBoundingBox2, [].concat(args));\n    _defineProperty6(_this, \"state\", {\n      dismissed: false,\n      dismissedAtCoordinate: {\n        x: 0,\n        y: 0\n      },\n      lastBoundingBox: {\n        width: -1,\n        height: -1\n      }\n    });\n    _defineProperty6(_this, \"handleKeyDown\", function(event) {\n      if (event.key === \"Escape\") {\n        var _this$props$coordinat, _this$props$coordinat2, _this$props$coordinat3, _this$props$coordinat4;\n        _this.setState({\n          dismissed: true,\n          dismissedAtCoordinate: {\n            x: (_this$props$coordinat = (_this$props$coordinat2 = _this.props.coordinate) === null || _this$props$coordinat2 === void 0 ? void 0 : _this$props$coordinat2.x) !== null && _this$props$coordinat !== void 0 ? _this$props$coordinat : 0,\n            y: (_this$props$coordinat3 = (_this$props$coordinat4 = _this.props.coordinate) === null || _this$props$coordinat4 === void 0 ? void 0 : _this$props$coordinat4.y) !== null && _this$props$coordinat3 !== void 0 ? _this$props$coordinat3 : 0\n          }\n        });\n      }\n    });\n    return _this;\n  }\n  _inherits3(TooltipBoundingBox2, _PureComponent);\n  return _createClass3(TooltipBoundingBox2, [{\n    key: \"updateBBox\",\n    value: function updateBBox() {\n      if (this.wrapperNode && this.wrapperNode.getBoundingClientRect) {\n        var box = this.wrapperNode.getBoundingClientRect();\n        if (Math.abs(box.width - this.state.lastBoundingBox.width) > EPSILON || Math.abs(box.height - this.state.lastBoundingBox.height) > EPSILON) {\n          this.setState({\n            lastBoundingBox: {\n              width: box.width,\n              height: box.height\n            }\n          });\n        }\n      } else if (this.state.lastBoundingBox.width !== -1 || this.state.lastBoundingBox.height !== -1) {\n        this.setState({\n          lastBoundingBox: {\n            width: -1,\n            height: -1\n          }\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener(\"keydown\", this.handleKeyDown);\n      this.updateBBox();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener(\"keydown\", this.handleKeyDown);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this$props$coordinat5, _this$props$coordinat6;\n      if (this.props.active) {\n        this.updateBBox();\n      }\n      if (!this.state.dismissed) {\n        return;\n      }\n      if (((_this$props$coordinat5 = this.props.coordinate) === null || _this$props$coordinat5 === void 0 ? void 0 : _this$props$coordinat5.x) !== this.state.dismissedAtCoordinate.x || ((_this$props$coordinat6 = this.props.coordinate) === null || _this$props$coordinat6 === void 0 ? void 0 : _this$props$coordinat6.y) !== this.state.dismissedAtCoordinate.y) {\n        this.state.dismissed = false;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props, active = _this$props.active, allowEscapeViewBox = _this$props.allowEscapeViewBox, animationDuration = _this$props.animationDuration, animationEasing = _this$props.animationEasing, children2 = _this$props.children, coordinate = _this$props.coordinate, hasPayload = _this$props.hasPayload, isAnimationActive = _this$props.isAnimationActive, offset = _this$props.offset, position3 = _this$props.position, reverseDirection = _this$props.reverseDirection, useTranslate3d = _this$props.useTranslate3d, viewBox = _this$props.viewBox, wrapperStyle = _this$props.wrapperStyle;\n      var _getTooltipTranslate = getTooltipTranslate({\n        allowEscapeViewBox,\n        coordinate,\n        offsetTopLeft: offset,\n        position: position3,\n        reverseDirection,\n        tooltipBox: this.state.lastBoundingBox,\n        useTranslate3d,\n        viewBox\n      }), cssClasses = _getTooltipTranslate.cssClasses, cssProperties = _getTooltipTranslate.cssProperties;\n      var outerStyle = _objectSpread5(_objectSpread5({\n        transition: isAnimationActive && active ? \"transform \".concat(animationDuration, \"ms \").concat(animationEasing) : void 0\n      }, cssProperties), {}, {\n        pointerEvents: \"none\",\n        visibility: !this.state.dismissed && active && hasPayload ? \"visible\" : \"hidden\",\n        position: \"absolute\",\n        top: 0,\n        left: 0\n      }, wrapperStyle);\n      return (\n        // This element allow listening to the `Escape` key.\n        // See https://github.com/recharts/recharts/pull/2925\n        import_react9.default.createElement(\"div\", {\n          tabIndex: -1,\n          className: cssClasses,\n          style: outerStyle,\n          ref: function ref(node) {\n            _this2.wrapperNode = node;\n          }\n        }, children2)\n      );\n    }\n  }]);\n})(import_react9.PureComponent);\n\n// node_modules/recharts/es6/util/Global.js\nvar parseIsSsrByDefault = function parseIsSsrByDefault2() {\n  return !(typeof window !== \"undefined\" && window.document && window.document.createElement && window.setTimeout);\n};\nvar Global = {\n  isSsr: parseIsSsrByDefault(),\n  get: function get3(key) {\n    return Global[key];\n  },\n  set: function set(key, value) {\n    if (typeof key === \"string\") {\n      Global[key] = value;\n    } else {\n      var keys2 = Object.keys(key);\n      if (keys2 && keys2.length) {\n        keys2.forEach(function(k2) {\n          Global[k2] = key[k2];\n        });\n      }\n    }\n  }\n};\n\n// node_modules/recharts/es6/component/Tooltip.js\nfunction _typeof9(o) {\n  \"@babel/helpers - typeof\";\n  return _typeof9 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(o2) {\n    return typeof o2;\n  } : function(o2) {\n    return o2 && \"function\" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? \"symbol\" : typeof o2;\n  }, _typeof9(o);\n}\nfunction ownKeys6(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function(r2) {\n      return Object.getOwnPropertyDescriptor(e, r2).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread6(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys6(Object(t), true).forEach(function(r2) {\n      _defineProperty7(e, r2, t[r2]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys6(Object(t)).forEach(function(r2) {\n      Object.defineProperty(e, r2, Object.getOwnPropertyDescriptor(t, r2));\n    });\n  }\n  return e;\n}\nfunction _classCallCheck4(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties4(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey7(descriptor.key), descriptor);\n  }\n}\nfunction _createClass4(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties4(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties4(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", { writable: false });\n  return Constructor;\n}\nfunction _callSuper4(t, o, e) {\n  return o = _getPrototypeOf4(o), _possibleConstructorReturn4(t, _isNativeReflectConstruct4() ? Reflect.construct(o, e || [], _getPrototypeOf4(t).constructor) : o.apply(t, e));\n}\nfunction _possibleConstructorReturn4(self2, call) {\n  if (call && (_typeof9(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized4(self2);\n}\nfunction _assertThisInitialized4(self2) {\n  if (self2 === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self2;\n}\nfunction _isNativeReflectConstruct4() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n  } catch (t4) {\n  }\n  return (_isNativeReflectConstruct4 = function _isNativeReflectConstruct29() {\n    return !!t;\n  })();\n}\nfunction _getPrototypeOf4(o) {\n  _getPrototypeOf4 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf29(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf4(o);\n}\nfunction _inherits4(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });\n  Object.defineProperty(subClass, \"prototype\", { writable: false });\n  if (superClass) _setPrototypeOf4(subClass, superClass);\n}\nfunction _setPrototypeOf4(o, p) {\n  _setPrototypeOf4 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf30(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf4(o, p);\n}\nfunction _defineProperty7(obj, key, value) {\n  key = _toPropertyKey7(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey7(t) {\n  var i = _toPrimitive7(t, \"string\");\n  return \"symbol\" == _typeof9(i) ? i : i + \"\";\n}\nfunction _toPrimitive7(t, r) {\n  if (\"object\" != _typeof9(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof9(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction defaultUniqBy2(entry) {\n  return entry.dataKey;\n}\nfunction renderContent2(content, props) {\n  if (import_react10.default.isValidElement(content)) {\n    return import_react10.default.cloneElement(content, props);\n  }\n  if (typeof content === \"function\") {\n    return import_react10.default.createElement(content, props);\n  }\n  return import_react10.default.createElement(DefaultTooltipContent, props);\n}\nvar Tooltip = (function(_PureComponent) {\n  function Tooltip2() {\n    _classCallCheck4(this, Tooltip2);\n    return _callSuper4(this, Tooltip2, arguments);\n  }\n  _inherits4(Tooltip2, _PureComponent);\n  return _createClass4(Tooltip2, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n      var _this$props = this.props, active = _this$props.active, allowEscapeViewBox = _this$props.allowEscapeViewBox, animationDuration = _this$props.animationDuration, animationEasing = _this$props.animationEasing, content = _this$props.content, coordinate = _this$props.coordinate, filterNull = _this$props.filterNull, isAnimationActive = _this$props.isAnimationActive, offset = _this$props.offset, payload = _this$props.payload, payloadUniqBy = _this$props.payloadUniqBy, position3 = _this$props.position, reverseDirection = _this$props.reverseDirection, useTranslate3d = _this$props.useTranslate3d, viewBox = _this$props.viewBox, wrapperStyle = _this$props.wrapperStyle;\n      var finalPayload = payload !== null && payload !== void 0 ? payload : [];\n      if (filterNull && finalPayload.length) {\n        finalPayload = getUniqPayload(payload.filter(function(entry) {\n          return entry.value != null && (entry.hide !== true || _this.props.includeHidden);\n        }), payloadUniqBy, defaultUniqBy2);\n      }\n      var hasPayload = finalPayload.length > 0;\n      return import_react10.default.createElement(TooltipBoundingBox, {\n        allowEscapeViewBox,\n        animationDuration,\n        animationEasing,\n        isAnimationActive,\n        active,\n        coordinate,\n        hasPayload,\n        offset,\n        position: position3,\n        reverseDirection,\n        useTranslate3d,\n        viewBox,\n        wrapperStyle\n      }, renderContent2(content, _objectSpread6(_objectSpread6({}, this.props), {}, {\n        payload: finalPayload\n      })));\n    }\n  }]);\n})(import_react10.PureComponent);\n_defineProperty7(Tooltip, \"displayName\", \"Tooltip\");\n_defineProperty7(Tooltip, \"defaultProps\", {\n  accessibilityLayer: false,\n  allowEscapeViewBox: {\n    x: false,\n    y: false\n  },\n  animationDuration: 400,\n  animationEasing: \"ease\",\n  contentStyle: {},\n  coordinate: {\n    x: 0,\n    y: 0\n  },\n  cursor: true,\n  cursorStyle: {},\n  filterNull: true,\n  isAnimationActive: !Global.isSsr,\n  itemStyle: {},\n  labelStyle: {},\n  offset: 10,\n  reverseDirection: {\n    x: false,\n    y: false\n  },\n  separator: \" : \",\n  trigger: \"hover\",\n  useTranslate3d: false,\n  viewBox: {\n    x: 0,\n    y: 0,\n    height: 0,\n    width: 0\n  },\n  wrapperStyle: {}\n});\n\n// node_modules/recharts/es6/component/ResponsiveContainer.js\nvar import_react11 = __toESM(require_react());\nvar import_throttle = __toESM(require_throttle());\nfunction _typeof10(o) {\n  \"@babel/helpers - typeof\";\n  return _typeof10 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(o2) {\n    return typeof o2;\n  } : function(o2) {\n    return o2 && \"function\" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? \"symbol\" : typeof o2;\n  }, _typeof10(o);\n}\nfunction ownKeys7(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function(r2) {\n      return Object.getOwnPropertyDescriptor(e, r2).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread7(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys7(Object(t), true).forEach(function(r2) {\n      _defineProperty8(e, r2, t[r2]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys7(Object(t)).forEach(function(r2) {\n      Object.defineProperty(e, r2, Object.getOwnPropertyDescriptor(t, r2));\n    });\n  }\n  return e;\n}\nfunction _defineProperty8(obj, key, value) {\n  key = _toPropertyKey8(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey8(t) {\n  var i = _toPrimitive8(t, \"string\");\n  return \"symbol\" == _typeof10(i) ? i : i + \"\";\n}\nfunction _toPrimitive8(t, r) {\n  if (\"object\" != _typeof10(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof10(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction _slicedToArray2(arr, i) {\n  return _arrayWithHoles2(arr) || _iterableToArrayLimit2(arr, i) || _unsupportedIterableToArray2(arr, i) || _nonIterableRest2();\n}\nfunction _nonIterableRest2() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray2(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray2(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray2(o, minLen);\n}\nfunction _arrayLikeToArray2(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _iterableToArrayLimit2(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e, n, i, u, a2 = [], f = true, o = false;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = false;\n      } else for (; !(f = (e = i.call(t)).done) && (a2.push(e.value), a2.length !== l); f = true) ;\n    } catch (r2) {\n      o = true, n = r2;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a2;\n  }\n}\nfunction _arrayWithHoles2(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nvar ResponsiveContainer = (0, import_react11.forwardRef)(function(_ref, ref) {\n  var aspect = _ref.aspect, _ref$initialDimension = _ref.initialDimension, initialDimension = _ref$initialDimension === void 0 ? {\n    width: -1,\n    height: -1\n  } : _ref$initialDimension, _ref$width = _ref.width, width = _ref$width === void 0 ? \"100%\" : _ref$width, _ref$height = _ref.height, height = _ref$height === void 0 ? \"100%\" : _ref$height, _ref$minWidth = _ref.minWidth, minWidth = _ref$minWidth === void 0 ? 0 : _ref$minWidth, minHeight = _ref.minHeight, maxHeight = _ref.maxHeight, children2 = _ref.children, _ref$debounce = _ref.debounce, debounce = _ref$debounce === void 0 ? 0 : _ref$debounce, id = _ref.id, className = _ref.className, onResize = _ref.onResize, _ref$style = _ref.style, style = _ref$style === void 0 ? {} : _ref$style;\n  var containerRef = (0, import_react11.useRef)(null);\n  var onResizeRef = (0, import_react11.useRef)();\n  onResizeRef.current = onResize;\n  (0, import_react11.useImperativeHandle)(ref, function() {\n    return Object.defineProperty(containerRef.current, \"current\", {\n      get: function get10() {\n        console.warn(\"The usage of ref.current.current is deprecated and will no longer be supported.\");\n        return containerRef.current;\n      },\n      configurable: true\n    });\n  });\n  var _useState = (0, import_react11.useState)({\n    containerWidth: initialDimension.width,\n    containerHeight: initialDimension.height\n  }), _useState2 = _slicedToArray2(_useState, 2), sizes = _useState2[0], setSizes = _useState2[1];\n  var setContainerSize = (0, import_react11.useCallback)(function(newWidth, newHeight) {\n    setSizes(function(prevState) {\n      var roundedWidth = Math.round(newWidth);\n      var roundedHeight = Math.round(newHeight);\n      if (prevState.containerWidth === roundedWidth && prevState.containerHeight === roundedHeight) {\n        return prevState;\n      }\n      return {\n        containerWidth: roundedWidth,\n        containerHeight: roundedHeight\n      };\n    });\n  }, []);\n  (0, import_react11.useEffect)(function() {\n    var callback = function callback2(entries) {\n      var _onResizeRef$current;\n      var _entries$0$contentRec = entries[0].contentRect, containerWidth2 = _entries$0$contentRec.width, containerHeight2 = _entries$0$contentRec.height;\n      setContainerSize(containerWidth2, containerHeight2);\n      (_onResizeRef$current = onResizeRef.current) === null || _onResizeRef$current === void 0 || _onResizeRef$current.call(onResizeRef, containerWidth2, containerHeight2);\n    };\n    if (debounce > 0) {\n      callback = (0, import_throttle.default)(callback, debounce, {\n        trailing: true,\n        leading: false\n      });\n    }\n    var observer = new ResizeObserver(callback);\n    var _containerRef$current = containerRef.current.getBoundingClientRect(), containerWidth = _containerRef$current.width, containerHeight = _containerRef$current.height;\n    setContainerSize(containerWidth, containerHeight);\n    observer.observe(containerRef.current);\n    return function() {\n      observer.disconnect();\n    };\n  }, [setContainerSize, debounce]);\n  var chartContent = (0, import_react11.useMemo)(function() {\n    var containerWidth = sizes.containerWidth, containerHeight = sizes.containerHeight;\n    if (containerWidth < 0 || containerHeight < 0) {\n      return null;\n    }\n    warn(isPercent(width) || isPercent(height), \"The width(%s) and height(%s) are both fixed numbers,\\n       maybe you don't need to use a ResponsiveContainer.\", width, height);\n    warn(!aspect || aspect > 0, \"The aspect(%s) must be greater than zero.\", aspect);\n    var calculatedWidth = isPercent(width) ? containerWidth : width;\n    var calculatedHeight = isPercent(height) ? containerHeight : height;\n    if (aspect && aspect > 0) {\n      if (calculatedWidth) {\n        calculatedHeight = calculatedWidth / aspect;\n      } else if (calculatedHeight) {\n        calculatedWidth = calculatedHeight * aspect;\n      }\n      if (maxHeight && calculatedHeight > maxHeight) {\n        calculatedHeight = maxHeight;\n      }\n    }\n    warn(calculatedWidth > 0 || calculatedHeight > 0, \"The width(%s) and height(%s) of chart should be greater than 0,\\n       please check the style of container, or the props width(%s) and height(%s),\\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\\n       height and width.\", calculatedWidth, calculatedHeight, width, height, minWidth, minHeight, aspect);\n    var isCharts = !Array.isArray(children2) && getDisplayName(children2.type).endsWith(\"Chart\");\n    return import_react11.default.Children.map(children2, function(child) {\n      if (import_react11.default.isValidElement(child)) {\n        return (0, import_react11.cloneElement)(child, _objectSpread7({\n          width: calculatedWidth,\n          height: calculatedHeight\n        }, isCharts ? {\n          style: _objectSpread7({\n            height: \"100%\",\n            width: \"100%\",\n            maxHeight: calculatedHeight,\n            maxWidth: calculatedWidth\n          }, child.props.style)\n        } : {}));\n      }\n      return child;\n    });\n  }, [aspect, children2, height, maxHeight, minHeight, minWidth, sizes, width]);\n  return import_react11.default.createElement(\"div\", {\n    id: id ? \"\".concat(id) : void 0,\n    className: clsx_default(\"recharts-responsive-container\", className),\n    style: _objectSpread7(_objectSpread7({}, style), {}, {\n      width,\n      height,\n      minWidth,\n      minHeight,\n      maxHeight\n    }),\n    ref: containerRef\n  }, chartContent);\n});\n\n// node_modules/recharts/es6/component/Cell.js\nvar Cell = function Cell2(_props) {\n  return null;\n};\nCell.displayName = \"Cell\";\n\n// node_modules/recharts/es6/component/Text.js\nvar import_react12 = __toESM(require_react());\nvar import_isNil4 = __toESM(require_isNil());\n\n// node_modules/recharts/es6/util/DOMUtils.js\nfunction _typeof11(o) {\n  \"@babel/helpers - typeof\";\n  return _typeof11 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(o2) {\n    return typeof o2;\n  } : function(o2) {\n    return o2 && \"function\" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? \"symbol\" : typeof o2;\n  }, _typeof11(o);\n}\nfunction ownKeys8(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function(r2) {\n      return Object.getOwnPropertyDescriptor(e, r2).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread8(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys8(Object(t), true).forEach(function(r2) {\n      _defineProperty9(e, r2, t[r2]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys8(Object(t)).forEach(function(r2) {\n      Object.defineProperty(e, r2, Object.getOwnPropertyDescriptor(t, r2));\n    });\n  }\n  return e;\n}\nfunction _defineProperty9(obj, key, value) {\n  key = _toPropertyKey9(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, { value, enumerable: true, configurable: true, writable: true });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey9(t) {\n  var i = _toPrimitive9(t, \"string\");\n  return \"symbol\" == _typeof11(i) ? i : i + \"\";\n}\nfunction _toPrimitive9(t, r) {\n  if (\"object\" != _typeof11(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof11(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nvar stringCache = {\n  widthCache: {},\n  cacheCount: 0\n};\nvar MAX_CACHE_NUM = 2e3;\nvar SPAN_STYLE = {\n  position: \"absolute\",\n  top: \"-20000px\",\n  left: 0,\n  padding: 0,\n  margin: 0,\n  border: \"none\",\n  whiteSpace: \"pre\"\n};\nvar MEASUREMENT_SPAN_ID = \"recharts_measurement_span\";\nfunction removeInvalidKeys(obj) {\n  var copyObj = _objectSpread8({}, obj);\n  Object.keys(copyObj).forEach(function(key) {\n    if (!copyObj[key]) {\n      delete copyObj[key];\n    }\n  });\n  return copyObj;\n}\nvar getStringSize = function getStringSize2(text) {\n  var style = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n  if (text === void 0 || text === null || Global.isSsr) {\n    return {\n      width: 0,\n      height: 0\n    };\n  }\n  var copyStyle = removeInvalidKeys(style);\n  var cacheKey = JSON.stringify({\n    text,\n    copyStyle\n  });\n  if (stringCache.widthCache[cacheKey]) {\n    return stringCache.widthCache[cacheKey];\n  }\n  try {\n    var measurementSpan = document.getElementById(MEASUREMENT_SPAN_ID);\n    if (!measurementSpan) {\n      measurementSpan = document.createElement(\"span\");\n      measurementSpan.setAttribute(\"id\", MEASUREMENT_SPAN_ID);\n      measurementSpan.setAttribute(\"aria-hidden\", \"true\");\n      document.body.appendChild(measurementSpan);\n    }\n    var measurementSpanStyle = _objectSpread8(_objectSpread8({}, SPAN_STYLE), copyStyle);\n    Object.assign(measurementSpan.style, measurementSpanStyle);\n    measurementSpan.textContent = \"\".concat(text);\n    var rect = measurementSpan.getBoundingClientRect();\n    var result = {\n      width: rect.width,\n      height: rect.height\n    };\n    stringCache.widthCache[cacheKey] = result;\n    if (++stringCache.cacheCount > MAX_CACHE_NUM) {\n      stringCache.cacheCount = 0;\n      stringCache.widthCache = {};\n    }\n    return result;\n  } catch (e) {\n    return {\n      width: 0,\n      height: 0\n    };\n  }\n};\nvar getOffset = function getOffset2(rect) {\n  return {\n    top: rect.top + window.scrollY - document.documentElement.clientTop,\n    left: rect.left + window.scrollX - document.documentElement.clientLeft\n  };\n};\n\n// node_modules/recharts/es6/util/ReduceCSSCalc.js\nfunction _typeof12(o) {\n  \"@babel/helpers - typeof\";\n  return _typeof12 = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(o2) {\n    return typeof o2;\n  } : function(o2) {\n    return o2 && \"function\" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? \"symbol\" : typeof o2;\n  }, _typeof12(o);\n}\nfunction _slicedToArray3(arr, i) {\n  return _arrayWithHoles3(arr) || _iterableToArrayLimit3(arr, i) || _unsupportedIterableToArray3(arr, i) || _nonIterableRest3();\n}\nfunction _nonIterableRest3() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray3(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray3(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray3(o, minLen);\n}\nfunction _arrayLikeToArray3(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _iterableToArrayLimit3(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e, n, i, u, a2 = [], f = true, o = false;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = false;\n      } else for (; !(f = (e = i.call(t)).done) && (a2.push(e.value), a2.length !== l); f = true) ;\n    } catch (r2) {\n      o = true, n = r2;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a2;\n  }\n}\nfunction _arrayWithHoles3(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _classCallCheck5(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties5(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey10(descriptor.key), descriptor);\n  }\n}\nfunction _createClass5(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties5(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties5(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", { writable: false });\n  return Constructor;\n}\nfunction _toPropertyKey10(t) {\n  var i = _toPrimitive10(t, \"string\");\n  return \"symbol\" == _typeof12(i) ? i : i + \"\";\n}\nfunction _toPrimitive10(t, r) {\n  if (\"object\" != _typeof12(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof12(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nvar MULTIPLY_OR_DIVIDE_REGEX = /(-?\\d+(?:\\.\\d+)?[a-zA-Z%]*)([*/])(-?\\d+(?:\\.\\d+)?[a-zA-Z%]*)/;\nvar ADD_OR_SUBTRACT_REGEX = /(-?\\d+(?:\\.\\d+)?[a-zA-Z%]*)([+-])(-?\\d+(?:\\.\\d+)?[a-zA-Z%]*)/;\nvar CSS_LENGTH_UNIT_REGEX = /^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/;\nvar NUM_SPLIT_REGEX = /(-?\\d+(?:\\.\\d+)?)([a-zA-Z%]+)?/;\nvar CONVERSION_RATES = {\n  cm: 96 / 2.54,\n  mm: 96 / 25.4,\n  pt: 96 / 72,\n  pc: 96 / 6,\n  \"in\": 96,\n  Q: 96 / (2.54 * 40),\n  px: 1\n};\nvar FIXED_CSS_LENGTH_UNITS = Object.keys(CONVERSION_RATES);\nvar STR_NAN = \"NaN\";\nfunction convertToPx(value, unit2) {\n  return value * CONVERSION_RATES[unit2];\n}\nvar DecimalCSS = (function() {\n  function DecimalCSS2(num, unit2) {\n    _classCallCheck5(this, DecimalCSS2);\n    this.num = num;\n    this.unit = unit2;\n    this.num = num;\n    this.unit = unit2;\n    if (Number.isNaN(num)) {\n      this.unit = \"\";\n    }\n    if (unit2 !== \"\" && !CSS_LENGTH_UNIT_REGEX.test(unit2)) {\n      this.num = NaN;\n      this.unit = \"\";\n    }\n    if (FIXED_CSS_LENGTH_UNITS.includes(unit2)) {\n      this.num = convertToPx(num, unit2);\n      this.unit = \"px\";\n    }\n  }\n  return _createClass5(DecimalCSS2, [{\n    key: \"add\",\n    value: function add2(other) {\n      if (this.unit !== other.unit) {\n        return new DecimalCSS2(NaN, \"\");\n      }\n      return new DecimalCSS2(this.num + other.num, this.unit);\n    }\n  }, {\n    key: \"subtract\",\n    value: function subtract2(other) {\n      if (this.unit !== other.unit) {\n        return new DecimalCSS2(NaN, \"\");\n      }\n      return new DecimalCSS2(this.num - other.num, this.unit);\n    }\n  }, {\n    key: \"multiply\",\n    value: function multiply(other) {\n      if (this.unit !== \"\" && other.unit !== \"\" && this.unit !== other.unit) {\n        return new DecimalCSS2(NaN, \"\");\n      }\n      return new DecimalCSS2(this.num * other.num, this.unit || other.unit);\n    }\n  }, {\n    key: \"divide\",\n    value: function divide2(other) {\n      if (this.unit !== \"\" && other.unit !== \"\" && this.unit !== other.unit) {\n        return new DecimalCSS2(NaN, \"\");\n      }\n      return new DecimalCSS2(this.num / other.num, this.unit || other.unit);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString2() {\n      return \"\".concat(this.num).concat(this.unit);\n    }\n  }, {\n    key: \"isNaN\",\n    value: function isNaN2() {\n      return Number.isNaN(this.num);\n    }\n  }], [{\n    key: \"parse\",\n    value: function parse(str) {\n      var _NUM_SPLIT_REGEX$exec;\n      var _ref = (_NUM_SPLIT_REGEX$exec = NUM_SPLIT_REGEX.exec(str)) !== null && _NUM_SPLIT_REGEX$exec !== void 0 ? _NUM_SPLIT_REGEX$exec : [], _ref2 = _slicedToArray3(_ref, 3), numStr = _ref2[1], unit2 = _ref2[2];\n      return new DecimalCSS2(parseFloat(numStr), unit2 !== null && unit2 !== void 0 ? unit2 : \"\");\n    }\n  }]);\n})();\nfunction calculateArithmetic(expr) {\n  if (expr.includes(STR_NAN)) {\n    return STR_NAN;\n  }\n  var newExpr = expr;\n  while (newExpr.includes(\"*\") || newExpr.includes(\"/\")) {\n    var _MULTIPLY_OR_DIVIDE_R;\n    var _ref3 = (_MULTIPLY_OR_DIVIDE_R = MULTIPLY_OR_DIVIDE_REGEX.exec(newExpr)) !== null && _MULTIPLY_OR_DIVIDE_R !== void 0 ? _MULTIPLY_OR_DIVIDE_R : [], _ref4 = _slicedToArray3(_ref3, 4), leftOperand = _ref4[1], operator = _ref4[2], rightOperand = _ref4[3];\n    var lTs = DecimalCSS.parse(leftOperand !== null && leftOperand !== void 0 ? leftOperand : \"\");\n    var rTs = DecimalCSS.parse(rightOperand !== null && rightOperand !== void 0 ? rightOperand : \"\");\n    var result = operator === \"*\" ? lTs.multiply(rTs) : lTs.divide(rTs);\n    if (result.isNaN()) {\n      return STR_NAN;\n    }\n    newExpr = newExpr.replace(MULTIPLY_OR_DIVIDE_REGEX, result.toString());\n  }\n  while (newExpr.includes(\"+\") || /.-\\d+(?:\\.\\d+)?/.test(newExpr)) {\n    var _ADD_OR_SUBTRACT_REGE;\n    var _ref5 = (_ADD_OR_SUBTRACT_REGE = ADD_OR_SUBTRACT_REGEX.exec(newExpr)) !== null && _ADD_OR_SUBTRACT_REGE !== void 0 ? _ADD_OR_SUBTRACT_REGE : [], _ref6 = _slicedToArray3(_ref5, 4), _leftOperand = _ref6[1], _operator = _ref6[2], _rightOperand = _ref6[3];\n    var _lTs = DecimalCSS.parse(_leftOperand !== null && _leftOperand !== void 0 ? _leftOperand : \"\");\n    var _rTs = DecimalCSS.parse(_rightOperand !== null && _rightOperand !== void 0 ? _rightOperand : \"\");\n    var _result = _operator === \"+\" ? _lTs.add(_rTs) : _lTs.subtract(_rTs);\n    if (_result.isNaN()) {\n      return STR_NAN;\n    }\n    newExpr = newExpr.replace(ADD_OR_SUBTRACT_REGEX, _result.toString());\n  }\n  return newExpr;\n}\nvar PARENTHESES_REGEX = /\\(([^()]*)\\)/;\nfunction calculateParentheses(expr) {\n  var newExpr = expr;\n  while (newExpr.includes(\"(\")) {\n    var _PARENTHESES_REGEX$ex = PARENTHESES_REGEX.exec(newExpr), _PARENTHESES_REGEX$ex2 = _slicedToArray3(_PARENTHESES_REGEX$ex, 2), parentheticalExpression = _PARENTHESES_REGEX$ex2[1];\n    newExpr = newExpr.replace(PARENTHESES_REGEX, calculateArithmetic(parentheticalExpression));\n  }\n  return newExpr;\n}\nfunction evaluateExpression(expression) {\n  var newExpr = expression.replace(/\\s+/g, \"\");\n  newExpr = calculateParentheses(newExpr);\n  newExpr = calculateArithmetic(newExpr);\n  return newExpr;\n}\nfunction safeEvaluateExpression(expression) {\n  try {\n    return evaluateExpression(expression);\n  } catch (e) {\n    return STR_NAN;\n  }\n}\nfunction reduceCSSCalc(expression) {\n  var result = safeEvaluateExpression(expression.slice(5, -1));\n  if (result === STR_NAN) {\n    return \"\";\n  }\n  return result;\n}\n\n// node_modules/recharts/es6/component/Text.js\nvar _excluded7 = [\"x\", \"y\", \"lineHeight\", \"capHeight\", \"scaleToFit\", \"textAnchor\", \"verticalAnchor\", \"fill\"];\nvar _excluded22 = [\"dx\", \"dy\", \"angle\", \"className\", \"breakAll\"];\nfunction _extends6() {\n  _extends6 = Object.assign ? Object.assign.bind() : function(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends6.apply(this, arguments);\n}\nfunction _objectWithoutProperties6(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose6(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose6(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  for (var key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _slicedToArray4(arr, i) {\n  return _arrayWithHoles4(arr) || _iterableToArrayLimit4(arr, i) || _unsupportedIterableToArray4(arr, i) || _nonIterableRest4();\n}\nfunction _nonIterableRest4() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray4(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray4(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray4(o, minLen);\n}\nfunction _arrayLikeToArray4(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _iterableToArrayLimit4(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e, n, i, u, a2 = [], f = true, o = false;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = false;\n      } else for (; !(f = (e = i.call(t)).done) && (a2.push(e.value), a2.length !== l); f = true) ;\n    } catch (r2) {\n      o = true, n = r2;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a2;\n  }\n}\nfunction _arrayWithHoles4(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nvar BREAKING_SPACES = /[ \\f\\n\\r\\t\\v\\u2028\\u2029]+/;\nvar calculateWordWidths = function calculateWordWidths2(_ref) {\n  var children2 = _ref.children, breakAll = _ref.breakAll, style = _ref.style;\n  try {\n    var words = [];\n    if (!(0, import_isNil4.default)(children2)) {\n      if (breakAll) {\n        words = children2.toString().split(\"\");\n      } else {\n        words = children2.toString().split(BREAKING_SPACES);\n      }\n    }\n    var wordsWithComputedWidth = words.map(function(word) {\n      return {\n        word,\n        width: getStringSize(word, style).width\n      };\n    });\n    var spaceWidth = breakAll ? 0 : getStringSize(\"Â \", style).width;\n    return {\n      wordsWithComputedWidth,\n      spaceWidth\n    };\n  } catch (e) {\n    return null;\n  }\n};\nvar calculateWordsByLines = function calculateWordsByLines2(_ref2, initialWordsWithComputedWith, spaceWidth, lineWidth, scaleToFit) {\n  var maxLines = _ref2.maxLines, children2 = _ref2.children, style = _ref2.style, breakAll = _ref2.breakAll;\n  var shouldLimitLines = isNumber(maxLines);\n  var text = children2;\n  var calculate = function calculate2() {\n    var words = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n    return words.reduce(function(result2, _ref3) {\n      var word = _ref3.word, width = _ref3.width;\n      var currentLine = result2[result2.length - 1];\n      if (currentLine && (lineWidth == null || scaleToFit || currentLine.width + width + spaceWidth < Number(lineWidth))) {\n        currentLine.words.push(word);\n        currentLine.width += width + spaceWidth;\n      } else {\n        var newLine = {\n          words: [word],\n          width\n        };\n        result2.push(newLine);\n      }\n      return result2;\n    }, []);\n  };\n  var originalResult = calculate(initialWordsWithComputedWith);\n  var findLongestLine = function findLongestLine2(words) {\n    return words.reduce(function(a2, b) {\n      return a2.width > b.width ? a2 : b;\n    });\n  };\n  if (!shouldLimitLines) {\n    return originalResult;\n  }\n  var suffix = \"â€¦\";\n  var checkOverflow = function checkOverflow2(index2) {\n    var tempText = text.slice(0, index2);\n    var words = calculateWordWidths({\n      breakAll,\n      style,\n      children: tempText + suffix\n    }).wordsWithComputedWidth;\n    var result2 = calculate(words);\n    var doesOverflow = result2.length > maxLines || findLongestLine(result2).width > Number(lineWidth);\n    return [doesOverflow, result2];\n  };\n  var start = 0;\n  var end = text.length - 1;\n  var iterations = 0;\n  var trimmedResult;\n  while (start <= end && iterations <= text.length - 1) {\n    var middle = Math.floor((start + end) / 2);\n    var prev = middle - 1;\n    var _checkOverflow = checkOverflow(prev), _checkOverflow2 = _slicedToArray4(_checkOverflow, 2), doesPrevOverflow = _checkOverflow2[0], result = _checkOverflow2[1];\n    var _checkOverflow3 = checkOverflow(middle), _checkOverflow4 = _slicedToArray4(_checkOverflow3, 1), doesMiddleOverflow = _checkOverflow4[0];\n    if (!doesPrevOverflow && !doesMiddleOverflow) {\n      start = middle + 1;\n    }\n    if (doesPrevOverflow && doesMiddleOverflow) {\n      end = middle - 1;\n    }\n    if (!doesPrevOverflow && doesMiddleOverflow) {\n      trimmedResult = result;\n      break;\n    }\n    iterations++;\n  }\n  return trimmedResult || originalResult;\n};\nvar getWordsWithoutCalculate = function getWordsWithoutCalculate2(children2) {\n  var words = !(0, import_isNil4.default)(children2) ? children2.toString().split(BREAKING_SPACES) : [];\n  return [{\n    words\n  }];\n};\nvar getWordsByLines = function getWordsByLines2(_ref4) {\n  var width = _ref4.width, scaleToFit = _ref4.scaleToFit, children2 = _ref4.children, style = _ref4.style, breakAll = _ref4.breakAll, maxLines = _ref4.maxLines;\n  if ((width || scaleToFit) && !Global.isSsr) {\n    var wordsWithComputedWidth, spaceWidth;\n    var wordWidths = calculateWordWidths({\n      breakAll,\n      children: children2,\n      style\n    });\n    if (wordWidths) {\n      var wcw = wordWidths.wordsWithComputedWidth, sw = wordWidths.spaceWidth;\n      wordsWithComputedWidth = wcw;\n      spaceWidth = sw;\n    } else {\n      return getWordsWithoutCalculate(children2);\n    }\n    return calculateWordsByLines({\n      breakAll,\n      children: children2,\n      maxLines,\n      style\n    }, wordsWithComputedWidth, spaceWidth, width, scaleToFit);\n  }\n  return getWordsWithoutCalculate(children2);\n};\nvar DEFAULT_FILL = \"#808080\";\nvar Text = function Text2(_ref5) {\n  var _ref5$x = _ref5.x, propsX = _ref5$x === void 0 ? 0 : _ref5$x, _ref5$y = _ref5.y, propsY = _ref5$y === void 0 ? 0 : _ref5$y, _ref5$lineHeight = _ref5.lineHeight, lineHeight = _ref5$lineHeight === void 0 ? \"1em\" : _ref5$lineHeight, _ref5$capHeight = _ref5.capHeight, capHeight = _ref5$capHeight === void 0 ? \"0.71em\" : _ref5$capHeight, _ref5$scaleToFit = _ref5.scaleToFit, scaleToFit = _ref5$scaleToFit === void 0 ? false : _ref5$scaleToFit, _ref5$textAnchor = _ref5.textAnchor, textAnchor = _ref5$textAnchor === void 0 ? \"start\" : _ref5$textAnchor, _ref5$verticalAnchor = _ref5.verticalAnchor, verticalAnchor = _ref5$verticalAnchor === void 0 ? \"end\" : _ref5$verticalAnchor, _ref5$fill = _ref5.fill, fill = _ref5$fill === void 0 ? DEFAULT_FILL : _ref5$fill, props = _objectWithoutProperties6(_ref5, _excluded7);\n  var wordsByLines = (0, import_react12.useMemo)(function() {\n    return getWordsByLines({\n      breakAll: props.breakAll,\n      children: props.children,\n      maxLines: props.maxLines,\n      scaleToFit,\n      style: props.style,\n      width: props.width\n    });\n  }, [props.breakAll, props.children, props.maxLines, scaleToFit, props.style, props.width]);\n  var dx = props.dx, dy = props.dy, angle = props.angle, className = props.className, breakAll = props.breakAll, textProps = _objectWithoutProperties6(props, _excluded22);\n  if (!isNumOrStr(propsX) || !isNumOrStr(propsY)) {\n    return null;\n  }\n  var x2 = propsX + (isNumber(dx) ? dx : 0);\n  var y2 = propsY + (isNumber(dy) ? dy : 0);\n  var startDy;\n  switch (verticalAnchor) {\n    case \"start\":\n      startDy = reduceCSSCalc(\"calc(\".concat(capHeight, \")\"));\n      break;\n    case \"middle\":\n      startDy = reduceCSSCalc(\"calc(\".concat((wordsByLines.length - 1) / 2, \" * -\").concat(lineHeight, \" + (\").concat(capHeight, \" / 2))\"));\n      break;\n    default:\n      startDy = reduceCSSCalc(\"calc(\".concat(wordsByLines.length - 1, \" * -\").concat(lineHeight, \")\"));\n      break;\n  }\n  var transforms = [];\n  if (scaleToFit) {\n    var lineWidth = wordsByLines[0].width;\n    var width = props.width;\n    transforms.push(\"scale(\".concat((isNumber(width) ? width / lineWidth : 1) / lineWidth, \")\"));\n  }\n  if (angle) {\n    transforms.push(\"rotate(\".concat(angle, \", \").concat(x2, \", \").concat(y2, \")\"));\n  }\n  if (transforms.length) {\n    textProps.transform = transforms.join(\" \");\n  }\n  return import_react12.default.createElement(\"text\", _extends6({}, filterProps(textProps, true), {\n    x: x2,\n    y: y2,\n    className: clsx_default(\"recharts-text\", className),\n    textAnchor,\n    fill: fill.includes(\"url\") ? DEFAULT_FILL : fill\n  }), wordsByLines.map(function(line, index2) {\n    var words = line.words.join(breakAll ? \"\" : \" \");\n    return (\n      // duplicate words will cause duplicate keys\n      // eslint-disable-next-line react/no-array-index-key\n      import_react12.default.createElement(\"tspan\", {\n        x: x2,\n        dy: index2 === 0 ? startDy : lineHeight,\n        key: \"\".concat(words, \"-\").concat(index2)\n      }, words)\n    );\n  }));\n};\n\n// node_modules/recharts/es6/component/Label.js\nvar import_react15 = __toESM(require_react());\nvar import_isNil7 = __toESM(require_isNil());\nvar import_isFunction6 = __toESM(require_isFunction());\nvar import_isObject3 = __toESM(require_isObject());\n\n// node_modules/recharts/es6/util/PolarUtils.js\nvar import_isNil6 = __toESM(require_isNil());\nvar import_react14 = __toESM(require_react());\nvar import_isFunction5 = __toESM(require_isFunction());\n\n// node_modules/victory-vendor/es/d3-scale.js\nvar d3_scale_exports = {};\n__export(d3_scale_exports, {\n  scaleBand: () => band,\n  scaleDiverging: () => diverging,\n  scaleDivergingLog: () => divergingLog,\n  scaleDivergingPow: () => divergingPow,\n  scaleDivergingSqrt: () => divergingSqrt,\n  scaleDivergingSymlog: () => divergingSymlog,\n  scaleIdentity: () => identity4,\n  scaleImplicit: () => implicit,\n  scaleLinear: () => linear2,\n  scaleLog: () => log,\n  scaleOrdinal: () => ordinal,\n  scalePoint: () => point5,\n  scalePow: () => pow,\n  scaleQuantile: () => quantile2,\n  scaleQuantize: () => quantize,\n  scaleRadial: () => radial,\n  scaleSequential: () => sequential,\n  scaleSequentialLog: () => sequentialLog,\n  scaleSequentialPow: () => sequentialPow,\n  scaleSequentialQuantile: () => sequentialQuantile,\n  scaleSequentialSqrt: () => sequentialSqrt,\n  scaleSequentialSymlog: () => sequentialSymlog,\n  scaleSqrt: () => sqrt2,\n  scaleSymlog: () => symlog,\n  scaleThreshold: () => threshold,\n  scaleTime: () => time,\n  scaleUtc: () => utcTime,\n  tickFormat: () => tickFormat\n});\n\n// node_modules/d3-array/src/ascending.js\nfunction ascending(a2, b) {\n  return a2 == null || b == null ? NaN : a2 < b ? -1 : a2 > b ? 1 : a2 >= b ? 0 : NaN;\n}\n\n// node_modules/d3-array/src/descending.js\nfunction descending(a2, b) {\n  return a2 == null || b == null ? NaN : b < a2 ? -1 : b > a2 ? 1 : b >= a2 ? 0 : NaN;\n}\n\n// node_modules/d3-array/src/bisector.js\nfunction bisector(f) {\n  let compare1, compare2, delta;\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x2) => ascending(f(d), x2);\n    delta = (d, x2) => f(d) - x2;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n  function left(a2, x2, lo = 0, hi = a2.length) {\n    if (lo < hi) {\n      if (compare1(x2, x2) !== 0) return hi;\n      do {\n        const mid = lo + hi >>> 1;\n        if (compare2(a2[mid], x2) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n  function right(a2, x2, lo = 0, hi = a2.length) {\n    if (lo < hi) {\n      if (compare1(x2, x2) !== 0) return hi;\n      do {\n        const mid = lo + hi >>> 1;\n        if (compare2(a2[mid], x2) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n  function center(a2, x2, lo = 0, hi = a2.length) {\n    const i = left(a2, x2, lo, hi - 1);\n    return i > lo && delta(a2[i - 1], x2) > -delta(a2[i], x2) ? i - 1 : i;\n  }\n  return { left, center, right };\n}\nfunction zero() {\n  return 0;\n}\n\n// node_modules/d3-array/src/number.js\nfunction number(x2) {\n  return x2 === null ? NaN : +x2;\n}\nfunction* numbers(values2, valueof) {\n  if (valueof === void 0) {\n    for (let value of values2) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index2 = -1;\n    for (let value of values2) {\n      if ((value = valueof(value, ++index2, values2)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n\n// node_modules/d3-array/src/bisect.js\nvar ascendingBisect = bisector(ascending);\nvar bisectRight = ascendingBisect.right;\nvar bisectLeft = ascendingBisect.left;\nvar bisectCenter = bisector(number).center;\nvar bisect_default = bisectRight;\n\n// node_modules/d3-array/src/blur.js\nvar blur2 = Blur2(blurf);\nvar blurImage = Blur2(blurfImage);\nfunction Blur2(blur3) {\n  return function(data, rx, ry = rx) {\n    if (!((rx = +rx) >= 0)) throw new RangeError(\"invalid rx\");\n    if (!((ry = +ry) >= 0)) throw new RangeError(\"invalid ry\");\n    let { data: values2, width, height } = data;\n    if (!((width = Math.floor(width)) >= 0)) throw new RangeError(\"invalid width\");\n    if (!((height = Math.floor(height !== void 0 ? height : values2.length / width)) >= 0)) throw new RangeError(\"invalid height\");\n    if (!width || !height || !rx && !ry) return data;\n    const blurx = rx && blur3(rx);\n    const blury = ry && blur3(ry);\n    const temp = values2.slice();\n    if (blurx && blury) {\n      blurh(blurx, temp, values2, width, height);\n      blurh(blurx, values2, temp, width, height);\n      blurh(blurx, temp, values2, width, height);\n      blurv(blury, values2, temp, width, height);\n      blurv(blury, temp, values2, width, height);\n      blurv(blury, values2, temp, width, height);\n    } else if (blurx) {\n      blurh(blurx, values2, temp, width, height);\n      blurh(blurx, temp, values2, width, height);\n      blurh(blurx, values2, temp, width, height);\n    } else if (blury) {\n      blurv(blury, values2, temp, width, height);\n      blurv(blury, temp, values2, width, height);\n      blurv(blury, values2, temp, width, height);\n    }\n    return data;\n  };\n}\nfunction blurh(blur3, T, S, w, h) {\n  for (let y2 = 0, n = w * h; y2 < n; ) {\n    blur3(T, S, y2, y2 += w, 1);\n  }\n}\nfunction blurv(blur3, T, S, w, h) {\n  for (let x2 = 0, n = w * h; x2 < w; ++x2) {\n    blur3(T, S, x2, x2 + n, w);\n  }\n}\nfunction blurfImage(radius) {\n  const blur3 = blurf(radius);\n  return (T, S, start, stop, step) => {\n    start <<= 2, stop <<= 2, step <<= 2;\n    blur3(T, S, start + 0, stop + 0, step);\n    blur3(T, S, start + 1, stop + 1, step);\n    blur3(T, S, start + 2, stop + 2, step);\n    blur3(T, S, start + 3, stop + 3, step);\n  };\n}\nfunction blurf(radius) {\n  const radius0 = Math.floor(radius);\n  if (radius0 === radius) return bluri(radius);\n  const t = radius - radius0;\n  const w = 2 * radius + 1;\n  return (T, S, start, stop, step) => {\n    if (!((stop -= step) >= start)) return;\n    let sum3 = radius0 * S[start];\n    const s0 = step * radius0;\n    const s1 = s0 + step;\n    for (let i = start, j = start + s0; i < j; i += step) {\n      sum3 += S[Math.min(stop, i)];\n    }\n    for (let i = start, j = stop; i <= j; i += step) {\n      sum3 += S[Math.min(stop, i + s0)];\n      T[i] = (sum3 + t * (S[Math.max(start, i - s1)] + S[Math.min(stop, i + s1)])) / w;\n      sum3 -= S[Math.max(start, i - s0)];\n    }\n  };\n}\nfunction bluri(radius) {\n  const w = 2 * radius + 1;\n  return (T, S, start, stop, step) => {\n    if (!((stop -= step) >= start)) return;\n    let sum3 = radius * S[start];\n    const s2 = step * radius;\n    for (let i = start, j = start + s2; i < j; i += step) {\n      sum3 += S[Math.min(stop, i)];\n    }\n    for (let i = start, j = stop; i <= j; i += step) {\n      sum3 += S[Math.min(stop, i + s2)];\n      T[i] = sum3 / w;\n      sum3 -= S[Math.max(start, i - s2)];\n    }\n  };\n}\n\n// node_modules/internmap/src/index.js\nvar InternMap = class extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, { _intern: { value: /* @__PURE__ */ new Map() }, _key: { value: key } });\n    if (entries != null) for (const [key2, value] of entries) this.set(key2, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n};\nfunction intern_get({ _intern, _key }, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\nfunction intern_set({ _intern, _key }, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\nfunction intern_delete({ _intern, _key }, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n\n// node_modules/d3-array/src/sort.js\nfunction compareDefined(compare = ascending) {\n  if (compare === ascending) return ascendingDefined;\n  if (typeof compare !== \"function\") throw new TypeError(\"compare is not a function\");\n  return (a2, b) => {\n    const x2 = compare(a2, b);\n    if (x2 || x2 === 0) return x2;\n    return (compare(b, b) === 0) - (compare(a2, a2) === 0);\n  };\n}\nfunction ascendingDefined(a2, b) {\n  return (a2 == null || !(a2 >= a2)) - (b == null || !(b >= b)) || (a2 < b ? -1 : a2 > b ? 1 : 0);\n}\n\n// node_modules/d3-array/src/array.js\nvar array = Array.prototype;\nvar slice2 = array.slice;\nvar map = array.map;\n\n// node_modules/d3-array/src/ticks.js\nvar e10 = Math.sqrt(50);\nvar e5 = Math.sqrt(10);\nvar e2 = Math.sqrt(2);\nfunction tickSpec(start, stop, count2) {\n  const step = (stop - start) / Math.max(0, count2), power = Math.floor(Math.log10(step)), error = step / Math.pow(10, power), factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count2 && count2 < 2) return tickSpec(start, stop, count2 * 2);\n  return [i1, i2, inc];\n}\nfunction ticks(start, stop, count2) {\n  stop = +stop, start = +start, count2 = +count2;\n  if (!(count2 > 0)) return [];\n  if (start === stop) return [start];\n  const reverse4 = stop < start, [i1, i2, inc] = reverse4 ? tickSpec(stop, start, count2) : tickSpec(start, stop, count2);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks2 = new Array(n);\n  if (reverse4) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks2[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks2[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks2[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks2[i] = (i1 + i) * inc;\n  }\n  return ticks2;\n}\nfunction tickIncrement(start, stop, count2) {\n  stop = +stop, start = +start, count2 = +count2;\n  return tickSpec(start, stop, count2)[2];\n}\nfunction tickStep(start, stop, count2) {\n  stop = +stop, start = +start, count2 = +count2;\n  const reverse4 = stop < start, inc = reverse4 ? tickIncrement(stop, start, count2) : tickIncrement(start, stop, count2);\n  return (reverse4 ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n\n// node_modules/d3-array/src/max.js\nfunction max2(values2, valueof) {\n  let max5;\n  if (valueof === void 0) {\n    for (const value of values2) {\n      if (value != null && (max5 < value || max5 === void 0 && value >= value)) {\n        max5 = value;\n      }\n    }\n  } else {\n    let index2 = -1;\n    for (let value of values2) {\n      if ((value = valueof(value, ++index2, values2)) != null && (max5 < value || max5 === void 0 && value >= value)) {\n        max5 = value;\n      }\n    }\n  }\n  return max5;\n}\n\n// node_modules/d3-array/src/min.js\nfunction min2(values2, valueof) {\n  let min5;\n  if (valueof === void 0) {\n    for (const value of values2) {\n      if (value != null && (min5 > value || min5 === void 0 && value >= value)) {\n        min5 = value;\n      }\n    }\n  } else {\n    let index2 = -1;\n    for (let value of values2) {\n      if ((value = valueof(value, ++index2, values2)) != null && (min5 > value || min5 === void 0 && value >= value)) {\n        min5 = value;\n      }\n    }\n  }\n  return min5;\n}\n\n// node_modules/d3-array/src/quickselect.js\nfunction quickselect(array2, k2, left = 0, right = Infinity, compare) {\n  k2 = Math.floor(k2);\n  left = Math.floor(Math.max(0, left));\n  right = Math.floor(Math.min(array2.length - 1, right));\n  if (!(left <= k2 && k2 <= right)) return array2;\n  compare = compare === void 0 ? ascendingDefined : compareDefined(compare);\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k2 - left + 1;\n      const z = Math.log(n);\n      const s2 = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s2 * (n - s2) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k2 - m * s2 / n + sd));\n      const newRight = Math.min(right, Math.floor(k2 + (n - m) * s2 / n + sd));\n      quickselect(array2, k2, newLeft, newRight, compare);\n    }\n    const t = array2[k2];\n    let i = left;\n    let j = right;\n    swap(array2, left, k2);\n    if (compare(array2[right], t) > 0) swap(array2, left, right);\n    while (i < j) {\n      swap(array2, i, j), ++i, --j;\n      while (compare(array2[i], t) < 0) ++i;\n      while (compare(array2[j], t) > 0) --j;\n    }\n    if (compare(array2[left], t) === 0) swap(array2, left, j);\n    else ++j, swap(array2, j, right);\n    if (j <= k2) left = j + 1;\n    if (k2 <= j) right = j - 1;\n  }\n  return array2;\n}\nfunction swap(array2, i, j) {\n  const t = array2[i];\n  array2[i] = array2[j];\n  array2[j] = t;\n}\n\n// node_modules/d3-array/src/quantile.js\nfunction quantile(values2, p, valueof) {\n  values2 = Float64Array.from(numbers(values2, valueof));\n  if (!(n = values2.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return min2(values2);\n  if (p >= 1) return max2(values2);\n  var n, i = (n - 1) * p, i0 = Math.floor(i), value0 = max2(quickselect(values2, i0).subarray(0, i0 + 1)), value1 = min2(values2.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\nfunction quantileSorted(values2, p, valueof = number) {\n  if (!(n = values2.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return +valueof(values2[0], 0, values2);\n  if (p >= 1) return +valueof(values2[n - 1], n - 1, values2);\n  var n, i = (n - 1) * p, i0 = Math.floor(i), value0 = +valueof(values2[i0], i0, values2), value1 = +valueof(values2[i0 + 1], i0 + 1, values2);\n  return value0 + (value1 - value0) * (i - i0);\n}\n\n// node_modules/d3-array/src/range.js\nfunction range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n  var i = -1, n = Math.max(0, Math.ceil((stop - start) / step)) | 0, range6 = new Array(n);\n  while (++i < n) {\n    range6[i] = start + i * step;\n  }\n  return range6;\n}\n\n// node_modules/d3-array/src/shuffle.js\nvar shuffle_default = shuffler(Math.random);\nfunction shuffler(random) {\n  return function shuffle(array2, i0 = 0, i1 = array2.length) {\n    let m = i1 - (i0 = +i0);\n    while (m) {\n      const i = random() * m-- | 0, t = array2[m + i0];\n      array2[m + i0] = array2[i + i0];\n      array2[i + i0] = t;\n    }\n    return array2;\n  };\n}\n\n// node_modules/d3-scale/src/init.js\nfunction initRange(domain, range6) {\n  switch (arguments.length) {\n    case 0:\n      break;\n    case 1:\n      this.range(domain);\n      break;\n    default:\n      this.range(range6).domain(domain);\n      break;\n  }\n  return this;\n}\nfunction initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0:\n      break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n\n// node_modules/d3-scale/src/ordinal.js\nvar implicit = Symbol(\"implicit\");\nfunction ordinal() {\n  var index2 = new InternMap(), domain = [], range6 = [], unknown = implicit;\n  function scale(d) {\n    let i = index2.get(d);\n    if (i === void 0) {\n      if (unknown !== implicit) return unknown;\n      index2.set(d, i = domain.push(d) - 1);\n    }\n    return range6[i % range6.length];\n  }\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index2 = new InternMap();\n    for (const value of _) {\n      if (index2.has(value)) continue;\n      index2.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n  scale.range = function(_) {\n    return arguments.length ? (range6 = Array.from(_), scale) : range6.slice();\n  };\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n  scale.copy = function() {\n    return ordinal(domain, range6).unknown(unknown);\n  };\n  initRange.apply(scale, arguments);\n  return scale;\n}\n\n// node_modules/d3-scale/src/band.js\nfunction band() {\n  var scale = ordinal().unknown(void 0), domain = scale.domain, ordinalRange = scale.range, r0 = 0, r1 = 1, step, bandwidth, round2 = false, paddingInner = 0, paddingOuter = 0, align = 0.5;\n  delete scale.unknown;\n  function rescale() {\n    var n = domain().length, reverse4 = r1 < r0, start = reverse4 ? r1 : r0, stop = reverse4 ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round2) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round2) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values2 = range(n).map(function(i) {\n      return start + step * i;\n    });\n    return ordinalRange(reverse4 ? values2.reverse() : values2);\n  }\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round2 = true, rescale();\n  };\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n  scale.step = function() {\n    return step;\n  };\n  scale.round = function(_) {\n    return arguments.length ? (round2 = !!_, rescale()) : round2;\n  };\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n  scale.copy = function() {\n    return band(domain(), [r0, r1]).round(round2).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align);\n  };\n  return initRange.apply(rescale(), arguments);\n}\nfunction pointish(scale) {\n  var copy3 = scale.copy;\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n  scale.copy = function() {\n    return pointish(copy3());\n  };\n  return scale;\n}\nfunction point5() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n\n// node_modules/d3-color/src/define.js\nfunction define_default(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n\n// node_modules/d3-color/src/color.js\nfunction Color() {\n}\nvar darker = 0.7;\nvar brighter = 1 / darker;\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\";\nvar reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\";\nvar reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\";\nvar reHex = /^#([0-9a-f]{3,8})$/;\nvar reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`);\nvar reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`);\nvar reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`);\nvar reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`);\nvar reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`);\nvar reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\nvar named = {\n  aliceblue: 15792383,\n  antiquewhite: 16444375,\n  aqua: 65535,\n  aquamarine: 8388564,\n  azure: 15794175,\n  beige: 16119260,\n  bisque: 16770244,\n  black: 0,\n  blanchedalmond: 16772045,\n  blue: 255,\n  blueviolet: 9055202,\n  brown: 10824234,\n  burlywood: 14596231,\n  cadetblue: 6266528,\n  chartreuse: 8388352,\n  chocolate: 13789470,\n  coral: 16744272,\n  cornflowerblue: 6591981,\n  cornsilk: 16775388,\n  crimson: 14423100,\n  cyan: 65535,\n  darkblue: 139,\n  darkcyan: 35723,\n  darkgoldenrod: 12092939,\n  darkgray: 11119017,\n  darkgreen: 25600,\n  darkgrey: 11119017,\n  darkkhaki: 12433259,\n  darkmagenta: 9109643,\n  darkolivegreen: 5597999,\n  darkorange: 16747520,\n  darkorchid: 10040012,\n  darkred: 9109504,\n  darksalmon: 15308410,\n  darkseagreen: 9419919,\n  darkslateblue: 4734347,\n  darkslategray: 3100495,\n  darkslategrey: 3100495,\n  darkturquoise: 52945,\n  darkviolet: 9699539,\n  deeppink: 16716947,\n  deepskyblue: 49151,\n  dimgray: 6908265,\n  dimgrey: 6908265,\n  dodgerblue: 2003199,\n  firebrick: 11674146,\n  floralwhite: 16775920,\n  forestgreen: 2263842,\n  fuchsia: 16711935,\n  gainsboro: 14474460,\n  ghostwhite: 16316671,\n  gold: 16766720,\n  goldenrod: 14329120,\n  gray: 8421504,\n  green: 32768,\n  greenyellow: 11403055,\n  grey: 8421504,\n  honeydew: 15794160,\n  hotpink: 16738740,\n  indianred: 13458524,\n  indigo: 4915330,\n  ivory: 16777200,\n  khaki: 15787660,\n  lavender: 15132410,\n  lavenderblush: 16773365,\n  lawngreen: 8190976,\n  lemonchiffon: 16775885,\n  lightblue: 11393254,\n  lightcoral: 15761536,\n  lightcyan: 14745599,\n  lightgoldenrodyellow: 16448210,\n  lightgray: 13882323,\n  lightgreen: 9498256,\n  lightgrey: 13882323,\n  lightpink: 16758465,\n  lightsalmon: 16752762,\n  lightseagreen: 2142890,\n  lightskyblue: 8900346,\n  lightslategray: 7833753,\n  lightslategrey: 7833753,\n  lightsteelblue: 11584734,\n  lightyellow: 16777184,\n  lime: 65280,\n  limegreen: 3329330,\n  linen: 16445670,\n  magenta: 16711935,\n  maroon: 8388608,\n  mediumaquamarine: 6737322,\n  mediumblue: 205,\n  mediumorchid: 12211667,\n  mediumpurple: 9662683,\n  mediumseagreen: 3978097,\n  mediumslateblue: 8087790,\n  mediumspringgreen: 64154,\n  mediumturquoise: 4772300,\n  mediumvioletred: 13047173,\n  midnightblue: 1644912,\n  mintcream: 16121850,\n  mistyrose: 16770273,\n  moccasin: 16770229,\n  navajowhite: 16768685,\n  navy: 128,\n  oldlace: 16643558,\n  olive: 8421376,\n  olivedrab: 7048739,\n  orange: 16753920,\n  orangered: 16729344,\n  orchid: 14315734,\n  palegoldenrod: 15657130,\n  palegreen: 10025880,\n  paleturquoise: 11529966,\n  palevioletred: 14381203,\n  papayawhip: 16773077,\n  peachpuff: 16767673,\n  peru: 13468991,\n  pink: 16761035,\n  plum: 14524637,\n  powderblue: 11591910,\n  purple: 8388736,\n  rebeccapurple: 6697881,\n  red: 16711680,\n  rosybrown: 12357519,\n  royalblue: 4286945,\n  saddlebrown: 9127187,\n  salmon: 16416882,\n  sandybrown: 16032864,\n  seagreen: 3050327,\n  seashell: 16774638,\n  sienna: 10506797,\n  silver: 12632256,\n  skyblue: 8900331,\n  slateblue: 6970061,\n  slategray: 7372944,\n  slategrey: 7372944,\n  snow: 16775930,\n  springgreen: 65407,\n  steelblue: 4620980,\n  tan: 13808780,\n  teal: 32896,\n  thistle: 14204888,\n  tomato: 16737095,\n  turquoise: 4251856,\n  violet: 15631086,\n  wheat: 16113331,\n  white: 16777215,\n  whitesmoke: 16119285,\n  yellow: 16776960,\n  yellowgreen: 10145074\n};\ndefine_default(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor(), this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\nfunction color(format2) {\n  var m, l;\n  format2 = (format2 + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format2)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) : l === 3 ? new Rgb(m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, (m & 15) << 4 | m & 15, 1) : l === 8 ? rgba(m >> 24 & 255, m >> 16 & 255, m >> 8 & 255, (m & 255) / 255) : l === 4 ? rgba(m >> 12 & 15 | m >> 8 & 240, m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, ((m & 15) << 4 | m & 15) / 255) : null) : (m = reRgbInteger.exec(format2)) ? new Rgb(m[1], m[2], m[3], 1) : (m = reRgbPercent.exec(format2)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) : (m = reRgbaInteger.exec(format2)) ? rgba(m[1], m[2], m[3], m[4]) : (m = reRgbaPercent.exec(format2)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) : (m = reHslPercent.exec(format2)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) : (m = reHslaPercent.exec(format2)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) : named.hasOwnProperty(format2) ? rgbn(named[format2]) : format2 === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0) : null;\n}\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 255, n >> 8 & 255, n & 255, 1);\n}\nfunction rgba(r, g, b, a2) {\n  if (a2 <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a2);\n}\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb();\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\ndefine_default(Rgb, rgb, extend(Color, {\n  brighter(k2) {\n    k2 = k2 == null ? brighter : Math.pow(brighter, k2);\n    return new Rgb(this.r * k2, this.g * k2, this.b * k2, this.opacity);\n  },\n  darker(k2) {\n    k2 = k2 == null ? darker : Math.pow(darker, k2);\n    return new Rgb(this.r * k2, this.g * k2, this.b * k2, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return -0.5 <= this.r && this.r < 255.5 && (-0.5 <= this.g && this.g < 255.5) && (-0.5 <= this.b && this.b < 255.5) && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\nfunction rgb_formatRgb() {\n  const a2 = clampa(this.opacity);\n  return `${a2 === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a2 === 1 ? \")\" : `, ${a2})`}`;\n}\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\nfunction hsla(h, s2, l, a2) {\n  if (a2 <= 0) h = s2 = l = NaN;\n  else if (l <= 0 || l >= 1) h = s2 = NaN;\n  else if (s2 <= 0) h = NaN;\n  return new Hsl(h, s2, l, a2);\n}\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl();\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255, g = o.g / 255, b = o.b / 255, min5 = Math.min(r, g, b), max5 = Math.max(r, g, b), h = NaN, s2 = max5 - min5, l = (max5 + min5) / 2;\n  if (s2) {\n    if (r === max5) h = (g - b) / s2 + (g < b) * 6;\n    else if (g === max5) h = (b - r) / s2 + 2;\n    else h = (r - g) / s2 + 4;\n    s2 /= l < 0.5 ? max5 + min5 : 2 - max5 - min5;\n    h *= 60;\n  } else {\n    s2 = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s2, l, o.opacity);\n}\nfunction hsl(h, s2, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s2, l, opacity == null ? 1 : opacity);\n}\nfunction Hsl(h, s2, l, opacity) {\n  this.h = +h;\n  this.s = +s2;\n  this.l = +l;\n  this.opacity = +opacity;\n}\ndefine_default(Hsl, hsl, extend(Color, {\n  brighter(k2) {\n    k2 = k2 == null ? brighter : Math.pow(brighter, k2);\n    return new Hsl(this.h, this.s, this.l * k2, this.opacity);\n  },\n  darker(k2) {\n    k2 = k2 == null ? darker : Math.pow(darker, k2);\n    return new Hsl(this.h, this.s, this.l * k2, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360, s2 = isNaN(h) || isNaN(this.s) ? 0 : this.s, l = this.l, m2 = l + (l < 0.5 ? l : 1 - l) * s2, m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && (0 <= this.l && this.l <= 1) && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a2 = clampa(this.opacity);\n    return `${a2 === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a2 === 1 ? \")\" : `, ${a2})`}`;\n  }\n}));\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;\n}\n\n// node_modules/d3-color/src/math.js\nvar radians = Math.PI / 180;\nvar degrees = 180 / Math.PI;\n\n// node_modules/d3-color/src/lab.js\nvar K = 18;\nvar Xn = 0.96422;\nvar Yn = 1;\nvar Zn = 0.82521;\nvar t0 = 4 / 29;\nvar t1 = 6 / 29;\nvar t2 = 3 * t1 * t1;\nvar t3 = t1 * t1 * t1;\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r), g = rgb2lrgb(o.g), b = rgb2lrgb(o.b), y2 = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x2, z;\n  if (r === g && g === b) x2 = z = y2;\n  else {\n    x2 = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y2 - 16, 500 * (x2 - y2), 200 * (y2 - z), o.opacity);\n}\nfunction lab(l, a2, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a2, b, opacity == null ? 1 : opacity);\n}\nfunction Lab(l, a2, b, opacity) {\n  this.l = +l;\n  this.a = +a2;\n  this.b = +b;\n  this.opacity = +opacity;\n}\ndefine_default(Lab, lab, extend(Color, {\n  brighter(k2) {\n    return new Lab(this.l + K * (k2 == null ? 1 : k2), this.a, this.b, this.opacity);\n  },\n  darker(k2) {\n    return new Lab(this.l - K * (k2 == null ? 1 : k2), this.a, this.b, this.opacity);\n  },\n  rgb() {\n    var y2 = (this.l + 16) / 116, x2 = isNaN(this.a) ? y2 : y2 + this.a / 500, z = isNaN(this.b) ? y2 : y2 - this.b / 200;\n    x2 = Xn * lab2xyz(x2);\n    y2 = Yn * lab2xyz(y2);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb(3.1338561 * x2 - 1.6168667 * y2 - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x2 + 1.9161415 * y2 + 0.033454 * z),\n      lrgb2rgb(0.0719453 * x2 - 0.2289914 * y2 + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\nfunction lrgb2rgb(x2) {\n  return 255 * (x2 <= 31308e-7 ? 12.92 * x2 : 1.055 * Math.pow(x2, 1 / 2.4) - 0.055);\n}\nfunction rgb2lrgb(x2) {\n  return (x2 /= 255) <= 0.04045 ? x2 / 12.92 : Math.pow((x2 + 0.055) / 1.055, 2.4);\n}\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\nfunction hcl(h, c2, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c2, l, opacity == null ? 1 : opacity);\n}\nfunction Hcl(h, c2, l, opacity) {\n  this.h = +h;\n  this.c = +c2;\n  this.l = +l;\n  this.opacity = +opacity;\n}\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\ndefine_default(Hcl, hcl, extend(Color, {\n  brighter(k2) {\n    return new Hcl(this.h, this.c, this.l + K * (k2 == null ? 1 : k2), this.opacity);\n  },\n  darker(k2) {\n    return new Hcl(this.h, this.c, this.l - K * (k2 == null ? 1 : k2), this.opacity);\n  },\n  rgb() {\n    return hcl2lab(this).rgb();\n  }\n}));\n\n// node_modules/d3-color/src/cubehelix.js\nvar A = -0.14861;\nvar B = 1.78277;\nvar C = -0.29227;\nvar D = -0.90649;\nvar E = 1.97294;\nvar ED = E * D;\nvar EB = E * B;\nvar BC_DA = B * C - D * A;\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255, g = o.g / 255, b = o.b / 255, l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB), bl = b - l, k2 = (E * (g - l) - C * bl) / D, s2 = Math.sqrt(k2 * k2 + bl * bl) / (E * l * (1 - l)), h = s2 ? Math.atan2(k2, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s2, l, o.opacity);\n}\nfunction cubehelix(h, s2, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s2, l, opacity == null ? 1 : opacity);\n}\nfunction Cubehelix(h, s2, l, opacity) {\n  this.h = +h;\n  this.s = +s2;\n  this.l = +l;\n  this.opacity = +opacity;\n}\ndefine_default(Cubehelix, cubehelix, extend(Color, {\n  brighter(k2) {\n    k2 = k2 == null ? brighter : Math.pow(brighter, k2);\n    return new Cubehelix(this.h, this.s, this.l * k2, this.opacity);\n  },\n  darker(k2) {\n    k2 = k2 == null ? darker : Math.pow(darker, k2);\n    return new Cubehelix(this.h, this.s, this.l * k2, this.opacity);\n  },\n  rgb() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians, l = +this.l, a2 = isNaN(this.s) ? 0 : this.s * l * (1 - l), cosh2 = Math.cos(h), sinh2 = Math.sin(h);\n    return new Rgb(\n      255 * (l + a2 * (A * cosh2 + B * sinh2)),\n      255 * (l + a2 * (C * cosh2 + D * sinh2)),\n      255 * (l + a2 * (E * cosh2)),\n      this.opacity\n    );\n  }\n}));\n\n// node_modules/d3-interpolate/src/basis.js\nfunction basis(t13, v0, v1, v2, v3) {\n  var t22 = t13 * t13, t32 = t22 * t13;\n  return ((1 - 3 * t13 + 3 * t22 - t32) * v0 + (4 - 6 * t22 + 3 * t32) * v1 + (1 + 3 * t13 + 3 * t22 - 3 * t32) * v2 + t32 * v3) / 6;\n}\nfunction basis_default2(values2) {\n  var n = values2.length - 1;\n  return function(t) {\n    var i = t <= 0 ? t = 0 : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n), v1 = values2[i], v2 = values2[i + 1], v0 = i > 0 ? values2[i - 1] : 2 * v1 - v2, v3 = i < n - 1 ? values2[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n\n// node_modules/d3-interpolate/src/basisClosed.js\nfunction basisClosed_default2(values2) {\n  var n = values2.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n), v0 = values2[(i + n - 1) % n], v1 = values2[i % n], v2 = values2[(i + 1) % n], v3 = values2[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n\n// node_modules/d3-interpolate/src/constant.js\nvar constant_default2 = (x2) => () => x2;\n\n// node_modules/d3-interpolate/src/color.js\nfunction linear(a2, d) {\n  return function(t) {\n    return a2 + t * d;\n  };\n}\nfunction exponential(a2, b, y2) {\n  return a2 = Math.pow(a2, y2), b = Math.pow(b, y2) - a2, y2 = 1 / y2, function(t) {\n    return Math.pow(a2 + t * b, y2);\n  };\n}\nfunction hue(a2, b) {\n  var d = b - a2;\n  return d ? linear(a2, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant_default2(isNaN(a2) ? b : a2);\n}\nfunction gamma(y2) {\n  return (y2 = +y2) === 1 ? nogamma : function(a2, b) {\n    return b - a2 ? exponential(a2, b, y2) : constant_default2(isNaN(a2) ? b : a2);\n  };\n}\nfunction nogamma(a2, b) {\n  var d = b - a2;\n  return d ? linear(a2, d) : constant_default2(isNaN(a2) ? b : a2);\n}\n\n// node_modules/d3-interpolate/src/rgb.js\nvar rgb_default = (function rgbGamma(y2) {\n  var color2 = gamma(y2);\n  function rgb2(start, end) {\n    var r = color2((start = rgb(start)).r, (end = rgb(end)).r), g = color2(start.g, end.g), b = color2(start.b, end.b), opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n  rgb2.gamma = rgbGamma;\n  return rgb2;\n})(1);\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length, r = new Array(n), g = new Array(n), b = new Array(n), i, color2;\n    for (i = 0; i < n; ++i) {\n      color2 = rgb(colors[i]);\n      r[i] = color2.r || 0;\n      g[i] = color2.g || 0;\n      b[i] = color2.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color2.opacity = 1;\n    return function(t) {\n      color2.r = r(t);\n      color2.g = g(t);\n      color2.b = b(t);\n      return color2 + \"\";\n    };\n  };\n}\nvar rgbBasis = rgbSpline(basis_default2);\nvar rgbBasisClosed = rgbSpline(basisClosed_default2);\n\n// node_modules/d3-interpolate/src/numberArray.js\nfunction numberArray_default(a2, b) {\n  if (!b) b = [];\n  var n = a2 ? Math.min(b.length, a2.length) : 0, c2 = b.slice(), i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c2[i] = a2[i] * (1 - t) + b[i] * t;\n    return c2;\n  };\n}\nfunction isNumberArray(x2) {\n  return ArrayBuffer.isView(x2) && !(x2 instanceof DataView);\n}\n\n// node_modules/d3-interpolate/src/array.js\nfunction genericArray(a2, b) {\n  var nb = b ? b.length : 0, na = a2 ? Math.min(nb, a2.length) : 0, x2 = new Array(na), c2 = new Array(nb), i;\n  for (i = 0; i < na; ++i) x2[i] = value_default(a2[i], b[i]);\n  for (; i < nb; ++i) c2[i] = b[i];\n  return function(t) {\n    for (i = 0; i < na; ++i) c2[i] = x2[i](t);\n    return c2;\n  };\n}\n\n// node_modules/d3-interpolate/src/date.js\nfunction date_default(a2, b) {\n  var d = /* @__PURE__ */ new Date();\n  return a2 = +a2, b = +b, function(t) {\n    return d.setTime(a2 * (1 - t) + b * t), d;\n  };\n}\n\n// node_modules/d3-interpolate/src/number.js\nfunction number_default(a2, b) {\n  return a2 = +a2, b = +b, function(t) {\n    return a2 * (1 - t) + b * t;\n  };\n}\n\n// node_modules/d3-interpolate/src/object.js\nfunction object_default(a2, b) {\n  var i = {}, c2 = {}, k2;\n  if (a2 === null || typeof a2 !== \"object\") a2 = {};\n  if (b === null || typeof b !== \"object\") b = {};\n  for (k2 in b) {\n    if (k2 in a2) {\n      i[k2] = value_default(a2[k2], b[k2]);\n    } else {\n      c2[k2] = b[k2];\n    }\n  }\n  return function(t) {\n    for (k2 in i) c2[k2] = i[k2](t);\n    return c2;\n  };\n}\n\n// node_modules/d3-interpolate/src/string.js\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g;\nvar reB = new RegExp(reA.source, \"g\");\nfunction zero2(b) {\n  return function() {\n    return b;\n  };\n}\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\nfunction string_default(a2, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, am, bm, bs, i = -1, s2 = [], q = [];\n  a2 = a2 + \"\", b = b + \"\";\n  while ((am = reA.exec(a2)) && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) {\n      bs = b.slice(bi, bs);\n      if (s2[i]) s2[i] += bs;\n      else s2[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) {\n      if (s2[i]) s2[i] += bm;\n      else s2[++i] = bm;\n    } else {\n      s2[++i] = null;\n      q.push({ i, x: number_default(am, bm) });\n    }\n    bi = reB.lastIndex;\n  }\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s2[i]) s2[i] += bs;\n    else s2[++i] = bs;\n  }\n  return s2.length < 2 ? q[0] ? one(q[0].x) : zero2(b) : (b = q.length, function(t) {\n    for (var i2 = 0, o; i2 < b; ++i2) s2[(o = q[i2]).i] = o.x(t);\n    return s2.join(\"\");\n  });\n}\n\n// node_modules/d3-interpolate/src/value.js\nfunction value_default(a2, b) {\n  var t = typeof b, c2;\n  return b == null || t === \"boolean\" ? constant_default2(b) : (t === \"number\" ? number_default : t === \"string\" ? (c2 = color(b)) ? (b = c2, rgb_default) : string_default : b instanceof color ? rgb_default : b instanceof Date ? date_default : isNumberArray(b) ? numberArray_default : Array.isArray(b) ? genericArray : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object_default : number_default)(a2, b);\n}\n\n// node_modules/d3-interpolate/src/round.js\nfunction round_default(a2, b) {\n  return a2 = +a2, b = +b, function(t) {\n    return Math.round(a2 * (1 - t) + b * t);\n  };\n}\n\n// node_modules/d3-interpolate/src/transform/decompose.js\nvar degrees2 = 180 / Math.PI;\nvar identity2 = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\nfunction decompose_default(a2, b, c2, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a2 * a2 + b * b)) a2 /= scaleX, b /= scaleX;\n  if (skewX = a2 * c2 + b * d) c2 -= a2 * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c2 * c2 + d * d)) c2 /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a2 * d < b * c2) a2 = -a2, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a2) * degrees2,\n    skewX: Math.atan(skewX) * degrees2,\n    scaleX,\n    scaleY\n  };\n}\n\n// node_modules/d3-interpolate/src/transform/parse.js\nvar svgNode;\nfunction parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity2 : decompose_default(m.a, m.b, m.c, m.d, m.e, m.f);\n}\nfunction parseSvg(value) {\n  if (value == null) return identity2;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity2;\n  value = value.matrix;\n  return decompose_default(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n\n// node_modules/d3-interpolate/src/transform/index.js\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n  function pop(s2) {\n    return s2.length ? s2.pop() + \" \" : \"\";\n  }\n  function translate(xa, ya, xb, yb, s2, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s2.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({ i: i - 4, x: number_default(xa, xb) }, { i: i - 2, x: number_default(ya, yb) });\n    } else if (xb || yb) {\n      s2.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n  function rotate(a2, b, s2, q) {\n    if (a2 !== b) {\n      if (a2 - b > 180) b += 360;\n      else if (b - a2 > 180) a2 += 360;\n      q.push({ i: s2.push(pop(s2) + \"rotate(\", null, degParen) - 2, x: number_default(a2, b) });\n    } else if (b) {\n      s2.push(pop(s2) + \"rotate(\" + b + degParen);\n    }\n  }\n  function skewX(a2, b, s2, q) {\n    if (a2 !== b) {\n      q.push({ i: s2.push(pop(s2) + \"skewX(\", null, degParen) - 2, x: number_default(a2, b) });\n    } else if (b) {\n      s2.push(pop(s2) + \"skewX(\" + b + degParen);\n    }\n  }\n  function scale(xa, ya, xb, yb, s2, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s2.push(pop(s2) + \"scale(\", null, \",\", null, \")\");\n      q.push({ i: i - 4, x: number_default(xa, xb) }, { i: i - 2, x: number_default(ya, yb) });\n    } else if (xb !== 1 || yb !== 1) {\n      s2.push(pop(s2) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n  return function(a2, b) {\n    var s2 = [], q = [];\n    a2 = parse(a2), b = parse(b);\n    translate(a2.translateX, a2.translateY, b.translateX, b.translateY, s2, q);\n    rotate(a2.rotate, b.rotate, s2, q);\n    skewX(a2.skewX, b.skewX, s2, q);\n    scale(a2.scaleX, a2.scaleY, b.scaleX, b.scaleY, s2, q);\n    a2 = b = null;\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s2[(o = q[i]).i] = o.x(t);\n      return s2.join(\"\");\n    };\n  };\n}\nvar interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nvar interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n\n// node_modules/d3-interpolate/src/zoom.js\nvar epsilon22 = 1e-12;\nfunction cosh(x2) {\n  return ((x2 = Math.exp(x2)) + 1 / x2) / 2;\n}\nfunction sinh(x2) {\n  return ((x2 = Math.exp(x2)) - 1 / x2) / 2;\n}\nfunction tanh(x2) {\n  return ((x2 = Math.exp(2 * x2)) - 1) / (x2 + 1);\n}\nvar zoom_default = (function zoomRho(rho, rho2, rho4) {\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;\n    if (d2 < epsilon22) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      };\n    } else {\n      var d1 = Math.sqrt(d2), b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1), b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1), r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0), r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s2 = t * S, coshr0 = cosh(r0), u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s2 + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s2 + r0)\n        ];\n      };\n    }\n    i.duration = S * 1e3 * rho / Math.SQRT2;\n    return i;\n  }\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n  return zoom;\n})(Math.SQRT2, 2, 4);\n\n// node_modules/d3-interpolate/src/hsl.js\nfunction hsl2(hue2) {\n  return function(start, end) {\n    var h = hue2((start = hsl(start)).h, (end = hsl(end)).h), s2 = nogamma(start.s, end.s), l = nogamma(start.l, end.l), opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s2(t);\n ","path":null,"size_bytes":360000,"size_tokens":null},"node_modules/.vite/deps/@radix-ui_react-popover.js":{"content":"\"use client\";\nimport {\n  Anchor,\n  Arrow,\n  Content,\n  Root2,\n  createPopperScope\n} from \"./chunk-KBNPYQPR.js\";\nimport \"./chunk-UBWUW3DH.js\";\nimport {\n  Presence\n} from \"./chunk-F2O2PWMG.js\";\nimport {\n  Combination_default,\n  FocusScope,\n  hideOthers,\n  useFocusGuards\n} from \"./chunk-EVEOP7WR.js\";\nimport {\n  DismissableLayer,\n  Portal\n} from \"./chunk-LIRJVJKB.js\";\nimport \"./chunk-RQSKBWDH.js\";\nimport {\n  useId\n} from \"./chunk-FTOBKFDQ.js\";\nimport {\n  Primitive\n} from \"./chunk-GAO6O33O.js\";\nimport {\n  createContextScope\n} from \"./chunk-RHO474TS.js\";\nimport \"./chunk-3NDCRRCM.js\";\nimport {\n  useLayoutEffect2\n} from \"./chunk-GUZOPJU6.js\";\nimport {\n  composeRefs,\n  useComposedRefs\n} from \"./chunk-MS2BCRFE.js\";\nimport \"./chunk-I3XRBTSS.js\";\nimport {\n  require_jsx_runtime\n} from \"./chunk-T7ATK2ZT.js\";\nimport {\n  require_react\n} from \"./chunk-YX2XZWS3.js\";\nimport {\n  __toESM\n} from \"./chunk-G3PMV62Z.js\";\n\n// node_modules/@radix-ui/react-popover/dist/index.mjs\nvar React3 = __toESM(require_react(), 1);\n\n// node_modules/@radix-ui/react-popover/node_modules/@radix-ui/primitive/dist/index.mjs\nvar canUseDOM = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\nfunction composeEventHandlers(originalEventHandler, ourEventHandler, { checkForDefaultPrevented = true } = {}) {\n  return function handleEvent(event) {\n    originalEventHandler?.(event);\n    if (checkForDefaultPrevented === false || !event.defaultPrevented) {\n      return ourEventHandler?.(event);\n    }\n  };\n}\n\n// node_modules/@radix-ui/react-popover/node_modules/@radix-ui/react-slot/dist/index.mjs\nvar React = __toESM(require_react(), 1);\nvar import_jsx_runtime = __toESM(require_jsx_runtime(), 1);\nfunction createSlot(ownerName) {\n  const SlotClone = createSlotClone(ownerName);\n  const Slot22 = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return (0, import_jsx_runtime.jsx)(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return (0, import_jsx_runtime.jsx)(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot22.displayName = `${ownerName}.Slot`;\n  return Slot22;\n}\nvar Slot = createSlot(\"Slot\");\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return (0, import_jsx_runtime.jsx)(import_jsx_runtime.Fragment, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\n\n// node_modules/@radix-ui/react-popover/node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs\nvar React2 = __toESM(require_react(), 1);\nvar React22 = __toESM(require_react(), 1);\nvar useInsertionEffect = React2[\" useInsertionEffect \".trim().toString()] || useLayoutEffect2;\nfunction useControllableState({\n  prop,\n  defaultProp,\n  onChange = () => {\n  },\n  caller\n}) {\n  const [uncontrolledProp, setUncontrolledProp, onChangeRef] = useUncontrolledState({\n    defaultProp,\n    onChange\n  });\n  const isControlled = prop !== void 0;\n  const value = isControlled ? prop : uncontrolledProp;\n  if (true) {\n    const isControlledRef = React2.useRef(prop !== void 0);\n    React2.useEffect(() => {\n      const wasControlled = isControlledRef.current;\n      if (wasControlled !== isControlled) {\n        const from = wasControlled ? \"controlled\" : \"uncontrolled\";\n        const to = isControlled ? \"controlled\" : \"uncontrolled\";\n        console.warn(\n          `${caller} is changing from ${from} to ${to}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`\n        );\n      }\n      isControlledRef.current = isControlled;\n    }, [isControlled, caller]);\n  }\n  const setValue = React2.useCallback(\n    (nextValue) => {\n      if (isControlled) {\n        const value2 = isFunction(nextValue) ? nextValue(prop) : nextValue;\n        if (value2 !== prop) {\n          onChangeRef.current?.(value2);\n        }\n      } else {\n        setUncontrolledProp(nextValue);\n      }\n    },\n    [isControlled, prop, setUncontrolledProp, onChangeRef]\n  );\n  return [value, setValue];\n}\nfunction useUncontrolledState({\n  defaultProp,\n  onChange\n}) {\n  const [value, setValue] = React2.useState(defaultProp);\n  const prevValueRef = React2.useRef(value);\n  const onChangeRef = React2.useRef(onChange);\n  useInsertionEffect(() => {\n    onChangeRef.current = onChange;\n  }, [onChange]);\n  React2.useEffect(() => {\n    if (prevValueRef.current !== value) {\n      onChangeRef.current?.(value);\n      prevValueRef.current = value;\n    }\n  }, [value, prevValueRef]);\n  return [value, setValue, onChangeRef];\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nvar SYNC_STATE = Symbol(\"RADIX:SYNC_STATE\");\n\n// node_modules/@radix-ui/react-popover/dist/index.mjs\nvar import_jsx_runtime2 = __toESM(require_jsx_runtime(), 1);\nvar POPOVER_NAME = \"Popover\";\nvar [createPopoverContext, createPopoverScope] = createContextScope(POPOVER_NAME, [\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar [PopoverProvider, usePopoverContext] = createPopoverContext(POPOVER_NAME);\nvar Popover = (props) => {\n  const {\n    __scopePopover,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = false\n  } = props;\n  const popperScope = usePopperScope(__scopePopover);\n  const triggerRef = React3.useRef(null);\n  const [hasCustomAnchor, setHasCustomAnchor] = React3.useState(false);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: POPOVER_NAME\n  });\n  return (0, import_jsx_runtime2.jsx)(Root2, { ...popperScope, children: (0, import_jsx_runtime2.jsx)(\n    PopoverProvider,\n    {\n      scope: __scopePopover,\n      contentId: useId(),\n      triggerRef,\n      open,\n      onOpenChange: setOpen,\n      onOpenToggle: React3.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),\n      hasCustomAnchor,\n      onCustomAnchorAdd: React3.useCallback(() => setHasCustomAnchor(true), []),\n      onCustomAnchorRemove: React3.useCallback(() => setHasCustomAnchor(false), []),\n      modal,\n      children\n    }\n  ) });\n};\nPopover.displayName = POPOVER_NAME;\nvar ANCHOR_NAME = \"PopoverAnchor\";\nvar PopoverAnchor = React3.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...anchorProps } = props;\n    const context = usePopoverContext(ANCHOR_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const { onCustomAnchorAdd, onCustomAnchorRemove } = context;\n    React3.useEffect(() => {\n      onCustomAnchorAdd();\n      return () => onCustomAnchorRemove();\n    }, [onCustomAnchorAdd, onCustomAnchorRemove]);\n    return (0, import_jsx_runtime2.jsx)(Anchor, { ...popperScope, ...anchorProps, ref: forwardedRef });\n  }\n);\nPopoverAnchor.displayName = ANCHOR_NAME;\nvar TRIGGER_NAME = \"PopoverTrigger\";\nvar PopoverTrigger = React3.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...triggerProps } = props;\n    const context = usePopoverContext(TRIGGER_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    const composedTriggerRef = useComposedRefs(forwardedRef, context.triggerRef);\n    const trigger = (0, import_jsx_runtime2.jsx)(\n      Primitive.button,\n      {\n        type: \"button\",\n        \"aria-haspopup\": \"dialog\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.contentId,\n        \"data-state\": getState(context.open),\n        ...triggerProps,\n        ref: composedTriggerRef,\n        onClick: composeEventHandlers(props.onClick, context.onOpenToggle)\n      }\n    );\n    return context.hasCustomAnchor ? trigger : (0, import_jsx_runtime2.jsx)(Anchor, { asChild: true, ...popperScope, children: trigger });\n  }\n);\nPopoverTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"PopoverPortal\";\nvar [PortalProvider, usePortalContext] = createPopoverContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar PopoverPortal = (props) => {\n  const { __scopePopover, forceMount, children, container } = props;\n  const context = usePopoverContext(PORTAL_NAME, __scopePopover);\n  return (0, import_jsx_runtime2.jsx)(PortalProvider, { scope: __scopePopover, forceMount, children: (0, import_jsx_runtime2.jsx)(Presence, { present: forceMount || context.open, children: (0, import_jsx_runtime2.jsx)(Portal, { asChild: true, container, children }) }) });\n};\nPopoverPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"PopoverContent\";\nvar PopoverContent = React3.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopePopover);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    return (0, import_jsx_runtime2.jsx)(Presence, { present: forceMount || context.open, children: context.modal ? (0, import_jsx_runtime2.jsx)(PopoverContentModal, { ...contentProps, ref: forwardedRef }) : (0, import_jsx_runtime2.jsx)(PopoverContentNonModal, { ...contentProps, ref: forwardedRef }) });\n  }\n);\nPopoverContent.displayName = CONTENT_NAME;\nvar Slot2 = createSlot(\"PopoverContent.RemoveScroll\");\nvar PopoverContentModal = React3.forwardRef(\n  (props, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const contentRef = React3.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef);\n    const isRightClickOutsideRef = React3.useRef(false);\n    React3.useEffect(() => {\n      const content = contentRef.current;\n      if (content) return hideOthers(content);\n    }, []);\n    return (0, import_jsx_runtime2.jsx)(Combination_default, { as: Slot2, allowPinchZoom: true, children: (0, import_jsx_runtime2.jsx)(\n      PopoverContentImpl,\n      {\n        ...props,\n        ref: composedRefs,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: true,\n        onCloseAutoFocus: composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          event.preventDefault();\n          if (!isRightClickOutsideRef.current) context.triggerRef.current?.focus();\n        }),\n        onPointerDownOutside: composeEventHandlers(\n          props.onPointerDownOutside,\n          (event) => {\n            const originalEvent = event.detail.originalEvent;\n            const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n            const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n            isRightClickOutsideRef.current = isRightClick;\n          },\n          { checkForDefaultPrevented: false }\n        ),\n        onFocusOutside: composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault(),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nvar PopoverContentNonModal = React3.forwardRef(\n  (props, forwardedRef) => {\n    const context = usePopoverContext(CONTENT_NAME, props.__scopePopover);\n    const hasInteractedOutsideRef = React3.useRef(false);\n    const hasPointerDownOutsideRef = React3.useRef(false);\n    return (0, import_jsx_runtime2.jsx)(\n      PopoverContentImpl,\n      {\n        ...props,\n        ref: forwardedRef,\n        trapFocus: false,\n        disableOutsidePointerEvents: false,\n        onCloseAutoFocus: (event) => {\n          props.onCloseAutoFocus?.(event);\n          if (!event.defaultPrevented) {\n            if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n            event.preventDefault();\n          }\n          hasInteractedOutsideRef.current = false;\n          hasPointerDownOutsideRef.current = false;\n        },\n        onInteractOutside: (event) => {\n          props.onInteractOutside?.(event);\n          if (!event.defaultPrevented) {\n            hasInteractedOutsideRef.current = true;\n            if (event.detail.originalEvent.type === \"pointerdown\") {\n              hasPointerDownOutsideRef.current = true;\n            }\n          }\n          const target = event.target;\n          const targetIsTrigger = context.triggerRef.current?.contains(target);\n          if (targetIsTrigger) event.preventDefault();\n          if (event.detail.originalEvent.type === \"focusin\" && hasPointerDownOutsideRef.current) {\n            event.preventDefault();\n          }\n        }\n      }\n    );\n  }\n);\nvar PopoverContentImpl = React3.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopePopover,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      ...contentProps\n    } = props;\n    const context = usePopoverContext(CONTENT_NAME, __scopePopover);\n    const popperScope = usePopperScope(__scopePopover);\n    useFocusGuards();\n    return (0, import_jsx_runtime2.jsx)(\n      FocusScope,\n      {\n        asChild: true,\n        loop: true,\n        trapped: trapFocus,\n        onMountAutoFocus: onOpenAutoFocus,\n        onUnmountAutoFocus: onCloseAutoFocus,\n        children: (0, import_jsx_runtime2.jsx)(\n          DismissableLayer,\n          {\n            asChild: true,\n            disableOutsidePointerEvents,\n            onInteractOutside,\n            onEscapeKeyDown,\n            onPointerDownOutside,\n            onFocusOutside,\n            onDismiss: () => context.onOpenChange(false),\n            children: (0, import_jsx_runtime2.jsx)(\n              Content,\n              {\n                \"data-state\": getState(context.open),\n                role: \"dialog\",\n                id: context.contentId,\n                ...popperScope,\n                ...contentProps,\n                ref: forwardedRef,\n                style: {\n                  ...contentProps.style,\n                  // re-namespace exposed content custom properties\n                  ...{\n                    \"--radix-popover-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n                    \"--radix-popover-content-available-width\": \"var(--radix-popper-available-width)\",\n                    \"--radix-popover-content-available-height\": \"var(--radix-popper-available-height)\",\n                    \"--radix-popover-trigger-width\": \"var(--radix-popper-anchor-width)\",\n                    \"--radix-popover-trigger-height\": \"var(--radix-popper-anchor-height)\"\n                  }\n                }\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nvar CLOSE_NAME = \"PopoverClose\";\nvar PopoverClose = React3.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...closeProps } = props;\n    const context = usePopoverContext(CLOSE_NAME, __scopePopover);\n    return (0, import_jsx_runtime2.jsx)(\n      Primitive.button,\n      {\n        type: \"button\",\n        ...closeProps,\n        ref: forwardedRef,\n        onClick: composeEventHandlers(props.onClick, () => context.onOpenChange(false))\n      }\n    );\n  }\n);\nPopoverClose.displayName = CLOSE_NAME;\nvar ARROW_NAME = \"PopoverArrow\";\nvar PopoverArrow = React3.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopePopover, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopePopover);\n    return (0, import_jsx_runtime2.jsx)(Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nPopoverArrow.displayName = ARROW_NAME;\nfunction getState(open) {\n  return open ? \"open\" : \"closed\";\n}\nvar Root22 = Popover;\nvar Anchor2 = PopoverAnchor;\nvar Trigger = PopoverTrigger;\nvar Portal2 = PopoverPortal;\nvar Content2 = PopoverContent;\nvar Close = PopoverClose;\nvar Arrow2 = PopoverArrow;\nexport {\n  Anchor2 as Anchor,\n  Arrow2 as Arrow,\n  Close,\n  Content2 as Content,\n  Popover,\n  PopoverAnchor,\n  PopoverArrow,\n  PopoverClose,\n  PopoverContent,\n  PopoverPortal,\n  PopoverTrigger,\n  Portal2 as Portal,\n  Root22 as Root,\n  Trigger,\n  createPopoverScope\n};\n//# sourceMappingURL=@radix-ui_react-popover.js.map\n","path":null,"size_bytes":18917,"size_tokens":null},"client/src/components/gallery-editor.tsx":{"content":"import { useState, useRef, useCallback } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { X, Upload, GripVertical, Image as ImageIcon, Plus, Link as LinkIcon } from \"lucide-react\";\n\ninterface GalleryEditorProps {\n  images: string[];\n  onChange: (images: string[]) => void;\n  maxImages?: number;\n}\n\nexport default function GalleryEditor({ images, onChange, maxImages = 10 }: GalleryEditorProps) {\n  const [isDragging, setIsDragging] = useState(false);\n  const [draggedIndex, setDraggedIndex] = useState<number | null>(null);\n  const [dragOverIndex, setDragOverIndex] = useState<number | null>(null);\n  const [showUrlInput, setShowUrlInput] = useState(false);\n  const [urlInput, setUrlInput] = useState(\"\");\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileSelect = useCallback(async (files: FileList | null) => {\n    if (!files) return;\n    \n    const remainingSlots = maxImages - images.length;\n    const filesToProcess = Array.from(files).slice(0, remainingSlots);\n    \n    const newImages: string[] = [];\n    \n    for (const file of filesToProcess) {\n      if (file.type.startsWith(\"image/\")) {\n        const base64 = await fileToBase64(file);\n        newImages.push(base64);\n      }\n    }\n    \n    if (newImages.length > 0) {\n      onChange([...images, ...newImages]);\n    }\n  }, [images, maxImages, onChange]);\n\n  const fileToBase64 = (file: File): Promise<string> => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = () => resolve(reader.result as string);\n      reader.onerror = reject;\n      reader.readAsDataURL(file);\n    });\n  };\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n    \n    if (e.dataTransfer.files.length > 0) {\n      handleFileSelect(e.dataTransfer.files);\n    }\n  }, [handleFileSelect]);\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n  };\n\n  const handleDragLeave = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n  };\n\n  const removeImage = (index: number) => {\n    const newImages = [...images];\n    newImages.splice(index, 1);\n    onChange(newImages);\n  };\n\n  const handleImageDragStart = (e: React.DragEvent, index: number) => {\n    setDraggedIndex(index);\n    e.dataTransfer.effectAllowed = \"move\";\n  };\n\n  const handleImageDragOver = (e: React.DragEvent, index: number) => {\n    e.preventDefault();\n    if (draggedIndex !== null && draggedIndex !== index) {\n      setDragOverIndex(index);\n    }\n  };\n\n  const handleImageDragEnd = () => {\n    if (draggedIndex !== null && dragOverIndex !== null && draggedIndex !== dragOverIndex) {\n      const newImages = [...images];\n      const [removed] = newImages.splice(draggedIndex, 1);\n      newImages.splice(dragOverIndex, 0, removed);\n      onChange(newImages);\n    }\n    setDraggedIndex(null);\n    setDragOverIndex(null);\n  };\n\n  const handleAddUrl = () => {\n    if (urlInput.trim() && images.length < maxImages) {\n      onChange([...images, urlInput.trim()]);\n      setUrlInput(\"\");\n      setShowUrlInput(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <Label className=\"text-base font-medium\">Gallery Images ({images.length}/{maxImages})</Label>\n        <div className=\"flex gap-2\">\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => setShowUrlInput(!showUrlInput)}\n            disabled={images.length >= maxImages}\n          >\n            <LinkIcon className=\"w-4 h-4 mr-1\" />\n            Add URL\n          </Button>\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => fileInputRef.current?.click()}\n            disabled={images.length >= maxImages}\n          >\n            <Upload className=\"w-4 h-4 mr-1\" />\n            Upload\n          </Button>\n        </div>\n      </div>\n\n      {showUrlInput && (\n        <div className=\"flex gap-2\">\n          <Input\n            placeholder=\"Paste image URL...\"\n            value={urlInput}\n            onChange={(e) => setUrlInput(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && handleAddUrl()}\n          />\n          <Button type=\"button\" size=\"sm\" onClick={handleAddUrl}>\n            <Plus className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      )}\n\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\"image/*\"\n        multiple\n        className=\"hidden\"\n        onChange={(e) => handleFileSelect(e.target.files)}\n      />\n\n      <div\n        className={`\n          border-2 border-dashed rounded-lg p-4 transition-colors\n          ${isDragging ? \"border-primary bg-primary/5\" : \"border-muted-foreground/25\"}\n          ${images.length === 0 ? \"min-h-[150px]\" : \"min-h-[100px]\"}\n        `}\n        onDrop={handleDrop}\n        onDragOver={handleDragOver}\n        onDragLeave={handleDragLeave}\n      >\n        {images.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center h-full text-muted-foreground py-8\">\n            <ImageIcon className=\"w-12 h-12 mb-2 opacity-50\" />\n            <p className=\"text-sm\">Drag and drop images here</p>\n            <p className=\"text-xs\">or click Upload to browse</p>\n          </div>\n        ) : (\n          <div className=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3\">\n            {images.map((image, index) => (\n              <div\n                key={index}\n                draggable\n                onDragStart={(e) => handleImageDragStart(e, index)}\n                onDragOver={(e) => handleImageDragOver(e, index)}\n                onDragEnd={handleImageDragEnd}\n                className={`\n                  relative group aspect-square rounded-lg overflow-hidden border-2 cursor-move\n                  ${draggedIndex === index ? \"opacity-50\" : \"\"}\n                  ${dragOverIndex === index ? \"border-primary\" : \"border-transparent\"}\n                `}\n              >\n                <img\n                  src={image}\n                  alt={`Gallery image ${index + 1}`}\n                  className=\"w-full h-full object-cover\"\n                  onError={(e) => {\n                    (e.target as HTMLImageElement).src = \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100'%3E%3Crect fill='%23f0f0f0' width='100' height='100'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%23999' font-size='12'%3EError%3C/text%3E%3C/svg%3E\";\n                  }}\n                />\n                <div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2\">\n                  <div className=\"text-white\">\n                    <GripVertical className=\"w-5 h-5\" />\n                  </div>\n                </div>\n                <button\n                  type=\"button\"\n                  onClick={() => removeImage(index)}\n                  className=\"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600\"\n                >\n                  <X className=\"w-3 h-3\" />\n                </button>\n                {index === 0 && (\n                  <div className=\"absolute bottom-1 left-1 bg-primary text-white text-xs px-2 py-0.5 rounded\">\n                    Main\n                  </div>\n                )}\n              </div>\n            ))}\n            {images.length < maxImages && (\n              <button\n                type=\"button\"\n                onClick={() => fileInputRef.current?.click()}\n                className=\"aspect-square rounded-lg border-2 border-dashed border-muted-foreground/25 flex flex-col items-center justify-center text-muted-foreground hover:border-primary hover:text-primary transition-colors\"\n              >\n                <Plus className=\"w-6 h-6\" />\n                <span className=\"text-xs mt-1\">Add</span>\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n      \n      <p className=\"text-xs text-muted-foreground\">\n        Drag images to reorder. First image will be the main display image.\n      </p>\n    </div>\n  );\n}\n","path":null,"size_bytes":8429,"size_tokens":null},"client/src/pages/privacy-policy.tsx":{"content":"import Layout from \"@/components/layout\";\nimport { useStore } from \"@/lib/store-context\";\n\nexport default function PrivacyPolicyPage() {\n  const { websiteSettings } = useStore();\n\n  return (\n    <Layout>\n      <div className=\"bg-gradient-to-b from-primary to-primary/90 text-white py-20\">\n        <div className=\"container mx-auto px-6 text-center\">\n          <h1 className=\"font-serif text-4xl md:text-5xl font-bold mb-4\">Privacy Policy</h1>\n          <p className=\"text-lg text-white/80\">Last updated: {new Date().toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' })}</p>\n        </div>\n      </div>\n\n      <div className=\"container mx-auto px-6 py-16\">\n        <div className=\"max-w-4xl mx-auto prose prose-lg\">\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">1. Introduction</h2>\n            <p className=\"text-muted-foreground leading-relaxed\">\n              Welcome to {websiteSettings.name}. We are committed to protecting your personal information and your right to privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website and use our services.\n            </p>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">2. Information We Collect</h2>\n            <p className=\"text-muted-foreground leading-relaxed mb-4\">\n              We collect information that you provide directly to us, including:\n            </p>\n            <ul className=\"list-disc pl-6 text-muted-foreground space-y-2\">\n              <li>Personal identification information (name, email address, phone number)</li>\n              <li>Billing and payment information</li>\n              <li>Travel preferences and booking history</li>\n              <li>Communications and correspondence with us</li>\n              <li>Account login credentials</li>\n            </ul>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">3. How We Use Your Information</h2>\n            <p className=\"text-muted-foreground leading-relaxed mb-4\">\n              We use the information we collect to:\n            </p>\n            <ul className=\"list-disc pl-6 text-muted-foreground space-y-2\">\n              <li>Process and manage your travel bookings</li>\n              <li>Send booking confirmations and travel updates</li>\n              <li>Provide customer support and respond to inquiries</li>\n              <li>Send promotional communications (with your consent)</li>\n              <li>Improve our services and user experience</li>\n              <li>Comply with legal obligations</li>\n            </ul>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">4. Information Sharing</h2>\n            <p className=\"text-muted-foreground leading-relaxed\">\n              We may share your personal information with third parties only in the following circumstances: with travel service providers (hotels, airlines, car rental companies) to fulfill your bookings; with payment processors to complete transactions; with service providers who assist in our operations; when required by law or to protect our rights; and with your consent.\n            </p>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">5. Data Security</h2>\n            <p className=\"text-muted-foreground leading-relaxed\">\n              We implement appropriate technical and organizational security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction. However, no method of transmission over the Internet is 100% secure, and we cannot guarantee absolute security.\n            </p>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">6. Your Rights</h2>\n            <p className=\"text-muted-foreground leading-relaxed mb-4\">\n              Depending on your location, you may have the following rights regarding your personal data:\n            </p>\n            <ul className=\"list-disc pl-6 text-muted-foreground space-y-2\">\n              <li>Right to access your personal information</li>\n              <li>Right to correct inaccurate data</li>\n              <li>Right to request deletion of your data</li>\n              <li>Right to restrict or object to processing</li>\n              <li>Right to data portability</li>\n              <li>Right to withdraw consent</li>\n            </ul>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">7. Cookies and Tracking</h2>\n            <p className=\"text-muted-foreground leading-relaxed\">\n              We use cookies and similar tracking technologies to collect information about your browsing activities. You can control cookies through your browser settings. Some cookies are essential for the website to function properly.\n            </p>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">8. Children's Privacy</h2>\n            <p className=\"text-muted-foreground leading-relaxed\">\n              Our services are not directed to children under 18 years of age. We do not knowingly collect personal information from children. If you believe we have collected information from a child, please contact us immediately.\n            </p>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">9. Changes to This Policy</h2>\n            <p className=\"text-muted-foreground leading-relaxed\">\n              We may update this Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the \"Last updated\" date.\n            </p>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">10. Contact Us</h2>\n            <p className=\"text-muted-foreground leading-relaxed\">\n              If you have any questions about this Privacy Policy or our data practices, please contact us at:\n            </p>\n            <div className=\"mt-4 p-6 bg-muted/30 rounded-lg\">\n              <p className=\"font-semibold text-primary\">{websiteSettings.name}</p>\n              {websiteSettings.contactEmail && <p className=\"text-muted-foreground\">Email: {websiteSettings.contactEmail}</p>}\n              {websiteSettings.contactPhone && <p className=\"text-muted-foreground\">Phone: {websiteSettings.contactPhone}</p>}\n              {websiteSettings.contactAddress && <p className=\"text-muted-foreground\">Address: {websiteSettings.contactAddress}</p>}\n            </div>\n          </section>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n","path":null,"size_bytes":7125,"size_tokens":null},"client/src/pages/terms-of-service.tsx":{"content":"import Layout from \"@/components/layout\";\nimport { useStore } from \"@/lib/store-context\";\n\nexport default function TermsOfServicePage() {\n  const { websiteSettings } = useStore();\n\n  return (\n    <Layout>\n      <div className=\"bg-gradient-to-b from-primary to-primary/90 text-white py-20\">\n        <div className=\"container mx-auto px-6 text-center\">\n          <h1 className=\"font-serif text-4xl md:text-5xl font-bold mb-4\">Terms of Service</h1>\n          <p className=\"text-lg text-white/80\">Last updated: {new Date().toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' })}</p>\n        </div>\n      </div>\n\n      <div className=\"container mx-auto px-6 py-16\">\n        <div className=\"max-w-4xl mx-auto prose prose-lg\">\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">1. Acceptance of Terms</h2>\n            <p className=\"text-muted-foreground leading-relaxed\">\n              By accessing and using {websiteSettings.name}'s website and services, you accept and agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our services.\n            </p>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">2. Services Description</h2>\n            <p className=\"text-muted-foreground leading-relaxed\">\n              {websiteSettings.name} provides luxury travel booking services, including but not limited to: hotel reservations, trip packages, private transportation arrangements, and last-minute travel deals. We act as an intermediary between you and travel service providers.\n            </p>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">3. User Accounts</h2>\n            <p className=\"text-muted-foreground leading-relaxed mb-4\">\n              To access certain features of our services, you may need to create an account. You agree to:\n            </p>\n            <ul className=\"list-disc pl-6 text-muted-foreground space-y-2\">\n              <li>Provide accurate and complete registration information</li>\n              <li>Maintain the security of your account credentials</li>\n              <li>Notify us immediately of any unauthorized access</li>\n              <li>Accept responsibility for all activities under your account</li>\n            </ul>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">4. Booking and Reservations</h2>\n            <p className=\"text-muted-foreground leading-relaxed mb-4\">\n              When making a booking through our platform:\n            </p>\n            <ul className=\"list-disc pl-6 text-muted-foreground space-y-2\">\n              <li>All bookings are subject to availability and confirmation</li>\n              <li>Prices are subject to change until booking is confirmed</li>\n              <li>You are responsible for providing accurate traveler information</li>\n              <li>Specific terms of each travel provider also apply</li>\n            </ul>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">5. Payment Terms</h2>\n            <p className=\"text-muted-foreground leading-relaxed mb-4\">\n              Payment for bookings must be made through our accepted payment methods. By providing payment information, you represent that you are authorized to use the payment method. All payments are processed securely through our payment partners.\n            </p>\n            <ul className=\"list-disc pl-6 text-muted-foreground space-y-2\">\n              <li>Full payment or deposit may be required at time of booking</li>\n              <li>Prices are displayed in the currency indicated</li>\n              <li>Additional fees may apply (taxes, service charges)</li>\n            </ul>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">6. Cancellation and Refund Policy</h2>\n            <p className=\"text-muted-foreground leading-relaxed mb-4\">\n              Cancellation policies vary depending on the type of booking and travel provider:\n            </p>\n            <ul className=\"list-disc pl-6 text-muted-foreground space-y-2\">\n              <li>Free cancellation periods may apply to certain bookings</li>\n              <li>Cancellation fees may be charged based on timing</li>\n              <li>Non-refundable bookings are clearly marked</li>\n              <li>Refunds are processed to the original payment method</li>\n              <li>Processing time for refunds may vary</li>\n            </ul>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">7. User Conduct</h2>\n            <p className=\"text-muted-foreground leading-relaxed mb-4\">\n              You agree not to:\n            </p>\n            <ul className=\"list-disc pl-6 text-muted-foreground space-y-2\">\n              <li>Use our services for any unlawful purpose</li>\n              <li>Provide false or misleading information</li>\n              <li>Interfere with the proper functioning of the website</li>\n              <li>Attempt to gain unauthorized access to our systems</li>\n              <li>Reproduce or redistribute our content without permission</li>\n              <li>Use automated systems to access our services</li>\n            </ul>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">8. Intellectual Property</h2>\n            <p className=\"text-muted-foreground leading-relaxed\">\n              All content on our website, including text, graphics, logos, images, and software, is the property of {websiteSettings.name} or its content suppliers and is protected by intellectual property laws. You may not use, reproduce, or distribute any content without our express written permission.\n            </p>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">9. Limitation of Liability</h2>\n            <p className=\"text-muted-foreground leading-relaxed\">\n              {websiteSettings.name} acts as an intermediary and is not liable for: acts, errors, or omissions of travel service providers; personal injury, property damage, or other damages arising from travel; delays, cancellations, or changes by travel providers; force majeure events. Our maximum liability is limited to the fees paid for our services.\n            </p>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">10. Indemnification</h2>\n            <p className=\"text-muted-foreground leading-relaxed\">\n              You agree to indemnify and hold harmless {websiteSettings.name}, its officers, directors, employees, and agents from any claims, damages, losses, or expenses arising from your use of our services or violation of these terms.\n            </p>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">11. Third-Party Links</h2>\n            <p className=\"text-muted-foreground leading-relaxed\">\n              Our website may contain links to third-party websites. We are not responsible for the content, privacy policies, or practices of these external sites. We encourage you to review the terms and privacy policies of any third-party sites you visit.\n            </p>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">12. Modifications to Terms</h2>\n            <p className=\"text-muted-foreground leading-relaxed\">\n              We reserve the right to modify these Terms of Service at any time. Changes will be effective immediately upon posting to the website. Your continued use of our services after changes constitutes acceptance of the modified terms.\n            </p>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">13. Governing Law</h2>\n            <p className=\"text-muted-foreground leading-relaxed\">\n              These Terms of Service shall be governed by and construed in accordance with applicable laws. Any disputes arising from these terms or your use of our services shall be resolved through appropriate legal channels.\n            </p>\n          </section>\n\n          <section className=\"mb-12\">\n            <h2 className=\"font-serif text-2xl font-bold text-primary mb-4\">14. Contact Information</h2>\n            <p className=\"text-muted-foreground leading-relaxed\">\n              For questions or concerns regarding these Terms of Service, please contact us:\n            </p>\n            <div className=\"mt-4 p-6 bg-muted/30 rounded-lg\">\n              <p className=\"font-semibold text-primary\">{websiteSettings.name}</p>\n              {websiteSettings.contactEmail && <p className=\"text-muted-foreground\">Email: {websiteSettings.contactEmail}</p>}\n              {websiteSettings.contactPhone && <p className=\"text-muted-foreground\">Phone: {websiteSettings.contactPhone}</p>}\n              {websiteSettings.contactAddress && <p className=\"text-muted-foreground\">Address: {websiteSettings.contactAddress}</p>}\n            </div>\n          </section>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n","path":null,"size_bytes":9686,"size_tokens":null},"client/src/lib/currency.ts":{"content":"export const CURRENCY_SYMBOLS: Record<string, string> = {\n  EUR: \"â‚¬\",\n  USD: \"$\",\n  GBP: \"Â£\",\n  CHF: \"CHF\",\n  AED: \"AED\",\n  JPY: \"Â¥\",\n};\n\nexport const CURRENCY_RATES: Record<string, number> = {\n  EUR: 1,\n  USD: 1.08,\n  GBP: 0.86,\n  CHF: 0.94,\n  AED: 3.97,\n  JPY: 162.5,\n};\n\nexport function getCurrencySymbol(currency: string): string {\n  return CURRENCY_SYMBOLS[currency] || currency;\n}\n\nexport function convertCurrency(amountInEur: number, toCurrency: string): number {\n  const rate = CURRENCY_RATES[toCurrency] || 1;\n  return amountInEur * rate;\n}\n\nexport function formatPrice(price: string, targetCurrency: string = \"EUR\"): string {\n  const numericMatch = price.match(/[\\d.,]+/);\n  if (!numericMatch) return price;\n  \n  const numericValue = parseFloat(numericMatch[0].replace(/,/g, \"\"));\n  if (isNaN(numericValue)) return price;\n  \n  const convertedValue = convertCurrency(numericValue, targetCurrency);\n  const symbol = getCurrencySymbol(targetCurrency);\n  \n  if (targetCurrency === \"JPY\") {\n    return `${symbol}${Math.round(convertedValue).toLocaleString()}`;\n  }\n  \n  return `${symbol}${convertedValue.toFixed(2).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}`;\n}\n\nexport function formatPriceWithUnit(price: string, targetCurrency: string = \"EUR\", unit?: string): string {\n  const formatted = formatPrice(price, targetCurrency);\n  if (unit) {\n    return `${formatted}/${unit}`;\n  }\n  return formatted;\n}\n","path":null,"size_bytes":1407,"size_tokens":null}},"version":2}